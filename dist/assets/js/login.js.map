{"version":3,"sources":["webpack:///./src/assets/css/style.css","webpack:///./src/pages/login/app.vue","webpack:///app.vue","webpack:///./src/assets/js/appp.js","webpack:///./src/assets/js/mui.enterfocus.js","webpack:///./src/assets/js/mui.js","webpack:///./src/pages/login/app.js","webpack:///./src/assets/js/mui.enterfocus.js?0aa2","webpack:///./src/assets/js/mui.js?ece6","webpack:///./src/pages/login/app.vue?908c","webpack:///./src/pages/login/app.vue?cf77"],"names":["app","login","loginInfo","callback","$","noop","mobile","password","device","plus","vendor","model","screen","resolutionWidth","resolutionHeight","sys","os","name","version","no","uuid","phonereg","test","passwordreg","mui","ajax","data","dataType","type","timeout","success","ret","obj","ticket","expire_timestamp","user","console","log","JSON","stringify","setState","setAllReginfo","err","error","xhr","errorThrown","nativeUI","toast","reg","regInfo","noNull","code","setReginfo","getReginfo","info","nickname","gender","provinceid","setAllReginfolin","selectgame","games","getState","stateText","storage","getItem","parse","state","setItem","value","reginfo","getReginfolin","setReginfolin","checkEmail","email","length","indexOf","forgetPassword","setSettings","settings","localStorage","getSettings","settingsText","isInstalled","id","android","main","runtimeMainActivity","packageManager","getPackageManager","PackageManager","importClass","packageName","getPackageInfo","GET_ACTIVITIES","e","TencentOAuth","ios","import","iphoneQQInstalled","WXApi","isWXAppInstalled","SinaAPI","isWeiboAppInstalled","getverificationCode","phonenum","gotoLogView","openWindow","url","webview","getWebviewById","runtime","appid","getURL","preload","show","aniShow","styles","popGesture","waiting","autoShow","extras","main_loaded","enterfocus","selector","boxArray","slice","call","document","querySelectorAll","index","box","addEventListener","event","keyCode","boxIndex","nextBox","focus","window","undefined","readyRE","idSelectorRE","classSelectorRE","tagSelectorRE","translateRE","translateMatrixRE","context","wrap","isArrayLike","ready","trim","found","getElementById","RegExp","$1","qsa","dom","Object","setPrototypeOf","fn","extend","options","src","copy","copyIsArray","clone","target","arguments","i","deep","isFunction","isPlainObject","isArray","filter","String","class2type","toString","Array","object","isWindow","isObject","getPrototypeOf","prototype","isEmptyObject","o","p","getElementsByClassName","getElementsByTagName","readyState","buffer","ms","timer","lastStart","lastEnd","run","cancel","now","apply","later","stop","each","elements","hasOwnProperty","every","el","idx","key","element","setTimeout","trigger","eventType","eventData","dispatchEvent","CustomEvent","detail","bubbles","cancelable","getStyles","property","ownerDocument","defaultView","getComputedStyle","getPropertyValue","parseTranslate","translateString","position","result","match","split","x","parseFloat","y","z","parseTranslateMatrix","matrix","is3D","push","hooks","addAction","hook","sort","a","b","doAction","handle","when","m","d","f","r","clearTimeout","Date","toLowerCase","parseJSON","define","detect","ua","funcs","wechat","replace","isBadAndroid","navigator","appVersion","iphone","ipad","func","userAgent","body","classList","add","stream","isTouchable","EVENT_START","EVENT_MOVE","EVENT_END","EVENT_CANCEL","EVENT_CLICK","_mid","delegates","eventMethods","preventDefault","stopImmediatePropagation","stopPropagation","returnTrue","returnFalse","compatible","currentTarget","predicate","sourceMethod","mid","delegateFns","delegateFn","callbackObjs","handlerQueue","selectorAlls","parentNode","disabled","contains","matches","callbacks","handlers","handler","tagName","gesture","isPropagationStopped","findDelegateFn","delegateCallbacks","filterFn","preventDefaultException","on","isAddEventListener","delegateEvents","delegateCallbackObjs","delegateFnArray","delegateCallback","href","off","splice","forEach","removeEventListener","bind","targets","targetHandles","registerTarget","founds","isFound","targetHandle","isContinue","isReset","proto","params","evt","createEvent","initEvent","Event","Function","to","partial","bound","args","concat","documentElement","defineProperty","HTMLElement","get","self","update","classes","className","join","remove","toggle","item","requestAnimationFrame","lastTime","webkitRequestAnimationFrame","currTime","getTime","timeToCall","Math","max","cancelAnimationFrame","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","FastClick","querySelector","targetElement","click","clickEvent","touch","activeElement","blur","changedTouches","initMouseEvent","screenX","screenY","clientX","clientY","forwardedTouchEvent","propagationStopped","CLASS_FOCUSIN","CLASS_BAR_TAB","CLASS_BAR_FOOTER","CLASS_BAR_FOOTER_SECONDARY","CLASS_BAR_FOOTER_SECONDARY_TAB","currentWebview","children","readOnly","isFooter","scrollTop","scrollHeight","scrollLeft","scrollTo","namespace","classNamePrefix","classSelectorPrefix","classSelector","eventName","module","gestures","session","addGesture","round","abs","sqrt","atan","atan2","getDistance","p1","p2","props","getScale","starts","moves","getAngle","PI","getDirection","getRotation","start","end","getVelocity","deltaTime","stoped","gestureConfig","hasParent","node","parent","uniqueArray","results","values","val","sortUniqueArray","getMultiCenter","touches","touchesLength","pageX","pageY","multiTouch","pinch","copySimpleTouchData","timestamp","center","deltaX","deltaY","calDelta","offset","offsetDelta","prevDelta","prevTouch","calTouchData","firstTouch","firstMultiTouch","offsetCenter","angle","distance","offsetDirection","scale","rotation","calIntervalTouchData","CAL_INTERVAL","last","lastInterval","velocity","velocityX","velocityY","direction","v","targetIds","convertTouches","getTouches","allTouches","targetTouches","changedTargetTouches","identifier","sessionTarget","changedTouchesLength","isFirst","isFinal","handleTouchEvent","popover","tab","offcanvas","modal","isScrolling","scrollingTimeout","flickStartTime","flickStart","flick","flickMaxTime","flickMinDistince","flickTime","flickDistanceX","flickDistanceY","swipe","swipeMaxTime","swipeMinDistince","lockDirection","startDirection","drag","fingers","lastTarget","lastTapTime","tapMaxDistance","tapMaxTime","doubletap","tapMaxInterval","holdTimeout","holdThreshold","hold","lastScale","scaleDiff","minRotationAngle","global","tap","longtap","initGlobal","inits","isInitialized","init","isInit","repeat","addInit","subpages","createIframe","wrapper","createElement","top","bottom","style","iframe","appendChild","handleScroll","location","onload","setInterval","_scrollTop","scrollY","osObj","classArray","defaultOptions","swipeBack","preloadPages","preloadLimit","keyEventBind","backbutton","menubutton","defaultShow","duration","isHomePage","waitingOptions","title","showOptions","windowOptions","scalable","bounce","plusReady","receive","fire","evalJS","triggerPreload","preloaded","list","timeChecked","webviewCache","nShow","nWaiting","webviews","afterShowMethodName","createNew","Error","waitingConfig","showWaiting","createWindow","showWebview","close","showed","isCreate","create","subpage","subpageId","subWebview","append","preloads","first","shift","closeAll","closeOpened","opened","len","openedWebview","open_open","createWindows","option","appendWebview","statusBarBackground","setStatusBarBackground","display","supportStatusbarOffset","addBack","back","history","beforeback","action","_popover","offCanvas","previewImage","getPreviewImage","isShown","closePopup","__back__first","wobj","canBack","quit","hide","menu","__back","__menu","pullRefreshOptions","pullRefresh","hasPulldown","down","hasPullup","up","container","$container","upOptions","webviewId","downOptions","jsonType","htmlType","rscript","scriptTypeRE","xmlTypeRE","blankRE","ajaxSettings","beforeSend","complete","protocol","XMLHttpRequest","accepts","script","json","xml","html","text","processData","cache","ajaxBeforeSend","ajaxSuccess","ajaxComplete","ajaxError","status","serialize","traditional","scope","array","hash","serializeData","contentType","headers","param","toUpperCase","appendQuery","query","mimeToDataType","mime","parseArguments","setHeader","nativeSetHeader","setRequestHeader","abortTimeout","mimeType","overrideMimeType","onreadystatechange","isLocal","responseText","getResponseHeader","eval","responseXML","statusText","abort","xhrFields","async","open","username","send","k","encodeURIComponent","post","getJSON","load","parts","response","div","innerHTML","selectorDiv","childs","originAnchor","crossDomain","net","urlAnchor","host","left","getBoundingClientRect","pageYOffset","clientTop","pageXOffset","clientLeft","scroll","distaince","animationFrame","cb","isQueued","initializing","fnTest","xyz","Class","prop","_super","tmp","constructor","callee","CLASS_PULL_TOP_POCKET","CLASS_PULL_BOTTOM_POCKET","CLASS_PULL","CLASS_PULL_LOADING","CLASS_PULL_CAPTION","CLASS_PULL_CAPTION_DOWN","CLASS_PULL_CAPTION_REFRESH","CLASS_PULL_CAPTION_NOMORE","CLASS_ICON","CLASS_SPINNER","CLASS_ICON_PULLDOWN","CLASS_BLOCK","CLASS_HIDDEN","CLASS_VISIBILITY","CLASS_LOADING_UP","CLASS_LOADING_DOWN","CLASS_LOADING","pocketHtml","PullRefresh","scrollX","indicators","deceleration","height","contentinit","contentdown","contentover","contentrefresh","auto","contentnomore","_init","_initPocket","_initPulldownRefresh","pulldown","pullPocket","topPocket","pullCaption","topCaption","pullLoading","topLoading","_initPullupRefresh","bottomPocket","bottomCaption","bottomLoading","scroller","_createPocket","insertBefore","firstChild","clazz","iconClass","pocket","_resetPullDownLoading","loading","webkitTransition","webkitTransform","webkitAnimation","_setCaptionClass","isPulldown","caption","_setCaption","reset","lastTitle","CLASS_SCROLL","CLASS_SCROLLBAR","CLASS_INDICATOR","CLASS_SCROLLBAR_VERTICAL","CLASS_SCROLLBAR_HORIZONTAL","CLASS_ACTIVE","ease","quadratic","circular","outCirc","outCubic","Scroll","scrollerStyle","stopped","startX","startY","hardwareAccelerated","fixedBadAndorid","momentum","snapX","snap","bounceTime","bounceEasing","scrollTime","scrollEasing","directionLockThreshold","parallaxElement","parallaxRatio","translateZ","refresh","_initParallax","_initIndicators","_initEvent","parallaxStyle","parallaxHeight","offsetHeight","parallaxImgStyle","indicator","_createScrollBar","listenX","listenY","Indicator","_initSnap","currentPage","pages","snaps","n","leftX","rightX","offsetLeft","offsetWidth","_getSnapX","maxScrollX","min","wrapperWidth","_gotoPage","_nearestSnap","nearestX","detach","segmentedControl","_handleIndicatorScrollend","map","fade","_handleIndicatorScrollstart","_handleIndicatorRefresh","handleEvent","resetPosition","_start","_drag","_flick","_end","transitionTimer","_transitionEnd","_scrollend","_resize","moved","needReset","_transitionTime","isInTransition","pos","setTranslate","reLayout","_getDirectionByAngle","innerHeight","isPreventDefault","isReturn","absDeltaX","absDeltaY","hasHorizontalScroll","hasVerticalScroll","newX","newY","maxScrollY","_updateTranslate","_clearRequestAnimationFrame","time","easing","momentumX","_momentum","destination","momentumY","wrapperHeight","that","resizeTimeout","resizePolling","transitionTime","_transitionTimingFunction","transitionTimingFunction","_translate","lastX","lastY","scrollbar","scrollbarY","scrollbarIndicatorY","scrollbarX","scrollbarIndicatorX","_preventDefaultException","exceptions","_reLayout","scrollerWidth","scrollerHeight","items","itemLength","current","lowerMargin","wrapperSize","speed","_getTranslateStr","setStopped","parallaxY","updatePosition","paddingLeft","paddingRight","paddingTop","paddingBottom","clientWidth","clientHeight","_reInit","groups","scrollToBottom","gotoPage","destroy","getAttribute","setAttribute","wrapperStyle","indicatorStyle","speedRatioX","speedRatioY","sizeRatioX","sizeRatioY","maxPosX","maxPosY","opacity","indicatorWidth","width","minBoundaryX","maxBoundaryX","indicatorHeight","minBoundaryY","maxBoundaryY","visible","fadeTimeout","delay","scrollApis","scrollApi","_options","_scrollbottom","pullupLoading","pulldownLoading","endPulldownToRefresh","endPullupToRefresh","finished","disablePullupToRefresh","enablePullupToRefresh","pullRefreshApi","autoY","CLASS_SLIDER","CLASS_SLIDER_GROUP","CLASS_SLIDER_LOOP","CLASS_SLIDER_INDICATOR","CLASS_ACTION_PREVIOUS","CLASS_ACTION_NEXT","CLASS_SLIDER_ITEM","SELECTOR_SLIDER_ITEM","SELECTOR_SLIDER_INDICATOR","SELECTOR_SLIDER_PROGRESS_BAR","Slider","interval","slideTime","progressBar","progressBarWidth","progressBarStyle","_initTimer","_triggerSlide","page","slideNumber","_fixedSlideNumber","loop","lastSlideNumber","lastPage","_handleSlide","temps","_slideNumber","indicatorWrap","number","innerText","controlItems","_handleTabShow","gotoItem","tabNumber","_handleIndicatorTap","slidershowTimer","slider","nextItem","_getScroll","_getPage","isFlick","_gotoItem","prevItem","getSlideNumber","sliderElement","CLASS_PLUS_PULLREFRESH","PlusPullRefresh","_initPulldownRefreshEvent","scrollInterval","isScroll","setBounce","changeoffset","setStyle","_pulldownLoading","childWebview","_endPulldownToRefresh","endPullToRefresh","isLoading","attrWebviewId","CLASS_OFF_CANVAS_LEFT","CLASS_OFF_CANVAS_RIGHT","CLASS_ACTION_BACKDROP","CLASS_OFF_CANVAS_WRAP","CLASS_SLIDE_IN","CLASS_TRANSITIONING","SELECTOR_INNER_WRAP","OffCanvas","dragThresholdX","slideIn","offCanvasLefts","offCanvasRights","offCanvasLeft","offCanvasRight","offCanvasRightWidth","offCanvasLeftWidth","offCanvasLeftSlideIn","offCanvasRightSlideIn","backdrop","offsetX","lastTranslateX","_dispatchEvent","isDragging","offCanvasWidth","getTranslateX","_initOffCanvasVisible","updateTranslate","ratio","openPercentage","visibility","percentage","setTranslateX","leftShowing","rightShowing","zIndex","percent","zoomOutScale","zoomInScale","zoomOutOpacity","zoomInOpacity","webkitTransformOrigin","shown","directionOrOffCanvas","findOffCanvasContainer","_container","offCanvasApis","offCanvasApi","CLASS_ACTION","CLASS_MODAL","CLASS_POPOVER","CLASS_POPOVER_ARROW","CLASS_ACTION_POPOVER","CLASS_BACKDROP","CLASS_BAR_POPOVER","CLASS_BAR_BACKDROP","CLASS_BOTTOM","fixedPopoverScroll","isPopoverScroll","onPopoverShown","onPopoverHidden","removeBackdrop","removeBackdropTimer","removeChild","togglePopover","anchor","isActionSheet","calPosition","wWidth","innerWidth","wHeight","pWidth","pHeight","aWidth","aHeight","arrow","arrowSize","pTop","pLeft","diff","arrowLeft","defaultPadding","createMask","mask","_show","_remove","CLASS_CONTROL_ITEM","CLASS_SEGMENTED_CONTROL","CLASS_SEGMENTED_CONTROL_VERTICAL","CLASS_CONTROL_CONTENT","CLASS_TAB_BAR","CLASS_TAB_ITEM","targetTab","activeTab","activeBodies","targetBody","isLastActive","activeBody","contents","_contents","CLASS_SWITCH","CLASS_SWITCH_HANDLE","CLASS_DRAGGING","CLASS_DISABLED","SELECTOR_SWITCH_HANDLE","Toggle","toggleWidth","handleWidth","handleX","swiperight","webkitTransitionDuration","lastChanged","initialState","isActive","animate","isChanged","switchApis","switchApi","CLASS_SELECTED","CLASS_GRID_VIEW","CLASS_RADIO_VIEW","CLASS_TABLE_VIEW_CELL","CLASS_COLLAPSE_CONTENT","CLASS_TOGGLE","CLASS_BTN","CLASS_SLIDER_HANDLE","CLASS_SLIDER_LEFT","CLASS_SLIDER_RIGHT","SELECTOR_SLIDER_HANDLE","SELECTOR_SLIDER_LEFT","SELECTOR_SLIDER_RIGHT","SELECTOR_SELECTED","SELECTOR_BUTTON","overFactor","cell","isMoved","isOpened","openedActions","progress","sliderHandle","sliderActionLeft","sliderActionRight","buttonsLeft","buttonsRight","sliderDirection","sliderRequestAnimationFrame","translateX","sliderActionLeftWidth","sliderActionRightWidth","toggleActive","pow","buttonRight","_buttonOffset","buttonOffset","buttonLeft","isDisabled","selected","swipeoutClose","link","toggleEvents","dragend","swipeleft","translate","actionsWidth","isToggle","buttons","newTranslate","button","isRemove","method","swipeoutOpen","swipeoutAction","swipeoutWidth","radioOrCheckboxClick","input","checked","isExpand","ul","collapse","alert","message","btnValue","confirm","btnArray","prompt","defaultText","verticalAlign","CLASS_POPUP","CLASS_POPUP_BACKDROP","CLASS_POPUP_IN","CLASS_POPUP_OUT","CLASS_POPUP_INNER","CLASS_POPUP_TITLE","CLASS_POPUP_TEXT","CLASS_POPUP_INPUT","CLASS_POPUP_BUTTONS","CLASS_POPUP_BUTTON","CLASS_POPUP_BUTTON_BOLD","popupStack","createInput","placeholder","createInner","extra","createButtons","btns","createPopup","popupElement","removePopupElement","popup","pop","createAlert","createConfirm","createPrompt","closePopups","CLASS_PROGRESSBAR","CLASS_PROGRESSBAR_IN","CLASS_PROGRESSBAR_OUT","CLASS_PROGRESSBAR_INFINITE","SELECTOR_PROGRESSBAR","_findProgressbar","progressbars","progressbar","showProgressbar","color","_progressbar","setProgressbar","hideProgressbar","span","progressbarApis","progressbarApi","mui_plugin_progressbar","setOptions","setProgress","CLASS_ICON_CLEAR","CLASS_ICON_SPEECH","CLASS_ICON_SEARCH","CLASS_ICON_PASSWORD","CLASS_INPUT_ROW","CLASS_PLACEHOLDER","CLASS_TOOLTIP","SELECTOR_ICON_CLOSE","SELECTOR_ICON_SPEECH","SELECTOR_ICON_PASSWORD","SELECTOR_PLACEHOLDER","SELECTOR_TOOLTIP","findRow","Input","actions","sliderActionClass","sliderActionSelector","clearActionClass","clearActionSelector","speechActionClass","speechActionSelector","searchActionClass","searchActionSelector","passwordActionClass","passwordActionSelector","initAction","initElementEvent","row","sliderAction","createAction","searchAction","speechAction","speechActionClick","clearAction","clearActionClick","passwordAction","passwordActionClick","actionClass","actionSelector","nextSibling","tooltip","showTip","tooltipWidth","distince","scaleWidth","setPlaceholder","oldValue","speech","startRecognize","engine","s","stopRecognize","inputApis","inputApi","rgbaRegex","getColor","colorStr","Transparent","_style","_bgColor","backgroundColor","_R","_G","_B","_A","_bufferFn","destory","mui_plugin_transparent","transparent","transparentApis","transparentApi","touchSupport","tapEventName","changeEventName","holderClassName","plusClassSelector","minusClassSelector","inputClassSelector","Numbox","holder","step","parseInt","minus","checkValue","getValue","isNaN","setOption","numbox","instanceArray","optionsText","Vue","config","productionTip","render","h"],"mappings":";;;;;;;;;AAAA,yC;;;;;;;;ACCA;AACA,sBAA6P;;AAE7P;AACA;AACA;AACA;AACA,wBAAsG;AACtG;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgBA;;oBACA;oBACA;AACA;;yBAGA;AAFA;0BAIA;;AACA;gCACA;AACA;kFACA;AACA;+EACA;AACA;AACA;AACA;AACA;yCACA;oBACA;;gBAEA;iBACA;;4BAGA;AAFA;;yBAKA;AAFA;;0BAMA;AAHA;AATA;AAaA;AACA;AACA;AACA;;cAEA;eAEA;AAHA;2BAIA;AACA;4BACA;0BACA;2BACA;AACA;oDACA;2BACA;AACA;mCACA;AACA;AACA;yCACA;kCACA;4BACA;8BACA;2CACA;8BACA;mBACA;4BACA;AACA;WACA;AAEA;;AACA;AACA;AACA;qHACA;kDACA;gDACA;2BACA;AACA;AACA;AACA;oBACA;AACA;AACA;WACA;gFAEA;AAEA;;AACA;AACA;AACA;8CACA;6CACA;8CACA;4CACA;+CACA;yDACA;;+BAEA;kCAEA;AAHA;uGAIA;qBACA;oCACA;AACA;AACA;AACA;AACA;AACA;oDACA;iCACA;AAEA;;;cAEA;eAEA;AAHA;;cAKA;eAGA;AAJA;;uDAKA;4CACA;OACA;0DAEA;;6CACA;OACA;AACA;kDACA;+EACA;OACA;AACA;0BACA;gCACA;AACA;iCACA;yBACA;eACA;gCACA;AACA;+BACA;8BACA;WACA;eACA;AAEA;;kCACA;sFACA;wEACA;wBACA;gCACA;AACA;AACA;;qBAEA;oBACA;yBACA;;6BAGA;AAFA;;gCAKA;AAFA;;8BAMA;AAHA;AAVA;eAcA;wBACA;AACA;AACA;AACA;;AACA,+DAEA,I;;;;;;;AC3MA;AAAA;;;;;AAKI;;;AAGA,IAAIA,MAAI,EAAR;AACAA,IAAIC,KAAJ,GAAY,UAASC,SAAT,EAAoBC,QAApB,EAA8B;AACtCA,eAAWA,YAAYC,EAAEC,IAAzB;AACAH,gBAAYA,aAAa,EAAzB;AACAA,cAAUI,MAAV,GAAmBJ,UAAUI,MAAV,IAAoB,EAA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","file":"assets/js/login.js","sourcesContent":["// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/css/style.css\n// module id = 5\n// module chunks = 0","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!style-loader!css-loader!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-52016304\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./app.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-52016304\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./app.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login/app.vue\n// module id = 7\n// module chunks = 0","<template>\n    <div>\n      <header class=\"mui-bar mui-bar-nav\">\n        <h1 class=\"mui-title\">登录</h1>\n      </header>\n      <div class=\"mui-content\">\n          <form id='login-form' class=\"mui-input-group\">\n              <div class=\"mui-input-row\">\n                  <label class=\"iconuser\">&nbsp;</label>\n                  <input id='account' type=\"text\" class=\"mui-input-clear mui-input\" placeholder=\"请输入手机号\">\n              </div>\n              <div class=\"mui-input-row\">\n                  <label class=\"iconpassword\">&nbsp;</label>\n                  <input id='password' type=\"password\" class=\"mui-input-clear mui-input\" placeholder=\"请输入密码\">\n              </div>\n          </form>\n          <div>\n              <button id='login' class=\"mui-btn mui-btn-block mui-btn-cheng\">登 录</button>\n              <div class=\"link-area\"><a id='forgetPassword'>忘记密码</a></div>\n          </div>\n          <div class=\"bottom_area\">\n              <button id='reg' class=\"mui-btn-block mui-btn-zc\">新用户注册</button>\n              <div class=\"oauth-area\">\n              </div>\n          </div>\n      </div>\n    </div>\n    \n</template>\n\n<script>\n      require(\"expose-loader?mui!assets/js/mui.js\");\n      require(\"expose-loader?enterfocus!assets/js/mui.enterfocus.js\");\n      import {app} from 'assets/js/appp.js'\n        mui.init({\n            statusBarBackground: '#f7f7f7',\n        });\n        mui.plusReady(function() {\n\n            //仅支持竖屏显示\n            plus.screen.lockOrientation(\"portrait-primary\");\n            //获得setting系统配置\n            var settings = app.getSettings();\n            //获得用户的状态 状态中包括token和用户名\n            var state = app.getState();\n            /************************************************************************/\n            /*检查用户是否是第一次登录 如果是第一次登录 则跳转到用户欢迎页面               */\n            /************************************************************************/\n            //读取本地存储，检查是否为首次启动\n            var showGuide = plus.storage.getItem(\"lauchFlag\");\n            if (!showGuide) {\n                mui.openWindow({\n                    id: 'html/guide.html',\n                    url: 'html/guide.html',\n                    styles: {\n                        popGesture: \"none\"\n                    },\n                    show: {\n                        aniShow: 'none'\n                    },\n                    waiting: {\n                        autoShow: false\n                    }\n                });\n            };\n            /************************************************************************/\n            /*判断主页是否已经加载完毕了 并定义跳转函数tomain                            */\n            /************************************************************************/\n            var mainPage = mui.preload({\n                \"id\": 'index.html',\n                \"url\": 'index.html'\n            });\n            var main_loaded_flag = false;\n            //如果其他页面传来值，证明页面已经加载过了 不需要再判断页面是否已经加载完毕了；\n            var self = plus.webview.currentWebview();\n            if(self.main_loaded){\n                main_loaded_flag = true;\n            }\n            mainPage.addEventListener(\"loaded\", function() {\n                main_loaded_flag = true;\n            });\n            var toMain = function() {\n                //使用定时器的原因：\n                //可能执行太快，main页面loaded事件尚未触发就执行自定义事件，此时必然会失败\n                var id = setInterval(function() {\n                    if (main_loaded_flag) {\n                        console.log('首页预加载完成，进入首页');\n                        clearInterval(id);\n                        mui.fire(mainPage, 'show', null);\n                        mainPage.show(\"pop-in\");\n                    } else {\n                        console.log(\"首页预加载未完成，所以不能跳转到首页\");\n                    }\n                }, 20);\n            };\n\n            /************************************************************************/\n            /* 检查是否满足直接跳转首页                                          */\n            /************************************************************************/\n            var time = parseInt(app.getState().expire_timestamp); //获取token过期时间戳\n            var date = parseInt(Date.parse(new Date())) / 1000;\n            var isExpired = (time > date) ? true : false; //查看是否过期 未过期为true 过期为false\n            if (time && isExpired) {\n                //有自动登录和自动登录设置了 系统直接跳转到主页 后台说需要在后台验证一下 token是否过期 那就需要添加验证功能与后台交互\n                //登录成功后 后台直接返回一个过期时间的时间戳记录在本地 下面需验证用户的时间戳是否过期 如果过期了用户留在登录页面如果未过期 直接跳转到首页\n                //加入验证用户是否完善了信息再进入主页\n                console.log('已经有用户信息，下面验证进入验证是否完善信息');\n                isPerfectAndtoMain();\n                // console.log(JSON.stringify(app.getState()));\n            } else {\n                app.setState(null);\n                \n            }\n            \n            /************************************************************************/\n            /*下面注册的是登录的基本按钮及登录功能                                       */\n            /************************************************************************/\n            var loginButton = document.getElementById('login');\n            var accountBox = document.getElementById('account');\n            var passwordBox = document.getElementById('password');\n            var regButton = document.getElementById('reg');\n            var forgetButton = document.getElementById('forgetPassword');\n            loginButton.addEventListener('tap', function(event) {\n                var loginInfo = {\n                    mobile: accountBox.value,\n                    password: passwordBox.value\n                };\n                app.login(loginInfo, function(err) {\n                    if (err) {\n                        plus.nativeUI.toast(err);\n                        return;\n                    }\n                    isPerfectAndtoMain();\n                });\n            });\n            mui.enterfocus('#login-form input', function() {\n                mui.trigger(loginButton, 'tap');\n            });\n\n            var regObj = mui.preload({\n                \"id\": 'reg.html',\n                \"url\": 'reg.html'\n            });\n            var missObj = mui.preload({\n                \"id\": 'forget_password.html',\n                \"url\": 'forget_password.html'\n            });\n\n            regButton.addEventListener('tap', function(event) {\n                plus.webview.show(regObj, 'pop-in', 250);\n            }, false);\n            forgetButton.addEventListener('tap', function(event) {\n\n                plus.webview.show(missObj, 'pop-in', 250);\n            }, false);\n            //\n            window.addEventListener('resize', function() {\n                oauthArea.style.display = document.body.clientHeight > 400 ? 'block' : 'none';\n            }, false);\n            //\n            var backButtonPress = 0;\n            mui.back = function(event) {\n                backButtonPress++;\n                if (backButtonPress > 1) {\n                    plus.runtime.quit();\n                } else {\n                    plus.nativeUI.toast('再按一次退出应用');\n                }\n                setTimeout(function() {\n                    backButtonPress = 0;\n                }, 1000);\n                return false;\n            };\n\n            function isPerfectAndtoMain() {\n                var userdata = app.getState();\n                if (!userdata.user.is_perfect || userdata.user.is_perfect != 1) {\n                    console.log(\"用户未完善信息，跳转到填写信息页面\");\n                    plus.nativeUI.toast('请您完善个人信息');\n                    // app.setReginfo('ticket', userdata.ticket);\n                    //跳转到填写信息的页面\n                    mui.openWindow({\n                        url: 'information.html',\n                        id: 'information.html',\n                        preload: true,\n                        show: {\n                            aniShow: 'pop-in'\n                        },\n                        styles: {\n                            popGesture: 'hide'\n                        },\n                        waiting: {\n                            autoShow: false\n                        }\n                    });\n                } else {\n                    console.log('用户已经完善信息 进入首页11');\n                    toMain();\n                }\n            }\n        })\nexport default {\n            \n          }\n</script>\n<style>\n  \n</style>\n\n\n\n// WEBPACK FOOTER //\n// app.vue?b79c8a06","/**\n * 演示程序当前的 “注册/登录” 等操作，是基于 “本地存储” 完成的\n * 当您要参考这个演示程序进行相关 app 的开发时，\n * 请注意将相关方法调整成 “基于服务端Service” 的实现。\n **/\n    /**\n     * 用户登录\n     **/\n    let app={};\n    app.login = function(loginInfo, callback) {\n        callback = callback || $.noop;\n        loginInfo = loginInfo || {};\n        loginInfo.mobile = loginInfo.mobile || '';\n        loginInfo.password = loginInfo.password || '';\n        /************************************************************************/\n        /*加入手机信息                                                           */\n        /************************************************************************/\n        loginInfo.device = plus.device.vendor || ''; //生产厂家\n        loginInfo.model = plus.device.model || ''; //设备名称\n        loginInfo.screen = plus.screen.resolutionWidth + ',' + plus.screen.resolutionHeight || ''; //分辨率\n        loginInfo.sys = plus.os.name || ''; //系统类型\n        loginInfo.version = plus.os.version || ''; //系统版本\n        loginInfo.no = plus.device.uuid || ''; //设备id\n        /************************************************************************/\n        /*验证手机号不为空                             */\n        /************************************************************************/\n        var phonereg = /^$/;\n        if (phonereg.test(loginInfo.mobile)) {\n            return callback('请输入手机号码');\n        }\n        /************************************************************************/\n        /*验证密码不为空                            */\n        /************************************************************************/\n        var passwordreg = /^$/;\n        if (passwordreg.test(loginInfo.password)) {\n            return callback('请输入密码'); \n        }\n        /************************************************************************/\n        /*验证完成后发送ajax请求                              */\n        /************************************************************************/\n        mui.ajax('https://api.gaoqi.cespc.com:9378/user/login', {\n            data: loginInfo,\n            dataType: 'json', //服务器返回json格式数据\n            type: 'post', //HTTP请求类型\n            timeout: 10000, //超时时间设置为10秒；\n            success: function(data) {\n                if (data.ret == 1) {\n                    var obj = {};\n                    obj.ticket = data.ticket;\n                    obj.expire_timestamp = data.expire_timestamp;\n                    obj.user = data.user;\n                    console.log(JSON.stringify(obj));\n                    app.setState(obj);//存入注册信息到本地\n                    app.setAllReginfo(obj); //将信息存贮到本地 防止未完善信息的用户进入 需完善信息时使用\n                    // app.setReginfo('ticket', obj.ticket); \n                    // app.setReginfo('expire_timestamp', obj.expire_timestamp);\n                    // app.setReginfo('user', obj.user);\n                    console.log('与后台交互了');\n                    //这里需要添加如果用户的返回值是未完善跳转到完善信息页面\n                    return callback();\n\n                } else {\n                    callback(data.err);\n                }\n            },\n            error: function(xhr, type, errorThrown) {\n                //异常处理；\n                if (type == 'timeout') {\n                    plus.nativeUI.toast('请求超时，请你检查您的网络');\n                } else if (type == 'abort') {\n                    plus.nativeUI.toast('请检查您的网络是否链接');\n                } else if (type == 'timeout') {\n                    plus.nativeUI.toast('服务器错误');\n                }\n                console.log(type);\n            }\n        });\n\n    };\n\n\n\n\n    /**\n     * 新用户注册\n     **/\n    app.reg = function(regInfo, callback) {\n        callback = callback || $.noop;\n        regInfo = regInfo || {};\n        regInfo.mobile = regInfo.mobile || '';\n        regInfo.password = regInfo.password || '';\n        /************************************************************************/\n        /*加入手机信息                                                           */\n        /************************************************************************/\n        regInfo.device = plus.device.vendor || ''; //生产厂家\n        regInfo.model = plus.device.model || ''; //设备名称\n        regInfo.screen = plus.screen.resolutionWidth + ',' + plus.screen.resolutionHeight || ''; //分辨率\n        regInfo.sys = plus.os.name || ''; //系统类型\n        regInfo.version = plus.os.version || ''; //系统版本\n        regInfo.no = plus.device.uuid || ''; //设备id\n        /************************************************************************/\n        /*验证手机号不为空                              */\n        /************************************************************************/\n        var noNull = /^$/;\n        if (noNull.test(regInfo.mobile)) {\n            return callback('请输入手机号码');\n        }\n        /************************************************************************/\n        /*验证密码不为空                              */\n        /************************************************************************/\n        if (noNull.test(regInfo.password)) {\n            return callback('密码不能为空');\n        }\n        /************************************************************************/\n        /*验证验证码不为空                              */\n        /************************************************************************/\n        if (noNull.test(regInfo.code)) {\n            return callback('请输入验证码');\n        }\n\n\n        mui.ajax('https://api.gaoqi.cespc.com:9378/user/register', {\n            data: regInfo,\n            dataType: 'json', //服务器返回json格式数据\n            type: 'post', //HTTP请求类型\n            timeout: 10000, //超时时间设置为10秒；\n            success: function(data) {\n                if (data.ret == 1) {\n                    console.log('注册提交成功');\n                    // var obj = {}; 注册时不将用户信息存储在本地用户信息中 用户下次登录不会直接登录上次的信息\n                    // obj.ticket = data.ticket;\n                    // obj.expire_timestamp = data.expire_timestamp;\n                    // obj.user = data.user;\n                    // app.setState(obj);\n                    console.log(JSON.stringify(data));\n                    app.setReginfo('ticket', data.ticket);//将用户信息存贮到本地 下一步注册只用\n                    app.setReginfo('expire_timestamp', data.expire_timestamp);\n                    app.setReginfo('user', data.user);\n                    console.log(JSON.stringify(app.getReginfo()));\n                    console.log('ticket user expire_timestamp 已经添加');\n                    return callback();\n                } else {\n                    /*如果用户已经注册 用户返回登录页面*/\n                    if (data.ret == '20204' || data.ret == 20204) {\n                        return callback(data.ret);\n                    }\n                    callback(data.err);\n                }\n            },\n            error: function(xhr, type, errorThrown) {\n                //异常处理；\n                if (type == 'timeout') {\n                    plus.nativeUI.toast('请求超时，请你检查您的网络');\n                } else if (type == 'abort') {\n                    plus.nativeUI.toast('请检查您的网络是否链接');\n                } else if (type == 'timeout') {\n                    plus.nativeUI.toast('服务器错误');\n                }\n                console.log(type);\n            }\n        });\n        //注册后如果返回值是20204 用户已经登录过 清空本地用户数据（避免进入登录页面后用户自动登录） 跳转登录页面 登录页面再判断用户是不是完善了喜欢游戏等个人的信息\n    };\n\n    /**\n     * 验证用户个人信息\n     **/\n    app.info = function(loginInfo, callback) {\n        callback = callback || $.noop;\n        loginInfo = loginInfo || {};\n        /************************************************************************/\n        /*验证昵称不能为空                                                        */\n        /************************************************************************/\n        var phonereg = /^$/;\n        if (phonereg.test(loginInfo.nickname)) {\n            return callback('请输入昵称');\n        }\n\n        /************************************************************************/\n        /*验证性别不为空                            */\n        /************************************************************************/\n        var passwordreg = /^$/;\n        if (passwordreg.test(loginInfo.gender)) {\n            return callback('请选择性别');\n        }\n        /************************************************************************/\n        /*验证所在地不为空                            */\n        /************************************************************************/\n        var passwordreg = /^$/;\n        if (passwordreg.test(loginInfo.provinceid)) {\n            return callback('请选择所在地域');\n        }\n        //存储用个人信息在本地，不发送ajax请求，待选择完游戏后一起发送\n        app.setAllReginfolin(loginInfo);//临时存贮信息，下一个选择游戏表单合并数据后后台提交信息之用\n        return callback();\n    };\n    /************************************************************************/\n    /*用户选择游戏项目完成注册                              */\n    /************************************************************************/\n    app.selectgame = function(loginInfo, callback) {\n            callback = callback || $.noop;\n            loginInfo = loginInfo || {};\n            /*验证用户至少选择了一个游戏项目*/\n            if (loginInfo.games == '') {\n                return callback('请选择您喜欢的游戏项目');\n            };\n            mui.ajax('https://api.gaoqi.cespc.com:9378/user/info/edit', {\n                data: loginInfo,\n                dataType: 'json', //服务器返回json格式数据\n                type: 'post', //HTTP请求类型\n                timeout: 10000, //超时时间设置为10秒；\n                success: function(data) {\n                    if (data.ret == 1) {                  \n                        console.log('用户已经完善了用户信息，并提交信息成功');\n                        var obj = app.getReginfo();\n                        obj.user = data.user;\n                        console.log(JSON.stringify(data.user));\n                        app.setState(obj); //设置将用户信息存储在本地\n                        console.log(JSON.stringify(app.getReginfo()));\n                        app.setAllReginfo(null);//清空本地用户注册信息\n                        console.log(JSON.stringify(app.getState()));\n                        return callback();\n                    } else { \n                        callback(data.err);\n                    }\n                },\n                error: function(xhr, type, errorThrown) {\n                    //异常处理；\n                    if (type == 'timeout') {\n                        plus.nativeUI.toast('请求超时，请你检查您的网络');\n                    } else if (type == 'abort') {\n                        plus.nativeUI.toast('请检查您的网络是否链接');\n                    } else if (type == 'timeout') {\n                        plus.nativeUI.toast('服务器错误');\n                    }\n                    console.log(type);\n                }\n            })\n\n\n        }\n        /**\n         * 获取当前登录信息\n         **/\n    app.getState = function() {\n        //var stateText = localStorage.getItem('$state') || \"{}\";\n        var stateText = plus.storage.getItem('$state') || \"{}\";\n        return JSON.parse(stateText);\n    };\n\n\n    /**\n     * 存储当前的登录信息\n     **/\n    app.setState = function(state) {\n        var state = state || {};\n        //localStorage.setItem('$state', JSON.stringify(state));\n        plus.storage.setItem('$state', JSON.stringify(state));\n    };\n\n    /**\n     * 获得注册信息\n     **/\n\n    app.getReginfo = function() {\n        var stateText = plus.storage.getItem('$reginfo') || \"{}\";\n        return JSON.parse(stateText);\n        //除了用户头像单独存储 其余都是存储在注册信息中 头像最后加入到注册信息中 发送给服务器。\n    };\n\n\n    /**\n     * 逐条添加注册信息到本地\n     **/\n    app.setReginfo = function(name, value) {\n        var reginfo = app.getReginfo() || {};\n        reginfo[name] = value;\n        plus.storage.setItem('$reginfo', JSON.stringify(reginfo));\n    };\n    /**\n     * 一次性添加注册信息到本地\n     **/\n    app.setAllReginfo = function(value) {\n        var reginfo = value || {};\n        plus.storage.setItem('$reginfo', JSON.stringify(reginfo));\n    };\n\n\n\n    /**\n     * 获得info临时位置的值\n     **/\n    app.getReginfolin = function() {\n        var stateText = plus.storage.getItem('$reginfolin') || \"{}\";\n        return JSON.parse(stateText);\n        //除了用户头像单独存储 其余都是存储在注册信息中 头像最后加入到注册信息中 发送给服务器。\n    };\n\n    /**\n     * 逐条添加注册信息到本地\n     **/\n    app.setReginfolin = function(name, value) {\n        var reginfo = app.getReginfolin() || {};\n        reginfo[name] = value;\n        plus.storage.setItem('$reginfolin', JSON.stringify(reginfo));\n    };\n    /**\n     * 将info的信息存贮到临时位置\n     **/\n    app.setAllReginfolin = function(value) {\n        var reginfo = value || {};\n        plus.storage.setItem('$reginfolin', JSON.stringify(reginfo));\n    };\n\n\n\n\n    var checkEmail = function(email) {\n        email = email || '';\n        return (email.length > 3 && email.indexOf('@') > -1);\n    };\n\n    /**\n     * 找回密码\n     **/\n    app.forgetPassword = function(email, callback) {\n        callback = callback || $.noop;\n        if (!checkEmail(email)) {\n            return callback('邮箱地址不合法');\n        }\n        return callback(null, '新的随机密码已经发送到您的邮箱，请查收邮件。');\n    };\n\n    /**\n     * 设置应用本地配置\n     **/\n    app.setSettings = function(settings) {\n        settings = settings || {};\n        localStorage.setItem('$settings', JSON.stringify(settings));\n    };\n\n    /**\n     * 获得应用本地配置\n     **/\n    app.getSettings = function() {\n\n            var settingsText = localStorage.getItem('$settings') || \"{}\";\n            console.log(settingsText);\n            return JSON.parse(settingsText);\n        }\n        /**\n         * 获取本地是否安装客户端\n         **/\n    app.isInstalled = function(id) {\n            if (id === 'qihoo' && mui.os.plus) {\n                return true;\n            }\n            if (mui.os.android) {\n                var main = plus.android.runtimeMainActivity();\n                var packageManager = main.getPackageManager();\n                var PackageManager = plus.android.importClass(packageManager)\n                var packageName = {\n                    \"qq\": \"com.tencent.mobileqq\",\n                    \"weixin\": \"com.tencent.mm\",\n                    \"sinaweibo\": \"com.sina.weibo\"\n                }\n                try {\n                    return packageManager.getPackageInfo(packageName[id], PackageManager.GET_ACTIVITIES);\n                } catch (e) {}\n            } else {\n                switch (id) {\n                    case \"qq\":\n                        var TencentOAuth = plus.ios.import(\"TencentOAuth\");\n                        return TencentOAuth.iphoneQQInstalled();\n                    case \"weixin\":\n                        var WXApi = plus.ios.import(\"WXApi\");\n                        return WXApi.isWXAppInstalled()\n                    case \"sinaweibo\":\n                        var SinaAPI = plus.ios.import(\"WeiboSDK\");\n                        return SinaAPI.isWeiboAppInstalled()\n                    default:\n                        break;\n                }\n            }\n        };\n        /************************************************************************/\n        /*生成验证码                                                             */\n        /************************************************************************/\n    app.getverificationCode = function(phonenum, callback) {\n        console.log('进入验证码发送程序');\n        console.log(phonenum);\n        mui.ajax('https://api.gaoqi.cespc.com:9378/user/register/sendsms', {\n            data: {\n                'mobile': phonenum\n            },\n            dataType: 'json', //服务器返回json格式数据\n            type: 'post', //HTTP请求类型\n            timeout: 10000, //超时时间设置为10秒；\n            success: function(data) {\n                if (data.ret == 1) {\n                    console.log('验证码已发送到后台');\n                    return callback();\n                } else {\n                    return callback(data.err);\n                }\n            },\n            error: function(xhr, type, errorThrown) {\n                //异常处理；\n                if (type === 'timeout') {\n                    plus.nativeUI.toast('请求超时，请你检查您的网络');\n                } else if (type === 'abort') {\n                    plus.nativeUI.toast('请检查您的网络是否链接');\n                } else if (type === 'timeout') {\n                    plus.nativeUI.toast('服务器错误');\n                }\n                console.log(type);\n            }\n        })\n    };\n    app.gotoLogView = function(){\n            app.setState(null);//清空用户信息，防止用户自动登录\n            mui.openWindow({\n                url: plus.webview.getWebviewById( plus.runtime.appid ).getURL(),//获取默认首页的地址\n                id: plus.webview.getWebviewById( plus.runtime.appid ),//获取首页的id\n                preload: true,\n                show: {\n                    aniShow: 'pop-in'\n                },\n                styles: {\n                    popGesture: 'hide'\n                },\n                waiting: {\n                    autoShow: false\n                },\n                extras: { //附带参数让登录页面不再验证main是否加载完成\n                    main_loaded: 'true'\n                }\n            });\n    }\nexport {app}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/appp.js","(function($) {\n\t$.enterfocus = function(selector, callback) {\n\t\tvar boxArray = [].slice.call(document.querySelectorAll(selector));\n\t\tfor (var index in boxArray) {\n\t\t\tvar box = boxArray[index];\n\t\t\tbox.addEventListener('keyup', function(event) {\n\t\t\t\tif (event.keyCode == 13) {\n\t\t\t\t\tvar boxIndex = boxArray.indexOf(this);\n\t\t\t\t\tif (boxIndex == boxArray.length - 1) {\n\t\t\t\t\t\tif (callback) callback();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//console.log(boxIndex);\n\t\t\t\t\t\tvar nextBox = boxArray[++boxIndex];\n\t\t\t\t\t\tnextBox.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\t};\n}(window.mui = window.mui || {}));\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/mui.enterfocus.js","/*!\n * =====================================================\n * Mui v3.3.0 (http://dev.dcloud.net.cn/mui)\n * =====================================================\n */\n/**\n * MUI核心JS\n * @type _L4.$|Function\n */\nvar mui = (function(document, undefined) {\n\tvar readyRE = /complete|loaded|interactive/;\n\tvar idSelectorRE = /^#([\\w-]+)$/;\n\tvar classSelectorRE = /^\\.([\\w-]+)$/;\n\tvar tagSelectorRE = /^[\\w-]+$/;\n\tvar translateRE = /translate(?:3d)?\\((.+?)\\)/;\n\tvar translateMatrixRE = /matrix(3d)?\\((.+?)\\)/;\n\n\tvar $ = function(selector, context) {\n\t\tcontext = context || document;\n\t\tif (!selector)\n\t\t\treturn wrap();\n\t\tif (typeof selector === 'object')\n\t\t\tif ($.isArrayLike(selector)) {\n\t\t\t\treturn wrap($.slice.call(selector), null);\n\t\t\t} else {\n\t\t\t\treturn wrap([selector], null);\n\t\t\t}\n\t\tif (typeof selector === 'function')\n\t\t\treturn $.ready(selector);\n\t\tif (typeof selector === 'string') {\n\t\t\ttry {\n\t\t\t\tselector = selector.trim();\n\t\t\t\tif (idSelectorRE.test(selector)) {\n\t\t\t\t\tvar found = document.getElementById(RegExp.$1);\n\t\t\t\t\treturn wrap(found ? [found] : []);\n\t\t\t\t}\n\t\t\t\treturn wrap($.qsa(selector, context), selector);\n\t\t\t} catch (e) {}\n\t\t}\n\t\treturn wrap();\n\t};\n\n\tvar wrap = function(dom, selector) {\n\t\tdom = dom || [];\n\t\tObject.setPrototypeOf(dom, $.fn);\n\t\tdom.selector = selector || '';\n\t\treturn dom;\n\t};\n\n\t$.uuid = 0;\n\n\t$.data = {};\n\t/**\n\t * extend(simple)\n\t * @param {type} target\n\t * @param {type} source\n\t * @param {type} deep\n\t * @returns {unresolved}\n\t */\n\t$.extend = function() { //from jquery2\n\t\tvar options, name, src, copy, copyIsArray, clone,\n\t\t\ttarget = arguments[0] || {},\n\t\t\ti = 1,\n\t\t\tlength = arguments.length,\n\t\t\tdeep = false;\n\n\t\tif (typeof target === \"boolean\") {\n\t\t\tdeep = target;\n\n\t\t\ttarget = arguments[i] || {};\n\t\t\ti++;\n\t\t}\n\n\t\tif (typeof target !== \"object\" && !$.isFunction(target)) {\n\t\t\ttarget = {};\n\t\t}\n\n\t\tif (i === length) {\n\t\t\ttarget = this;\n\t\t\ti--;\n\t\t}\n\n\t\tfor (; i < length; i++) {\n\t\t\tif ((options = arguments[i]) != null) {\n\t\t\t\tfor (name in options) {\n\t\t\t\t\tsrc = target[name];\n\t\t\t\t\tcopy = options[name];\n\n\t\t\t\t\tif (target === copy) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (deep && copy && ($.isPlainObject(copy) || (copyIsArray = $.isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && $.isArray(src) ? src : [];\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && $.isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget[name] = $.extend(deep, clone, copy);\n\n\t\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn target;\n\t};\n\t/**\n\t * mui noop(function)\n\t */\n\t$.noop = function() {};\n\t/**\n\t * mui slice(array)\n\t */\n\t$.slice = [].slice;\n\t/**\n\t * mui filter(array)\n\t */\n\t$.filter = [].filter;\n\n\t$.type = function(obj) {\n\t\treturn obj == null ? String(obj) : class2type[{}.toString.call(obj)] || \"object\";\n\t};\n\t/**\n\t * mui isArray\n\t */\n\t$.isArray = Array.isArray ||\n\t\tfunction(object) {\n\t\t\treturn object instanceof Array;\n\t\t};\n\t/**\n\t * mui isArrayLike \n\t * @param {Object} obj\n\t */\n\t$.isArrayLike = function(obj) {\n\t\tvar length = !!obj && \"length\" in obj && obj.length;\n\t\tvar type = $.type(obj);\n\t\tif (type === \"function\" || $.isWindow(obj)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn type === \"array\" || length === 0 ||\n\t\t\ttypeof length === \"number\" && length > 0 && (length - 1) in obj;\n\t};\n\t/**\n\t * mui isWindow(需考虑obj为undefined的情况)\n\t */\n\t$.isWindow = function(obj) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\t/**\n\t * mui isObject\n\t */\n\t$.isObject = function(obj) {\n\t\treturn $.type(obj) === \"object\";\n\t};\n\t/**\n\t * mui isPlainObject\n\t */\n\t$.isPlainObject = function(obj) {\n\t\treturn $.isObject(obj) && !$.isWindow(obj) && Object.getPrototypeOf(obj) === Object.prototype;\n\t};\n\t/**\n\t * mui isEmptyObject\n\t * @param {Object} o\n\t */\n\t$.isEmptyObject = function(o) {\n\t\tfor (var p in o) {\n\t\t\tif (p !== undefined) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\t/**\n\t * mui isFunction\n\t */\n\t$.isFunction = function(value) {\n\t\treturn $.type(value) === \"function\";\n\t};\n\t/**\n\t * mui querySelectorAll\n\t * @param {type} selector\n\t * @param {type} context\n\t * @returns {Array}\n\t */\n\t$.qsa = function(selector, context) {\n\t\tcontext = context || document;\n\t\treturn $.slice.call(classSelectorRE.test(selector) ? context.getElementsByClassName(RegExp.$1) : tagSelectorRE.test(selector) ? context.getElementsByTagName(selector) : context.querySelectorAll(selector));\n\t};\n\t/**\n\t * ready(DOMContentLoaded)\n\t * @param {type} callback\n\t * @returns {_L6.$}\n\t */\n\t$.ready = function(callback) {\n\t\tif (readyRE.test(document.readyState)) {\n\t\t\tcallback($);\n\t\t} else {\n\t\t\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\t\t\tcallback($);\n\t\t\t}, false);\n\t\t}\n\t\treturn this;\n\t};\n\t/**\n\t * 将 fn 缓存一段时间后, 再被调用执行\n\t * 此方法为了避免在 ms 段时间内, 执行 fn 多次. 常用于 resize , scroll , mousemove 等连续性事件中;\n\t * 当 ms 设置为 -1, 表示立即执行 fn, 即和直接调用 fn 一样;\n\t * 调用返回函数的 stop 停止最后一次的 buffer 效果\n\t * @param {Object} fn\n\t * @param {Object} ms\n\t * @param {Object} context\n\t */\n\t$.buffer = function(fn, ms, context) {\n\t\tvar timer;\n\t\tvar lastStart = 0;\n\t\tvar lastEnd = 0;\n\t\tvar ms = ms || 150;\n\n\t\tfunction run() {\n\t\t\tif (timer) {\n\t\t\t\ttimer.cancel();\n\t\t\t\ttimer = 0;\n\t\t\t}\n\t\t\tlastStart = $.now();\n\t\t\tfn.apply(context || this, arguments);\n\t\t\tlastEnd = $.now();\n\t\t}\n\n\t\treturn $.extend(function() {\n\t\t\tif (\n\t\t\t\t(!lastStart) || // 从未运行过\n\t\t\t\t(lastEnd >= lastStart && $.now() - lastEnd > ms) || // 上次运行成功后已经超过ms毫秒\n\t\t\t\t(lastEnd < lastStart && $.now() - lastStart > ms * 8) // 上次运行或未完成，后8*ms毫秒\n\t\t\t) {\n\t\t\t\trun();\n\t\t\t} else {\n\t\t\t\tif (timer) {\n\t\t\t\t\ttimer.cancel();\n\t\t\t\t}\n\t\t\t\ttimer = $.later(run, ms, null, arguments);\n\t\t\t}\n\t\t}, {\n\t\t\tstop: function() {\n\t\t\t\tif (timer) {\n\t\t\t\t\ttimer.cancel();\n\t\t\t\t\ttimer = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t/**\n\t * each\n\t * @param {type} elements\n\t * @param {type} callback\n\t * @returns {_L8.$}\n\t */\n\t$.each = function(elements, callback, hasOwnProperty) {\n\t\tif (!elements) {\n\t\t\treturn this;\n\t\t}\n\t\tif (typeof elements.length === 'number') {\n\t\t\t[].every.call(elements, function(el, idx) {\n\t\t\t\treturn callback.call(el, idx, el) !== false;\n\t\t\t});\n\t\t} else {\n\t\t\tfor (var key in elements) {\n\t\t\t\tif (hasOwnProperty) {\n\t\t\t\t\tif (elements.hasOwnProperty(key)) {\n\t\t\t\t\t\tif (callback.call(elements[key], key, elements[key]) === false) return elements;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (callback.call(elements[key], key, elements[key]) === false) return elements;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\t$.focus = function(element) {\n\t\tif ($.os.ios) {\n\t\t\tsetTimeout(function() {\n\t\t\t\telement.focus();\n\t\t\t}, 10);\n\t\t} else {\n\t\t\telement.focus();\n\t\t}\n\t};\n\t/**\n\t * trigger event\n\t * @param {type} element\n\t * @param {type} eventType\n\t * @param {type} eventData\n\t * @returns {_L8.$}\n\t */\n\t$.trigger = function(element, eventType, eventData) {\n\t\telement.dispatchEvent(new CustomEvent(eventType, {\n\t\t\tdetail: eventData,\n\t\t\tbubbles: true,\n\t\t\tcancelable: true\n\t\t}));\n\t\treturn this;\n\t};\n\t/**\n\t * getStyles\n\t * @param {type} element\n\t * @param {type} property\n\t * @returns {styles}\n\t */\n\t$.getStyles = function(element, property) {\n\t\tvar styles = element.ownerDocument.defaultView.getComputedStyle(element, null);\n\t\tif (property) {\n\t\t\treturn styles.getPropertyValue(property) || styles[property];\n\t\t}\n\t\treturn styles;\n\t};\n\t/**\n\t * parseTranslate\n\t * @param {type} translateString\n\t * @param {type} position\n\t * @returns {Object}\n\t */\n\t$.parseTranslate = function(translateString, position) {\n\t\tvar result = translateString.match(translateRE || '');\n\t\tif (!result || !result[1]) {\n\t\t\tresult = ['', '0,0,0'];\n\t\t}\n\t\tresult = result[1].split(\",\");\n\t\tresult = {\n\t\t\tx: parseFloat(result[0]),\n\t\t\ty: parseFloat(result[1]),\n\t\t\tz: parseFloat(result[2])\n\t\t};\n\t\tif (position && result.hasOwnProperty(position)) {\n\t\t\treturn result[position];\n\t\t}\n\t\treturn result;\n\t};\n\t/**\n\t * parseTranslateMatrix\n\t * @param {type} translateString\n\t * @param {type} position\n\t * @returns {Object}\n\t */\n\t$.parseTranslateMatrix = function(translateString, position) {\n\t\tvar matrix = translateString.match(translateMatrixRE);\n\t\tvar is3D = matrix && matrix[1];\n\t\tif (matrix) {\n\t\t\tmatrix = matrix[2].split(\",\");\n\t\t\tif (is3D === \"3d\")\n\t\t\t\tmatrix = matrix.slice(12, 15);\n\t\t\telse {\n\t\t\t\tmatrix.push(0);\n\t\t\t\tmatrix = matrix.slice(4, 7);\n\t\t\t}\n\t\t} else {\n\t\t\tmatrix = [0, 0, 0];\n\t\t}\n\t\tvar result = {\n\t\t\tx: parseFloat(matrix[0]),\n\t\t\ty: parseFloat(matrix[1]),\n\t\t\tz: parseFloat(matrix[2])\n\t\t};\n\t\tif (position && result.hasOwnProperty(position)) {\n\t\t\treturn result[position];\n\t\t}\n\t\treturn result;\n\t};\n\t$.hooks = {};\n\t$.addAction = function(type, hook) {\n\t\tvar hooks = $.hooks[type];\n\t\tif (!hooks) {\n\t\t\thooks = [];\n\t\t}\n\t\thook.index = hook.index || 1000;\n\t\thooks.push(hook);\n\t\thooks.sort(function(a, b) {\n\t\t\treturn a.index - b.index;\n\t\t});\n\t\t$.hooks[type] = hooks;\n\t\treturn $.hooks[type];\n\t};\n\t$.doAction = function(type, callback) {\n\t\tif ($.isFunction(callback)) { //指定了callback\n\t\t\t$.each($.hooks[type], callback);\n\t\t} else { //未指定callback，直接执行\n\t\t\t$.each($.hooks[type], function(index, hook) {\n\t\t\t\treturn !hook.handle();\n\t\t\t});\n\t\t}\n\t};\n\t/**\n\t * setTimeout封装\n\t * @param {Object} fn\n\t * @param {Object} when\n\t * @param {Object} context\n\t * @param {Object} data\n\t */\n\t$.later = function(fn, when, context, data) {\n\t\twhen = when || 0;\n\t\tvar m = fn;\n\t\tvar d = data;\n\t\tvar f;\n\t\tvar r;\n\n\t\tif (typeof fn === 'string') {\n\t\t\tm = context[fn];\n\t\t}\n\n\t\tf = function() {\n\t\t\tm.apply(context, $.isArray(d) ? d : [d]);\n\t\t};\n\n\t\tr = setTimeout(f, when);\n\n\t\treturn {\n\t\t\tid: r,\n\t\t\tcancel: function() {\n\t\t\t\tclearTimeout(r);\n\t\t\t}\n\t\t};\n\t};\n\t$.now = Date.now || function() {\n\t\treturn +new Date();\n\t};\n\tvar class2type = {};\n\t$.each(['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Object', 'Error'], function(i, name) {\n\t\tclass2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n\t});\n\tif (window.JSON) {\n\t\t$.parseJSON = JSON.parse;\n\t}\n\t/**\n\t * $.fn\n\t */\n\t$.fn = {\n\t\teach: function(callback) {\n\t\t\t[].every.call(this, function(el, idx) {\n\t\t\t\treturn callback.call(el, idx, el) !== false;\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\t};\n\n\t/**\n\t * 兼容 AMD 模块\n\t **/\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine('mui', [], function() {\n\t\t\treturn $;\n\t\t});\n\t}\n\n\treturn $;\n})(document);\n//window.mui = mui;\n//'$' in window || (window.$ = mui);\n/**\n * $.os\n * @param {type} $\n * @returns {undefined}\n */\n(function($, window) {\n\tfunction detect(ua) {\n\t\tthis.os = {};\n\t\tvar funcs = [\n\n\t\t\tfunction() { //wechat\n\t\t\t\tvar wechat = ua.match(/(MicroMessenger)\\/([\\d\\.]+)/i);\n\t\t\t\tif (wechat) { //wechat\n\t\t\t\t\tthis.os.wechat = {\n\t\t\t\t\t\tversion: wechat[2].replace(/_/g, '.')\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tfunction() { //android\n\t\t\t\tvar android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n\t\t\t\tif (android) {\n\t\t\t\t\tthis.os.android = true;\n\t\t\t\t\tthis.os.version = android[2];\n\n\t\t\t\t\tthis.os.isBadAndroid = !(/Chrome\\/\\d/.test(window.navigator.appVersion));\n\t\t\t\t}\n\t\t\t\treturn this.os.android === true;\n\t\t\t},\n\t\t\tfunction() { //ios\n\t\t\t\tvar iphone = ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n\t\t\t\tif (iphone) { //iphone\n\t\t\t\t\tthis.os.ios = this.os.iphone = true;\n\t\t\t\t\tthis.os.version = iphone[2].replace(/_/g, '.');\n\t\t\t\t} else {\n\t\t\t\t\tvar ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n\t\t\t\t\tif (ipad) { //ipad\n\t\t\t\t\t\tthis.os.ios = this.os.ipad = true;\n\t\t\t\t\t\tthis.os.version = ipad[2].replace(/_/g, '.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this.os.ios === true;\n\t\t\t}\n\t\t];\n\t\t[].every.call(funcs, function(func) {\n\t\t\treturn !func.call($);\n\t\t});\n\t}\n\tdetect.call($, navigator.userAgent);\n})(mui, window);\n/**\n * $.os.plus\n * @param {type} $\n * @returns {undefined}\n */\n(function($, document) {\n\tfunction detect(ua) {\n\t\tthis.os = this.os || {};\n\t\tvar plus = ua.match(/Html5Plus/i); //TODO 5\\+Browser?\n\t\tif (plus) {\n\t\t\tthis.os.plus = true;\n\t\t\t$(function() {\n\t\t\t\tdocument.body.classList.add('mui-plus');\n\t\t\t});\n\t\t\tif (ua.match(/StreamApp/i)) { //TODO 最好有流应用自己的标识\n\t\t\t\tthis.os.stream = true;\n\t\t\t\t$(function() {\n\t\t\t\t\tdocument.body.classList.add('mui-plus-stream');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tdetect.call($, navigator.userAgent);\n})(mui, document);\n/**\n * 仅提供简单的on，off(仅支持事件委托，不支持当前元素绑定，当前元素绑定请直接使用addEventListener,removeEventListener)\n * @param {Object} $\n */\n(function($) {\n\tif ('ontouchstart' in window) {\n\t\t$.isTouchable = true;\n\t\t$.EVENT_START = 'touchstart';\n\t\t$.EVENT_MOVE = 'touchmove';\n\t\t$.EVENT_END = 'touchend';\n\t} else {\n\t\t$.isTouchable = false;\n\t\t$.EVENT_START = 'mousedown';\n\t\t$.EVENT_MOVE = 'mousemove';\n\t\t$.EVENT_END = 'mouseup';\n\t}\n\t$.EVENT_CANCEL = 'touchcancel';\n\t$.EVENT_CLICK = 'click';\n\n\tvar _mid = 1;\n\tvar delegates = {};\n\t//需要wrap的函数\n\tvar eventMethods = {\n\t\tpreventDefault: 'isDefaultPrevented',\n\t\tstopImmediatePropagation: 'isImmediatePropagationStopped',\n\t\tstopPropagation: 'isPropagationStopped'\n\t};\n\t//默认true返回函数\n\tvar returnTrue = function() {\n\t\treturn true\n\t};\n\t//默认false返回函数\n\tvar returnFalse = function() {\n\t\treturn false\n\t};\n\t//wrap浏览器事件\n\tvar compatible = function(event, target) {\n\t\tif (!event.detail) {\n\t\t\tevent.detail = {\n\t\t\t\tcurrentTarget: target\n\t\t\t};\n\t\t} else {\n\t\t\tevent.detail.currentTarget = target;\n\t\t}\n\t\t$.each(eventMethods, function(name, predicate) {\n\t\t\tvar sourceMethod = event[name];\n\t\t\tevent[name] = function() {\n\t\t\t\tthis[predicate] = returnTrue;\n\t\t\t\treturn sourceMethod && sourceMethod.apply(event, arguments)\n\t\t\t}\n\t\t\tevent[predicate] = returnFalse;\n\t\t}, true);\n\t\treturn event;\n\t};\n\t//简单的wrap对象_mid\n\tvar mid = function(obj) {\n\t\treturn obj && (obj._mid || (obj._mid = _mid++));\n\t};\n\t//事件委托对象绑定的事件回调列表\n\tvar delegateFns = {};\n\t//返回事件委托的wrap事件回调\n\tvar delegateFn = function(element, event, selector, callback) {\n\t\treturn function(e) {\n\t\t\t//same event\n\t\t\tvar callbackObjs = delegates[element._mid][event];\n\t\t\tvar handlerQueue = [];\n\t\t\tvar target = e.target;\n\t\t\tvar selectorAlls = {};\n\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\tif (target === element) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (~['click', 'tap', 'doubletap', 'longtap', 'hold'].indexOf(event) && (target.disabled || target.classList.contains('mui-disabled'))) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar matches = {};\n\t\t\t\t$.each(callbackObjs, function(selector, callbacks) { //same selector\n\t\t\t\t\tselectorAlls[selector] || (selectorAlls[selector] = $.qsa(selector, element));\n\t\t\t\t\tif (selectorAlls[selector] && ~(selectorAlls[selector]).indexOf(target)) {\n\t\t\t\t\t\tif (!matches[selector]) {\n\t\t\t\t\t\t\tmatches[selector] = callbacks;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, true);\n\t\t\t\tif (!$.isEmptyObject(matches)) {\n\t\t\t\t\thandlerQueue.push({\n\t\t\t\t\t\telement: target,\n\t\t\t\t\t\thandlers: matches\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tselectorAlls = null;\n\t\t\te = compatible(e); //compatible event\n\t\t\t$.each(handlerQueue, function(index, handler) {\n\t\t\t\ttarget = handler.element;\n\t\t\t\tvar tagName = target.tagName;\n\t\t\t\tif (event === 'tap' && (tagName !== 'INPUT' && tagName !== 'TEXTAREA' && tagName !== 'SELECT')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.detail && e.detail.gesture && e.detail.gesture.preventDefault();\n\t\t\t\t}\n\t\t\t\t$.each(handler.handlers, function(index, handler) {\n\t\t\t\t\t$.each(handler, function(index, callback) {\n\t\t\t\t\t\tif (callback.call(target, e) === false) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, true);\n\t\t\t\t}, true)\n\t\t\t\tif (e.isPropagationStopped()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t};\n\t};\n\tvar findDelegateFn = function(element, event) {\n\t\tvar delegateCallbacks = delegateFns[mid(element)];\n\t\tvar result = [];\n\t\tif (delegateCallbacks) {\n\t\t\tresult = [];\n\t\t\tif (event) {\n\t\t\t\tvar filterFn = function(fn) {\n\t\t\t\t\treturn fn.type === event;\n\t\t\t\t}\n\t\t\t\treturn delegateCallbacks.filter(filterFn);\n\t\t\t} else {\n\t\t\t\tresult = delegateCallbacks;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n\tvar preventDefaultException = /^(INPUT|TEXTAREA|BUTTON|SELECT)$/;\n\t/**\n\t * mui delegate events\n\t * @param {type} event\n\t * @param {type} selector\n\t * @param {type} callback\n\t * @returns {undefined}\n\t */\n\t$.fn.on = function(event, selector, callback) { //仅支持简单的事件委托,主要是tap事件使用，类似mouse,focus之类暂不封装支持\n\t\treturn this.each(function() {\n\t\t\tvar element = this;\n\t\t\tmid(element);\n\t\t\tmid(callback);\n\t\t\tvar isAddEventListener = false;\n\t\t\tvar delegateEvents = delegates[element._mid] || (delegates[element._mid] = {});\n\t\t\tvar delegateCallbackObjs = delegateEvents[event] || ((delegateEvents[event] = {}));\n\t\t\tif ($.isEmptyObject(delegateCallbackObjs)) {\n\t\t\t\tisAddEventListener = true;\n\t\t\t}\n\t\t\tvar delegateCallbacks = delegateCallbackObjs[selector] || (delegateCallbackObjs[selector] = []);\n\t\t\tdelegateCallbacks.push(callback);\n\t\t\tif (isAddEventListener) {\n\t\t\t\tvar delegateFnArray = delegateFns[mid(element)];\n\t\t\t\tif (!delegateFnArray) {\n\t\t\t\t\tdelegateFnArray = [];\n\t\t\t\t}\n\t\t\t\tvar delegateCallback = delegateFn(element, event, selector, callback);\n\t\t\t\tdelegateFnArray.push(delegateCallback);\n\t\t\t\tdelegateCallback.i = delegateFnArray.length - 1;\n\t\t\t\tdelegateCallback.type = event;\n\t\t\t\tdelegateFns[mid(element)] = delegateFnArray;\n\t\t\t\telement.addEventListener(event, delegateCallback);\n\t\t\t\tif (event === 'tap') { //TODO 需要找个更好的解决方案\n\t\t\t\t\telement.addEventListener('click', function(e) {\n\t\t\t\t\t\tif (e.target) {\n\t\t\t\t\t\t\tvar tagName = e.target.tagName;\n\t\t\t\t\t\t\tif (!preventDefaultException.test(tagName)) {\n\t\t\t\t\t\t\t\tif (tagName === 'A') {\n\t\t\t\t\t\t\t\t\tvar href = e.target.href;\n\t\t\t\t\t\t\t\t\tif (!(href && ~href.indexOf('tel:'))) {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t$.fn.off = function(event, selector, callback) {\n\t\treturn this.each(function() {\n\t\t\tvar _mid = mid(this);\n\t\t\tif (!event) { //mui(selector).off();\n\t\t\t\tdelegates[_mid] && delete delegates[_mid];\n\t\t\t} else if (!selector) { //mui(selector).off(event);\n\t\t\t\tdelegates[_mid] && delete delegates[_mid][event];\n\t\t\t} else if (!callback) { //mui(selector).off(event,selector);\n\t\t\t\tdelegates[_mid] && delegates[_mid][event] && delete delegates[_mid][event][selector];\n\t\t\t} else { //mui(selector).off(event,selector,callback);\n\t\t\t\tvar delegateCallbacks = delegates[_mid] && delegates[_mid][event] && delegates[_mid][event][selector];\n\t\t\t\t$.each(delegateCallbacks, function(index, delegateCallback) {\n\t\t\t\t\tif (mid(delegateCallback) === mid(callback)) {\n\t\t\t\t\t\tdelegateCallbacks.splice(index, 1);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}, true);\n\t\t\t}\n\t\t\tif (delegates[_mid]) {\n\t\t\t\t//如果off掉了所有当前element的指定的event事件，则remove掉当前element的delegate回调\n\t\t\t\tif ((!delegates[_mid][event] || $.isEmptyObject(delegates[_mid][event]))) {\n\t\t\t\t\tfindDelegateFn(this, event).forEach(function(fn) {\n\t\t\t\t\t\tthis.removeEventListener(fn.type, fn);\n\t\t\t\t\t\tdelete delegateFns[_mid][fn.i];\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//如果delegates[_mid]已不存在，删除所有\n\t\t\t\tfindDelegateFn(this).forEach(function(fn) {\n\t\t\t\t\tthis.removeEventListener(fn.type, fn);\n\t\t\t\t\tdelete delegateFns[_mid][fn.i];\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t});\n\n\t};\n})(mui);\n/**\n * mui target(action>popover>modal>tab>toggle)\n */\n(function($, window, document) {\n\t/**\n\t * targets\n\t */\n\t$.targets = {};\n\t/**\n\t * target handles\n\t */\n\t$.targetHandles = [];\n\t/**\n\t * register target\n\t * @param {type} target\n\t * @returns {$.targets}\n\t */\n\t$.registerTarget = function(target) {\n\n\t\ttarget.index = target.index || 1000;\n\n\t\t$.targetHandles.push(target);\n\n\t\t$.targetHandles.sort(function(a, b) {\n\t\t\treturn a.index - b.index;\n\t\t});\n\n\t\treturn $.targetHandles;\n\t};\n\twindow.addEventListener($.EVENT_START, function(event) {\n\t\tvar target = event.target;\n\t\tvar founds = {};\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tvar isFound = false;\n\t\t\t$.each($.targetHandles, function(index, targetHandle) {\n\t\t\t\tvar name = targetHandle.name;\n\t\t\t\tif (!isFound && !founds[name] && targetHandle.hasOwnProperty('handle')) {\n\t\t\t\t\t$.targets[name] = targetHandle.handle(event, target);\n\t\t\t\t\tif ($.targets[name]) {\n\t\t\t\t\t\tfounds[name] = true;\n\t\t\t\t\t\tif (targetHandle.isContinue !== true) {\n\t\t\t\t\t\t\tisFound = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!founds[name]) {\n\t\t\t\t\t\tif (targetHandle.isReset !== false)\n\t\t\t\t\t\t\t$.targets[name] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isFound) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n\twindow.addEventListener('click', function(event) { //解决touch与click的target不一致的问题(比如链接边缘点击时，touch的target为html，而click的target为A)\n\t\tvar target = event.target;\n\t\tvar isFound = false;\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target.tagName === 'A') {\n\t\t\t\t$.each($.targetHandles, function(index, targetHandle) {\n\t\t\t\t\tvar name = targetHandle.name;\n\t\t\t\t\tif (targetHandle.hasOwnProperty('handle')) {\n\t\t\t\t\t\tif (targetHandle.handle(event, target)) {\n\t\t\t\t\t\t\tisFound = true;\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (isFound) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(mui, window, document);\n/**\n * fixed trim\n * @param {type} undefined\n * @returns {undefined}\n */\n(function(undefined) {\n\tif (String.prototype.trim === undefined) { // fix for iOS 3.2\n\t\tString.prototype.trim = function() {\n\t\t\treturn this.replace(/^\\s+|\\s+$/g, '');\n\t\t};\n\t}\n\tObject.setPrototypeOf = Object.setPrototypeOf || function(obj, proto) {\n\t\tobj['__proto__'] = proto;\n\t\treturn obj;\n\t};\n\n})();\n/**\n * fixed CustomEvent\n */\n(function() {\n\tif (typeof window.CustomEvent === 'undefined') {\n\t\tfunction CustomEvent(event, params) {\n\t\t\tparams = params || {\n\t\t\t\tbubbles: false,\n\t\t\t\tcancelable: false,\n\t\t\t\tdetail: undefined\n\t\t\t};\n\t\t\tvar evt = document.createEvent('Events');\n\t\t\tvar bubbles = true;\n\t\t\tfor (var name in params) {\n\t\t\t\t(name === 'bubbles') ? (bubbles = !!params[name]) : (evt[name] = params[name]);\n\t\t\t}\n\t\t\tevt.initEvent(event, bubbles, true);\n\t\t\treturn evt;\n\t\t};\n\t\tCustomEvent.prototype = window.Event.prototype;\n\t\twindow.CustomEvent = CustomEvent;\n\t}\n})();\n/*\n\tA shim for non ES5 supporting browsers.\n\tAdds function bind to Function prototype, so that you can do partial application.\n\tWorks even with the nasty thing, where the first word is the opposite of extranet, the second one is the profession of Columbus, and the version number is 9, flipped 180 degrees.\n*/\n\nFunction.prototype.bind = Function.prototype.bind || function(to) {\n\t// Make an array of our arguments, starting from second argument\n\tvar partial = Array.prototype.splice.call(arguments, 1),\n\t\t// We'll need the original function.\n\t\tfn = this;\n\tvar bound = function() {\n\t\t\t// Join the already applied arguments to the now called ones (after converting to an array again).\n\t\t\tvar args = partial.concat(Array.prototype.splice.call(arguments, 0));\n\t\t\t// If not being called as a constructor\n\t\t\tif (!(this instanceof bound)) {\n\t\t\t\t// return the result of the function called bound to target and partially applied.\n\t\t\t\treturn fn.apply(to, args);\n\t\t\t}\n\t\t\t// If being called as a constructor, apply the function bound to self.\n\t\t\tfn.apply(this, args);\n\t\t}\n\t\t// Attach the prototype of the function to our newly created function.\n\tbound.prototype = fn.prototype;\n\treturn bound;\n};\n/**\n * mui fixed classList\n * @param {type} document\n * @returns {undefined}\n */\n(function(document) {\n    if (!(\"classList\" in document.documentElement) && Object.defineProperty && typeof HTMLElement !== 'undefined') {\n\n        Object.defineProperty(HTMLElement.prototype, 'classList', {\n            get: function() {\n                var self = this;\n                function update(fn) {\n                    return function(value) {\n                        var classes = self.className.split(/\\s+/),\n                                index = classes.indexOf(value);\n\n                        fn(classes, index, value);\n                        self.className = classes.join(\" \");\n                    };\n                }\n\n                var ret = {\n                    add: update(function(classes, index, value) {\n                        ~index || classes.push(value);\n                    }),\n                    remove: update(function(classes, index) {\n                        ~index && classes.splice(index, 1);\n                    }),\n                    toggle: update(function(classes, index, value) {\n                        ~index ? classes.splice(index, 1) : classes.push(value);\n                    }),\n                    contains: function(value) {\n                        return !!~self.className.split(/\\s+/).indexOf(value);\n                    },\n                    item: function(i) {\n                        return self.className.split(/\\s+/)[i] || null;\n                    }\n                };\n\n                Object.defineProperty(ret, 'length', {\n                    get: function() {\n                        return self.className.split(/\\s+/).length;\n                    }\n                });\n\n                return ret;\n            }\n        });\n    }\n})(document);\n\n/**\n * mui fixed requestAnimationFrame\n * @param {type} window\n * @returns {undefined}\n */\n(function(window) {\n\tif (!window.requestAnimationFrame) {\n\t\tvar lastTime = 0;\n\t\twindow.requestAnimationFrame = window.webkitRequestAnimationFrame || function(callback, element) {\n\t\t\tvar currTime = new Date().getTime();\n\t\t\tvar timeToCall = Math.max(0, 16.7 - (currTime - lastTime));\n\t\t\tvar id = window.setTimeout(function() {\n\t\t\t\tcallback(currTime + timeToCall);\n\t\t\t}, timeToCall);\n\t\t\tlastTime = currTime + timeToCall;\n\t\t\treturn id;\n\t\t};\n\t\twindow.cancelAnimationFrame = window.webkitCancelAnimationFrame || window.webkitCancelRequestAnimationFrame || function(id) {\n\t\t\tclearTimeout(id);\n\t\t};\n\t};\n}(window));\n/**\n * fastclick(only for radio,checkbox)\n */\n(function($, window, name) {\n\tif (!$.os.android && !$.os.ios) { //目前仅识别android和ios\n\t\treturn;\n\t}\n\tif (window.FastClick) {\n\t\treturn;\n\t}\n\n\tvar handle = function(event, target) {\n\t\tif (target.tagName === 'LABEL') {\n\t\t\tif (target.parentNode) {\n\t\t\t\ttarget = target.parentNode.querySelector('input');\n\t\t\t}\n\t\t}\n\t\tif (target && (target.type === 'radio' || target.type === 'checkbox')) {\n\t\t\tif (!target.disabled) { //disabled\n\t\t\t\treturn target;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 40,\n\t\thandle: handle,\n\t\ttarget: false\n\t});\n\tvar dispatchEvent = function(event) {\n\t\tvar targetElement = $.targets.click;\n\t\tif (targetElement) {\n\t\t\tvar clickEvent, touch;\n\t\t\t// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect\n\t\t\tif (document.activeElement && document.activeElement !== targetElement) {\n\t\t\t\tdocument.activeElement.blur();\n\t\t\t}\n\t\t\ttouch = event.detail.gesture.changedTouches[0];\n\t\t\t// Synthesise a click event, with an extra attribute so it can be tracked\n\t\t\tclickEvent = document.createEvent('MouseEvents');\n\t\t\tclickEvent.initMouseEvent('click', true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n\t\t\tclickEvent.forwardedTouchEvent = true;\n\t\t\ttargetElement.dispatchEvent(clickEvent);\n\t\t\tevent.detail && event.detail.gesture.preventDefault();\n\t\t}\n\t};\n\twindow.addEventListener('tap', dispatchEvent);\n\twindow.addEventListener('doubletap', dispatchEvent);\n\t//捕获\n\twindow.addEventListener('click', function(event) {\n\t\tif ($.targets.click) {\n\t\t\tif (!event.forwardedTouchEvent) { //stop click\n\t\t\t\tif (event.stopImmediatePropagation) {\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t} else {\n\t\t\t\t\t// Part of the hack for browsers that don't support Event#stopImmediatePropagation\n\t\t\t\t\tevent.propagationStopped = true;\n\t\t\t\t}\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}, true);\n\n})(mui, window, 'click');\n(function($, document) {\n\t$(function() {\n\t\tif (!$.os.ios) {\n\t\t\treturn;\n\t\t}\n\t\tvar CLASS_FOCUSIN = 'mui-focusin';\n\t\tvar CLASS_BAR_TAB = 'mui-bar-tab';\n\t\tvar CLASS_BAR_FOOTER = 'mui-bar-footer';\n\t\tvar CLASS_BAR_FOOTER_SECONDARY = 'mui-bar-footer-secondary';\n\t\tvar CLASS_BAR_FOOTER_SECONDARY_TAB = 'mui-bar-footer-secondary-tab';\n\t\t// var content = document.querySelector('.' + CLASS_CONTENT);\n\t\t// if (content) {\n\t\t// \tdocument.body.insertBefore(content, document.body.firstElementChild);\n\t\t// }\n\t\tdocument.addEventListener('focusin', function(e) {\n\t\t\tif ($.os.plus) { //在父webview里边不fix\n\t\t\t\tif (window.plus) {\n\t\t\t\t\tif (plus.webview.currentWebview().children().length > 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar target = e.target;\n\t\t\t//TODO 需考虑所有键盘弹起的情况\n\t\t\tif (target.tagName && (target.tagName === 'TEXTAREA' || (target.tagName === 'INPUT' && (target.type === 'text' || target.type === 'search' || target.type === 'number')))) {\n\t\t\t\tif (target.disabled || target.readOnly) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tdocument.body.classList.add(CLASS_FOCUSIN);\n\t\t\t\tvar isFooter = false;\n\t\t\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\t\t\tvar classList = target.classList;\n\t\t\t\t\tif (classList && classList.contains(CLASS_BAR_TAB) || classList.contains(CLASS_BAR_FOOTER) || classList.contains(CLASS_BAR_FOOTER_SECONDARY) || classList.contains(CLASS_BAR_FOOTER_SECONDARY_TAB)) {\n\t\t\t\t\t\tisFooter = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isFooter) {\n\t\t\t\t\tvar scrollTop = document.body.scrollHeight;\n\t\t\t\t\tvar scrollLeft = document.body.scrollLeft;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\twindow.scrollTo(scrollLeft, scrollTop);\n\t\t\t\t\t}, 20);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tdocument.addEventListener('focusout', function(e) {\n\t\t\tvar classList = document.body.classList;\n\t\t\tif (classList.contains(CLASS_FOCUSIN)) {\n\t\t\t\tclassList.remove(CLASS_FOCUSIN);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\twindow.scrollTo(document.body.scrollLeft, document.body.scrollTop);\n\t\t\t\t}, 20);\n\t\t\t}\n\t\t});\n\t});\n})(mui, document);\n/**\n * mui namespace(optimization)\n * @param {type} $\n * @returns {undefined}\n */\n(function($) {\n\t$.namespace = 'mui';\n\t$.classNamePrefix = $.namespace + '-';\n\t$.classSelectorPrefix = '.' + $.classNamePrefix;\n\t/**\n\t * 返回正确的className\n\t * @param {type} className\n\t * @returns {String}\n\t */\n\t$.className = function(className) {\n\t\treturn $.classNamePrefix + className;\n\t};\n\t/**\n\t * 返回正确的classSelector\n\t * @param {type} classSelector\n\t * @returns {String}\n\t */\n\t$.classSelector = function(classSelector) {\n\t\treturn classSelector.replace(/\\./g, $.classSelectorPrefix);\n\t};\n\t/**\n         * 返回正确的eventName\n         * @param {type} event\n         * @param {type} module\n         * @returns {String}\n         */\n\t$.eventName = function(event, module) {\n\t\treturn event + ($.namespace ? ('.' + $.namespace) : '') + ( module ? ('.' + module) : '');\n\t};\n})(mui);\n\n/**\n * mui gestures\n * @param {type} $\n * @param {type} window\n * @returns {undefined}\n */\n(function($, window) {\n\t$.gestures = {\n\t\tsession: {}\n\t};\n\t/**\n\t * Gesture preventDefault\n\t * @param {type} e\n\t * @returns {undefined}\n\t */\n\t$.preventDefault = function(e) {\n\t\te.preventDefault();\n\t};\n\t/**\n\t * Gesture stopPropagation\n\t * @param {type} e\n\t * @returns {undefined}\n\t */\n\t$.stopPropagation = function(e) {\n\t\te.stopPropagation();\n\t};\n\n\t/**\n\t * register gesture\n\t * @param {type} gesture\n\t * @returns {$.gestures}\n\t */\n\t$.addGesture = function(gesture) {\n\t\treturn $.addAction('gestures', gesture);\n\n\t};\n\n\tvar round = Math.round;\n\tvar abs = Math.abs;\n\tvar sqrt = Math.sqrt;\n\tvar atan = Math.atan;\n\tvar atan2 = Math.atan2;\n\t/**\n\t * distance\n\t * @param {type} p1\n\t * @param {type} p2\n\t * @returns {Number}\n\t */\n\tvar getDistance = function(p1, p2, props) {\n\t\tif (!props) {\n\t\t\tprops = ['x', 'y'];\n\t\t}\n\t\tvar x = p2[props[0]] - p1[props[0]];\n\t\tvar y = p2[props[1]] - p1[props[1]];\n\t\treturn sqrt((x * x) + (y * y));\n\t};\n\t/**\n\t * scale\n\t * @param {Object} starts\n\t * @param {Object} moves\n\t */\n\tvar getScale = function(starts, moves) {\n\t\tif (starts.length >= 2 && moves.length >= 2) {\n\t\t\tvar props = ['pageX', 'pageY'];\n\t\t\treturn getDistance(moves[1], moves[0], props) / getDistance(starts[1], starts[0], props);\n\t\t}\n\t\treturn 1;\n\t};\n\t/**\n\t * angle\n\t * @param {type} p1\n\t * @param {type} p2\n\t * @returns {Number}\n\t */\n\tvar getAngle = function(p1, p2, props) {\n\t\tif (!props) {\n\t\t\tprops = ['x', 'y'];\n\t\t}\n\t\tvar x = p2[props[0]] - p1[props[0]];\n\t\tvar y = p2[props[1]] - p1[props[1]];\n\t\treturn atan2(y, x) * 180 / Math.PI;\n\t};\n\t/**\n\t * direction\n\t * @param {Object} x\n\t * @param {Object} y\n\t */\n\tvar getDirection = function(x, y) {\n\t\tif (x === y) {\n\t\t\treturn '';\n\t\t}\n\t\tif (abs(x) >= abs(y)) {\n\t\t\treturn x > 0 ? 'left' : 'right';\n\t\t}\n\t\treturn y > 0 ? 'up' : 'down';\n\t};\n\t/**\n\t * rotation\n\t * @param {Object} start\n\t * @param {Object} end\n\t */\n\tvar getRotation = function(start, end) {\n\t\tvar props = ['pageX', 'pageY'];\n\t\treturn getAngle(end[1], end[0], props) - getAngle(start[1], start[0], props);\n\t};\n\t/**\n\t * px per ms\n\t * @param {Object} deltaTime\n\t * @param {Object} x\n\t * @param {Object} y\n\t */\n\tvar getVelocity = function(deltaTime, x, y) {\n\t\treturn {\n\t\t\tx: x / deltaTime || 0,\n\t\t\ty: y / deltaTime || 0\n\t\t};\n\t};\n\t/**\n\t * detect gestures\n\t * @param {type} event\n\t * @param {type} touch\n\t * @returns {undefined}\n\t */\n\tvar detect = function(event, touch) {\n\t\tif ($.gestures.stoped) {\n\t\t\treturn;\n\t\t}\n\t\t$.doAction('gestures', function(index, gesture) {\n\t\t\tif (!$.gestures.stoped) {\n\t\t\t\tif ($.options.gestureConfig[gesture.name] !== false) {\n\t\t\t\t\tgesture.handle(event, touch);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t/**\n\t * 暂时无用\n\t * @param {Object} node\n\t * @param {Object} parent\n\t */\n\tvar hasParent = function(node, parent) {\n\t\twhile (node) {\n\t\t\tif (node == parent) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tnode = node.parentNode;\n\t\t}\n\t\treturn false;\n\t};\n\n\tvar uniqueArray = function(src, key, sort) {\n\t\tvar results = [];\n\t\tvar values = [];\n\t\tvar i = 0;\n\n\t\twhile (i < src.length) {\n\t\t\tvar val = key ? src[i][key] : src[i];\n\t\t\tif (values.indexOf(val) < 0) {\n\t\t\t\tresults.push(src[i]);\n\t\t\t}\n\t\t\tvalues[i] = val;\n\t\t\ti++;\n\t\t}\n\n\t\tif (sort) {\n\t\t\tif (!key) {\n\t\t\t\tresults = results.sort();\n\t\t\t} else {\n\t\t\t\tresults = results.sort(function sortUniqueArray(a, b) {\n\t\t\t\t\treturn a[key] > b[key];\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t};\n\tvar getMultiCenter = function(touches) {\n\t\tvar touchesLength = touches.length;\n\t\tif (touchesLength === 1) {\n\t\t\treturn {\n\t\t\t\tx: round(touches[0].pageX),\n\t\t\t\ty: round(touches[0].pageY)\n\t\t\t};\n\t\t}\n\n\t\tvar x = 0;\n\t\tvar y = 0;\n\t\tvar i = 0;\n\t\twhile (i < touchesLength) {\n\t\t\tx += touches[i].pageX;\n\t\t\ty += touches[i].pageY;\n\t\t\ti++;\n\t\t}\n\n\t\treturn {\n\t\t\tx: round(x / touchesLength),\n\t\t\ty: round(y / touchesLength)\n\t\t};\n\t};\n\tvar multiTouch = function() {\n\t\treturn $.options.gestureConfig.pinch;\n\t};\n\tvar copySimpleTouchData = function(touch) {\n\t\tvar touches = [];\n\t\tvar i = 0;\n\t\twhile (i < touch.touches.length) {\n\t\t\ttouches[i] = {\n\t\t\t\tpageX: round(touch.touches[i].pageX),\n\t\t\t\tpageY: round(touch.touches[i].pageY)\n\t\t\t};\n\t\t\ti++;\n\t\t}\n\t\treturn {\n\t\t\ttimestamp: $.now(),\n\t\t\tgesture: touch.gesture,\n\t\t\ttouches: touches,\n\t\t\tcenter: getMultiCenter(touch.touches),\n\t\t\tdeltaX: touch.deltaX,\n\t\t\tdeltaY: touch.deltaY\n\t\t};\n\t};\n\n\tvar calDelta = function(touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar center = touch.center;\n\t\tvar offset = session.offsetDelta || {};\n\t\tvar prevDelta = session.prevDelta || {};\n\t\tvar prevTouch = session.prevTouch || {};\n\n\t\tif (touch.gesture.type === $.EVENT_START || touch.gesture.type === $.EVENT_END) {\n\t\t\tprevDelta = session.prevDelta = {\n\t\t\t\tx: prevTouch.deltaX || 0,\n\t\t\t\ty: prevTouch.deltaY || 0\n\t\t\t};\n\n\t\t\toffset = session.offsetDelta = {\n\t\t\t\tx: center.x,\n\t\t\t\ty: center.y\n\t\t\t};\n\t\t}\n\t\ttouch.deltaX = prevDelta.x + (center.x - offset.x);\n\t\ttouch.deltaY = prevDelta.y + (center.y - offset.y);\n\t};\n\tvar calTouchData = function(touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar touches = touch.touches;\n\t\tvar touchesLength = touches.length;\n\n\t\tif (!session.firstTouch) {\n\t\t\tsession.firstTouch = copySimpleTouchData(touch);\n\t\t}\n\n\t\tif (multiTouch() && touchesLength > 1 && !session.firstMultiTouch) {\n\t\t\tsession.firstMultiTouch = copySimpleTouchData(touch);\n\t\t} else if (touchesLength === 1) {\n\t\t\tsession.firstMultiTouch = false;\n\t\t}\n\n\t\tvar firstTouch = session.firstTouch;\n\t\tvar firstMultiTouch = session.firstMultiTouch;\n\t\tvar offsetCenter = firstMultiTouch ? firstMultiTouch.center : firstTouch.center;\n\n\t\tvar center = touch.center = getMultiCenter(touches);\n\t\ttouch.timestamp = $.now();\n\t\ttouch.deltaTime = touch.timestamp - firstTouch.timestamp;\n\n\t\ttouch.angle = getAngle(offsetCenter, center);\n\t\ttouch.distance = getDistance(offsetCenter, center);\n\n\t\tcalDelta(touch);\n\n\t\ttouch.offsetDirection = getDirection(touch.deltaX, touch.deltaY);\n\n\t\ttouch.scale = firstMultiTouch ? getScale(firstMultiTouch.touches, touches) : 1;\n\t\ttouch.rotation = firstMultiTouch ? getRotation(firstMultiTouch.touches, touches) : 0;\n\n\t\tcalIntervalTouchData(touch);\n\n\t};\n\tvar CAL_INTERVAL = 25;\n\tvar calIntervalTouchData = function(touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar last = session.lastInterval || touch;\n\t\tvar deltaTime = touch.timestamp - last.timestamp;\n\t\tvar velocity;\n\t\tvar velocityX;\n\t\tvar velocityY;\n\t\tvar direction;\n\n\t\tif (touch.gesture.type != $.EVENT_CANCEL && (deltaTime > CAL_INTERVAL || last.velocity === undefined)) {\n\t\t\tvar deltaX = last.deltaX - touch.deltaX;\n\t\t\tvar deltaY = last.deltaY - touch.deltaY;\n\n\t\t\tvar v = getVelocity(deltaTime, deltaX, deltaY);\n\t\t\tvelocityX = v.x;\n\t\t\tvelocityY = v.y;\n\t\t\tvelocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n\t\t\tdirection = getDirection(deltaX, deltaY) || last.direction;\n\n\t\t\tsession.lastInterval = touch;\n\t\t} else {\n\t\t\tvelocity = last.velocity;\n\t\t\tvelocityX = last.velocityX;\n\t\t\tvelocityY = last.velocityY;\n\t\t\tdirection = last.direction;\n\t\t}\n\n\t\ttouch.velocity = velocity;\n\t\ttouch.velocityX = velocityX;\n\t\ttouch.velocityY = velocityY;\n\t\ttouch.direction = direction;\n\t};\n\tvar targetIds = {};\n\tvar convertTouches = function(touches) {\n\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\t!touches['identifier'] && (touches['identifier'] = 0);\n\t\t}\n\t\treturn touches;\n\t};\n\tvar getTouches = function(event, touch) {\n\t\tvar allTouches = convertTouches($.slice.call(event.touches || [event]));\n\n\t\tvar type = event.type;\n\n\t\tvar targetTouches = [];\n\t\tvar changedTargetTouches = [];\n\n\t\t//当touchstart或touchmove且touches长度为1，直接获得all和changed\n\t\tif ((type === $.EVENT_START || type === $.EVENT_MOVE) && allTouches.length === 1) {\n\t\t\ttargetIds[allTouches[0].identifier] = true;\n\t\t\ttargetTouches = allTouches;\n\t\t\tchangedTargetTouches = allTouches;\n\t\t\ttouch.target = event.target;\n\t\t} else {\n\t\t\tvar i = 0;\n\t\t\tvar targetTouches = [];\n\t\t\tvar changedTargetTouches = [];\n\t\t\tvar changedTouches = convertTouches($.slice.call(event.changedTouches || [event]));\n\n\t\t\ttouch.target = event.target;\n\t\t\tvar sessionTarget = $.gestures.session.target || event.target;\n\t\t\ttargetTouches = allTouches.filter(function(touch) {\n\t\t\t\treturn hasParent(touch.target, sessionTarget);\n\t\t\t});\n\n\t\t\tif (type === $.EVENT_START) {\n\t\t\t\ti = 0;\n\t\t\t\twhile (i < targetTouches.length) {\n\t\t\t\t\ttargetIds[targetTouches[i].identifier] = true;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti = 0;\n\t\t\twhile (i < changedTouches.length) {\n\t\t\t\tif (targetIds[changedTouches[i].identifier]) {\n\t\t\t\t\tchangedTargetTouches.push(changedTouches[i]);\n\t\t\t\t}\n\t\t\t\tif (type === $.EVENT_END || type === $.EVENT_CANCEL) {\n\t\t\t\t\tdelete targetIds[changedTouches[i].identifier];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\tif (!changedTargetTouches.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\ttargetTouches = uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true);\n\t\tvar touchesLength = targetTouches.length;\n\t\tvar changedTouchesLength = changedTargetTouches.length;\n\t\tif (type === $.EVENT_START && touchesLength - changedTouchesLength === 0) { //first\n\t\t\ttouch.isFirst = true;\n\t\t\t$.gestures.touch = $.gestures.session = {\n\t\t\t\ttarget: event.target\n\t\t\t};\n\t\t}\n\t\ttouch.isFinal = ((type === $.EVENT_END || type === $.EVENT_CANCEL) && (touchesLength - changedTouchesLength === 0));\n\n\t\ttouch.touches = targetTouches;\n\t\ttouch.changedTouches = changedTargetTouches;\n\t\treturn true;\n\n\t};\n\tvar handleTouchEvent = function(event) {\n\t\tvar touch = {\n\t\t\tgesture: event\n\t\t};\n\t\tvar touches = getTouches(event, touch);\n\t\tif (!touches) {\n\t\t\treturn;\n\t\t}\n\t\tcalTouchData(touch);\n\t\tdetect(event, touch);\n\t\t$.gestures.session.prevTouch = touch;\n\t\tif (event.type === $.EVENT_END && !$.isTouchable) {\n\t\t\t$.gestures.touch = $.gestures.session = {};\n\t\t}\n\t};\n\twindow.addEventListener($.EVENT_START, handleTouchEvent);\n\twindow.addEventListener($.EVENT_MOVE, handleTouchEvent);\n\twindow.addEventListener($.EVENT_END, handleTouchEvent);\n\twindow.addEventListener($.EVENT_CANCEL, handleTouchEvent);\n\t//fixed hashchange(android)\n\twindow.addEventListener($.EVENT_CLICK, function(e) {\n\t\t//TODO 应该判断当前target是不是在targets.popover内部，而不是非要相等\n\t\tif (($.os.android || $.os.ios) && (($.targets.popover && e.target === $.targets.popover) || ($.targets.tab) || $.targets.offcanvas || $.targets.modal)) {\n\t\t\te.preventDefault();\n\t\t}\n\t}, true);\n\n\n\t//增加原生滚动识别\n\t$.isScrolling = false;\n\tvar scrollingTimeout = null;\n\twindow.addEventListener('scroll', function() {\n\t\t$.isScrolling = true;\n\t\tscrollingTimeout && clearTimeout(scrollingTimeout);\n\t\tscrollingTimeout = setTimeout(function() {\n\t\t\t$.isScrolling = false;\n\t\t}, 250);\n\t});\n})(mui, window);\n/**\n * mui gesture flick[left|right|up|down]\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar flickStartTime = 0;\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar options = this.options;\n\t\tvar now = $.now();\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tif (now - flickStartTime > 300) {\n\t\t\t\t\tflickStartTime = now;\n\t\t\t\t\tsession.flickStart = touch.center;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\ttouch.flick = false;\n\t\t\t\tif (session.flickStart && options.flickMaxTime > (now - flickStartTime) && touch.distance > options.flickMinDistince) {\n\t\t\t\t\ttouch.flick = true;\n\t\t\t\t\ttouch.flickTime = now - flickStartTime;\n\t\t\t\t\ttouch.flickDistanceX = touch.center.x - session.flickStart.x;\n\t\t\t\t\ttouch.flickDistanceY = touch.center.y - session.flickStart.y;\n\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t};\n\t/**\n\t * mui gesture flick\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 5,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tflickMaxTime: 200,\n\t\t\tflickMinDistince: 10\n\t\t}\n\t});\n})(mui, 'flick');\n/**\n * mui gesture swipe[left|right|up|down]\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tif (event.type === $.EVENT_END || event.type === $.EVENT_CANCEL) {\n\t\t\tvar options = this.options;\n\t\t\ttouch.swipe = false;\n\t\t\t//TODO 后续根据velocity计算\n\t\t\tif (touch.direction && options.swipeMaxTime > touch.deltaTime && touch.distance > options.swipeMinDistince) {\n\t\t\t\ttouch.swipe = true;\n\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\n\t\t\t}\n\t\t}\n\t};\n\t/**\n\t * mui gesture swipe\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 10,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tswipeMaxTime: 300,\n\t\t\tswipeMinDistince: 18\n\t\t}\n\t});\n})(mui, 'swipe');\n/**\n * mui gesture drag[start|left|right|up|down|end]\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tif (!touch.direction || !session.target) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//修正direction,可在session期间自行锁定拖拽方向，方便开发scroll类不同方向拖拽插件嵌套\n\t\t\t\tif (session.lockDirection && session.startDirection) {\n\t\t\t\t\tif (session.startDirection && session.startDirection !== touch.direction) {\n\t\t\t\t\t\tif (session.startDirection === 'up' || session.startDirection === 'down') {\n\t\t\t\t\t\t\ttouch.direction = touch.deltaY < 0 ? 'up' : 'down';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttouch.direction = touch.deltaX < 0 ? 'left' : 'right';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!session.drag) {\n\t\t\t\t\tsession.drag = true;\n\t\t\t\t\t$.trigger(session.target, name + 'start', touch);\n\t\t\t\t}\n\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tif (session.drag && touch.isFinal) {\n\t\t\t\t\t$.trigger(session.target, name + 'end', touch);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture drag\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 20,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tfingers: 1\n\t\t}\n\t});\n})(mui, 'drag');\n/**\n * mui gesture tap and doubleTap\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar lastTarget;\n\tvar lastTapTime;\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar options = this.options;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_END:\n\t\t\t\tif (!touch.isFinal) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar target = session.target;\n\t\t\t\tif (!target || (target.disabled || (target.classList && target.classList.contains('mui-disabled')))) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (touch.distance < options.tapMaxDistance && touch.deltaTime < options.tapMaxTime) {\n\t\t\t\t\tif ($.options.gestureConfig.doubletap && lastTarget && (lastTarget === target)) { //same target\n\t\t\t\t\t\tif (lastTapTime && (touch.timestamp - lastTapTime) < options.tapMaxInterval) {\n\t\t\t\t\t\t\t$.trigger(target, 'doubletap', touch);\n\t\t\t\t\t\t\tlastTapTime = $.now();\n\t\t\t\t\t\t\tlastTarget = target;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$.trigger(target, name, touch);\n\t\t\t\t\tlastTapTime = $.now();\n\t\t\t\t\tlastTarget = target;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture tap\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 30,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tfingers: 1,\n\t\t\ttapMaxInterval: 300,\n\t\t\ttapMaxDistance: 5,\n\t\t\ttapMaxTime: 250\n\t\t}\n\t});\n})(mui, 'tap');\n/**\n * mui gesture longtap\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar timer;\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar options = this.options;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = setTimeout(function() {\n\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t}, options.holdTimeout);\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tif (touch.distance > options.holdThreshold) {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tclearTimeout(timer);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture longtap\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 10,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tfingers: 1,\n\t\t\tholdTimeout: 500,\n\t\t\tholdThreshold: 2\n\t\t}\n\t});\n})(mui, 'longtap');\n/**\n * mui gesture hold\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar timer;\n\tvar handle = function(event, touch) {\n\t\tvar session = $.gestures.session;\n\t\tvar options = this.options;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tif ($.options.gestureConfig.hold) {\n\t\t\t\t\ttimer && clearTimeout(timer);\n\t\t\t\t\ttimer = setTimeout(function() {\n\t\t\t\t\t\ttouch.hold = true;\n\t\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\t}, options.holdTimeout);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tif (timer) {\n\t\t\t\t\tclearTimeout(timer) && (timer = null);\n\t\t\t\t\t$.trigger(session.target, 'release', touch);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture hold\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 10,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tfingers: 1,\n\t\t\tholdTimeout: 0\n\t\t}\n\t});\n})(mui, 'hold');\n/**\n * mui gesture pinch\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar handle = function(event, touch) {\n\t\tvar options = this.options;\n\t\tvar session = $.gestures.session;\n\t\tswitch (event.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_MOVE:\n\t\t\t\tif ($.options.gestureConfig.pinch) {\n\t\t\t\t\tif (touch.touches.length < 2) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (!session.pinch) { //start\n\t\t\t\t\t\tsession.pinch = true;\n\t\t\t\t\t\t$.trigger(session.target, name + 'start', touch);\n\t\t\t\t\t}\n\t\t\t\t\t$.trigger(session.target, name, touch);\n\t\t\t\t\tvar scale = touch.scale;\n\t\t\t\t\tvar rotation = touch.rotation;\n\t\t\t\t\tvar lastScale = typeof touch.lastScale === 'undefined' ? 1 : touch.lastScale;\n\t\t\t\t\tvar scaleDiff = 0.000000000001; //防止scale与lastScale相等，不触发事件的情况。\n\t\t\t\t\tif (scale > lastScale) { //out\n\t\t\t\t\t\tlastScale = scale - scaleDiff;\n\t\t\t\t\t\t$.trigger(session.target, name + 'out', touch);\n\t\t\t\t\t} //in\n\t\t\t\t\telse if (scale < lastScale) {\n\t\t\t\t\t\tlastScale = scale + scaleDiff;\n\t\t\t\t\t\t$.trigger(session.target, name + 'in', touch);\n\t\t\t\t\t}\n\t\t\t\t\tif (Math.abs(rotation) > options.minRotationAngle) {\n\t\t\t\t\t\t$.trigger(session.target, 'rotate', touch);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tif ($.options.gestureConfig.pinch && session.pinch && touch.touches.length === 2) {\n\t\t\t\t\tsession.pinch = false;\n\t\t\t\t\t$.trigger(session.target, name + 'end', touch);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t/**\n\t * mui gesture pinch\n\t */\n\t$.addGesture({\n\t\tname: name,\n\t\tindex: 10,\n\t\thandle: handle,\n\t\toptions: {\n\t\t\tminRotationAngle: 0\n\t\t}\n\t});\n})(mui, 'pinch');\n/**\n * mui.init\n * @param {type} $\n * @returns {undefined}\n */\n(function($) {\n\t$.global = $.options = {\n\t\tgestureConfig: {\n\t\t\ttap: true,\n\t\t\tdoubletap: false,\n\t\t\tlongtap: false,\n\t\t\thold: false,\n\t\t\tflick: true,\n\t\t\tswipe: true,\n\t\t\tdrag: true,\n\t\t\tpinch: false\n\t\t}\n\t};\n\t/**\n\t *\n\t * @param {type} options\n\t * @returns {undefined}\n\t */\n\t$.initGlobal = function(options) {\n\t\t$.options = $.extend(true, $.global, options);\n\t\treturn this;\n\t};\n\tvar inits = {};\n\n\tvar isInitialized = false;\n\t//TODO 自动调用init?因为用户自己调用init的时机可能不确定，如果晚于自动init，则会有潜在问题\n\t//\t$.ready(function() {\n\t//\t\tsetTimeout(function() {\n\t//\t\t\tif (!isInitialized) {\n\t//\t\t\t\t$.init();\n\t//\t\t\t}\n\t//\t\t}, 300);\n\t//\t});\n\t/**\n\t * 单页配置 初始化\n\t * @param {object} options\n\t */\n\t$.init = function(options) {\n\t\tisInitialized = true;\n\t\t$.options = $.extend(true, $.global, options || {});\n\t\t$.ready(function() {\n\t\t\t$.doAction('inits', function(index, init) {\n\t\t\t\tvar isInit = !!(!inits[init.name] || init.repeat);\n\t\t\t\tif (isInit) {\n\t\t\t\t\tinit.handle.call($);\n\t\t\t\t\tinits[init.name] = true;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn this;\n\t};\n\n\t/**\n\t * 增加初始化执行流程\n\t * @param {function} init\n\t */\n\t$.addInit = function(init) {\n\t\treturn $.addAction('inits', init);\n\t};\n\t/**\n\t * 处理html5版本subpages \n\t */\n\t$.addInit({\n\t\tname: 'iframe',\n\t\tindex: 100,\n\t\thandle: function() {\n\t\t\tvar options = $.options;\n\t\t\tvar subpages = options.subpages || [];\n\t\t\tif (!$.os.plus && subpages.length) {\n\t\t\t\t//暂时只处理单个subpage。后续可以考虑支持多个subpage\n\t\t\t\tcreateIframe(subpages[0]);\n\t\t\t}\n\t\t}\n\t});\n\tvar createIframe = function(options) {\n\t\tvar wrapper = document.createElement('div');\n\t\twrapper.className = 'mui-iframe-wrapper';\n\t\tvar styles = options.styles || {};\n\t\tif (typeof styles.top !== 'string') {\n\t\t\tstyles.top = '0px';\n\t\t}\n\t\tif (typeof styles.bottom !== 'string') {\n\t\t\tstyles.bottom = '0px';\n\t\t}\n\t\twrapper.style.top = styles.top;\n\t\twrapper.style.bottom = styles.bottom;\n\t\tvar iframe = document.createElement('iframe');\n\t\tiframe.src = options.url;\n\t\tiframe.id = options.id || options.url;\n\t\tiframe.name = iframe.id;\n\t\twrapper.appendChild(iframe);\n\t\tdocument.body.appendChild(wrapper);\n\t\t//目前仅处理微信\n\t\t$.os.wechat && handleScroll(wrapper, iframe);\n\t};\n\n\tfunction handleScroll(wrapper, iframe) {\n\t\tvar key = 'MUI_SCROLL_POSITION_' + document.location.href + '_' + iframe.src;\n\t\tvar scrollTop = (parseFloat(localStorage.getItem(key)) || 0);\n\t\tif (scrollTop) {\n\t\t\t(function(y) {\n\t\t\t\tiframe.onload = function() {\n\t\t\t\t\twindow.scrollTo(0, y);\n\t\t\t\t};\n\t\t\t})(scrollTop);\n\t\t}\n\t\tsetInterval(function() {\n\t\t\tvar _scrollTop = window.scrollY;\n\t\t\tif (scrollTop !== _scrollTop) {\n\t\t\t\tlocalStorage.setItem(key, _scrollTop + '');\n\t\t\t\tscrollTop = _scrollTop;\n\t\t\t}\n\t\t}, 100);\n\t};\n\t$(function() {\n\t\tvar classList = document.body.classList;\n\t\tvar os = [];\n\t\tif ($.os.ios) {\n\t\t\tos.push({\n\t\t\t\tos: 'ios',\n\t\t\t\tversion: $.os.version\n\t\t\t});\n\t\t\tclassList.add('mui-ios');\n\t\t} else if ($.os.android) {\n\t\t\tos.push({\n\t\t\t\tos: 'android',\n\t\t\t\tversion: $.os.version\n\t\t\t});\n\t\t\tclassList.add('mui-android');\n\t\t}\n\t\tif ($.os.wechat) {\n\t\t\tos.push({\n\t\t\t\tos: 'wechat',\n\t\t\t\tversion: $.os.wechat.version\n\t\t\t});\n\t\t\tclassList.add('mui-wechat');\n\t\t}\n\t\tif (os.length) {\n\t\t\t$.each(os, function(index, osObj) {\n\t\t\t\tvar version = '';\n\t\t\t\tvar classArray = [];\n\t\t\t\tif (osObj.version) {\n\t\t\t\t\t$.each(osObj.version.split('.'), function(i, v) {\n\t\t\t\t\t\tversion = version + (version ? '-' : '') + v;\n\t\t\t\t\t\tclassList.add($.className(osObj.os + '-' + version));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n})(mui);\n/**\n * mui.init 5+\n * @param {type} $\n * @returns {undefined}\n */\n(function($) {\n\tvar defaultOptions = {\n\t\tswipeBack: false,\n\t\tpreloadPages: [], //5+ lazyLoad webview\n\t\tpreloadLimit: 10, //预加载窗口的数量限制(一旦超出，先进先出)\n\t\tkeyEventBind: {\n\t\t\tbackbutton: true,\n\t\t\tmenubutton: true\n\t\t}\n\t};\n\n\t//默认页面动画\n\tvar defaultShow = {\n\t\tautoShow: true,\n\t\tduration: $.os.ios ? 200 : 100,\n\t\taniShow: 'slide-in-right'\n\t};\n\t//若执行了显示动画初始化操作，则要覆盖默认配置\n\tif ($.options.show) {\n\t\tdefaultShow = $.extend(true, defaultShow, $.options.show);\n\t}\n\n\t$.currentWebview = null;\n\t$.isHomePage = false;\n\n\t$.extend(true, $.global, defaultOptions);\n\t$.extend(true, $.options, defaultOptions);\n\t/**\n\t * 等待动画配置\n\t * @param {type} options\n\t * @returns {Object}\n\t */\n\t$.waitingOptions = function(options) {\n\t\treturn $.extend(true, {}, {\n\t\t\tautoShow: true,\n\t\t\ttitle: '',\n\t\t\tmodal:false\n\t\t}, options);\n\t};\n\t/**\n\t * 窗口显示配置\n\t * @param {type} options\n\t * @returns {Object}\n\t */\n\t$.showOptions = function(options) {\n\t\treturn $.extend(true, {}, defaultShow, options);\n\t};\n\t/**\n\t * 窗口默认配置\n\t * @param {type} options\n\t * @returns {Object}\n\t */\n\t$.windowOptions = function(options) {\n\t\treturn $.extend({\n\t\t\tscalable: false,\n\t\t\tbounce: \"\" //vertical\n\t\t}, options);\n\t};\n\t/**\n\t * plusReady\n\t * @param {type} callback\n\t * @returns {_L6.$}\n\t */\n\t$.plusReady = function(callback) {\n\t\tif (window.plus) {\n\t\t\tsetTimeout(function() { //解决callback与plusready事件的执行时机问题(典型案例:showWaiting,closeWaiting)\n\t\t\t\tcallback();\n\t\t\t}, 0);\n\t\t} else {\n\t\t\tdocument.addEventListener(\"plusready\", function() {\n\t\t\t\tcallback();\n\t\t\t}, false);\n\t\t}\n\t\treturn this;\n\t};\n\t/**\n\t * 5+ event(5+没提供之前我自己实现)\n\t * @param {type} webview\n\t * @param {type} eventType\n\t * @param {type} data\n\t * @returns {undefined}\n\t */\n\t$.receive = function(eventType, data) {\n\t\tif (eventType) {\n\t\t\ttry {\n\t\t\t\tif (data) {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t\t$.trigger(document, eventType, data);\n\t\t}\n\t};\n\t$.fire = function(webview, eventType, data) {\n\t\tif (webview) {\n\t\t\tif (data !== '') {\n\t\t\t\tdata = data || {};\n\t\t\t\tif ($.isPlainObject(data)) {\n\t\t\t\t\tdata = JSON.stringify(data || {}).replace(/\\'/g, \"\\\\u0027\").replace(/\\\\/g, \"\\\\u005c\");\n\t\t\t\t}\n\t\t\t}\n\t\t\twebview.evalJS(\"typeof mui!=='undefined'&&mui.receive('\" + eventType + \"','\" + data + \"')\");\n\t\t}\n\t};\n\t/**\n\t * 5+ event(5+没提供之前我自己实现)\n\t * @param {type} eventType\n\t * @param {type} data\n\t * @returns {undefined}\n\t */\n\t\n\tvar triggerPreload = function(webview) {\n\t\tif (!webview.preloaded) {\n\t\t\t$.fire(webview, 'preload');\n\t\t\tvar list = webview.children();\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\t$.fire(list[i], 'preload');\n\t\t\t}\n\t\t\twebview.preloaded = true;\n\t\t}\n\t};\n\tvar trigger = function(webview, eventType, timeChecked) {\n\t\tif (timeChecked) {\n\t\t\tif (!webview[eventType + 'ed']) {\n\t\t\t\t$.fire(webview, eventType);\n\t\t\t\tvar list = webview.children();\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\t\t$.fire(list[i], eventType);\n\t\t\t\t}\n\t\t\t\twebview[eventType + 'ed'] = true;\n\t\t\t}\n\t\t} else {\n\t\t\t$.fire(webview, eventType);\n\t\t\tvar list = webview.children();\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\t$.fire(list[i], eventType);\n\t\t\t}\n\t\t}\n\n\t};\n\t/**\n\t * 打开新窗口\n\t * @param {string} url 要打开的页面地址\n\t * @param {string} id 指定页面ID\n\t * @param {object} options 可选:参数,等待,窗口,显示配置{params:{},waiting:{},styles:{},show:{}}\n\t */\n\t$.openWindow = function(url, id, options) {\n\t\tif (typeof url === 'object') {\n\t\t\toptions = url;\n\t\t\turl = options.url;\n\t\t\tid = options.id || url;\n\t\t} else {\n\t\t\tif (typeof id === 'object') {\n\t\t\t\toptions = id;\n\t\t\t\tid = url;\n\t\t\t} else {\n\t\t\t\tid = id || url;\n\t\t\t}\n\t\t}\n\t\tif (!$.os.plus) {\n\t\t\t//TODO 先临时这么处理：手机上顶层跳，PC上parent跳\n\t\t\tif ($.os.ios || $.os.android) {\n\t\t\t\twindow.top.location.href = url;\n\t\t\t} else {\n\t\t\t\twindow.parent.location.href = url;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (!window.plus) {\n\t\t\treturn;\n\t\t}\n\n\t\toptions = options || {};\n\t\tvar params = options.params || {};\n\t\tvar webview = null,\n\t\t\twebviewCache = null,\n\t\t\tnShow, nWaiting;\n\n\t\tif ($.webviews[id]) {\n\t\t\twebviewCache = $.webviews[id];\n\t\t\t//webview真实存在，才能获取\n\t\t\tif (plus.webview.getWebviewById(id)) {\n\t\t\t\twebview = webviewCache.webview;\n\t\t\t}\n\t\t}\n\n\t\tif (webviewCache && webview) { //已缓存\n\t\t\t//每次show都需要传递动画参数；\n\t\t\t//预加载的动画参数优先级：openWindow配置>preloadPages配置>mui默认配置；\n\t\t\tnShow = webviewCache.show;\n\t\t\tnShow = options.show ? $.extend(nShow, options.show) : nShow;\n\t\t\twebview.show(nShow.aniShow, nShow.duration, function() {\n\t\t\t\ttriggerPreload(webview);\n\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\n\t\t\t});\n\n\t\t\twebviewCache.afterShowMethodName && webview.evalJS(webviewCache.afterShowMethodName + '(\\'' + JSON.stringify(params) + '\\')');\n\t\t\treturn webview;\n\t\t} else { //新窗口\n\t\t\tif (options.createNew !== true) {\n\t\t\t\twebview = plus.webview.getWebviewById(id);\n\t\t\t\tif (webview) { //如果已存在\n\t\t\t\t\tnShow = $.showOptions(options.show);\n\t\t\t\t\tnShow.autoShow && webview.show(nShow.aniShow, nShow.duration, function() {\n\t\t\t\t\t\ttriggerPreload(webview);\n\t\t\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\n\t\t\t\t\t});\n\t\t\t\t\treturn webview;\n\t\t\t\t} else {\n\t\t\t\t\tif (!url) {\n\t\t\t\t\t\tthrow new Error('webview[' + id + '] does not exist');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//显示waiting\n\t\t\tvar waitingConfig = $.waitingOptions(options.waiting);\n\t\t\tif (waitingConfig.autoShow) {\n\t\t\t\tnWaiting = plus.nativeUI.showWaiting(waitingConfig.title, waitingConfig.options);\n\t\t\t}\n\t\t\t//创建页面\n\t\t\toptions = $.extend(options, {\n\t\t\t\tid: id,\n\t\t\t\turl: url\n\t\t\t});\n\n\t\t\twebview = $.createWindow(options);\n\t\t\t//显示\n\t\t\tnShow = $.showOptions(options.show);\n\t\t\tif (nShow.autoShow) {\n\t\t\t\tvar showWebview = function() {\n\t\t\t\t\t//关闭等待框\n\t\t\t\t\tif (nWaiting) {\n\t\t\t\t\t\tnWaiting.close();\n\t\t\t\t\t}\n\t\t\t\t\t//显示页面\n\t\t\t\t\twebview.show(nShow.aniShow, nShow.duration, function() {\n\t\t\t\t\t\t//titleUpdate事件发生较早，很多环境尚不具备\n\t\t\t\t\t\t// triggerPreload(webview);\n\t\t\t\t\t\t// trigger(webview, 'pagebeforeshow', false);\n\t\t\t\t\t});\n\t\t\t\t\twebview.showed = true;\n\t\t\t\t\toptions.afterShowMethodName && webview.evalJS(options.afterShowMethodName + '(\\'' + JSON.stringify(params) + '\\')');\n\t\t\t\t};\n\t\t\t\t//TODO 能走到这一步，应该不用判断url了吧？\n\t\t\t\tif (!url) {\n\t\t\t\t\tshowWebview();\n\t\t\t\t} else {\n\t\t\t\t\t// webview.addEventListener(\"loaded\", showWebview, false);\n\t\t\t\t\t//titleUpdate触发时机早于loaded，更换为titleUpdate后，可以更早的显示webview\n\t\t\t\t\twebview.addEventListener(\"titleUpdate\", showWebview, false);\n\t\t\t\t\t//loaded事件发生后，触发预加载和pagebeforeshow事件\n\t\t\t\t\twebview.addEventListener(\"loaded\",function(){\n\t\t\t\t\t\ttriggerPreload(webview);\n\t\t\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn webview;\n\t};\n\t/**\n\t * 根据配置信息创建一个webview\n\t * @param {type} options\n\t * @param {type} isCreate\n\t * @returns {webview}\n\t */\n\t$.createWindow = function(options, isCreate) {\n\t\tif (!window.plus) {\n\t\t\treturn;\n\t\t}\n\t\tvar id = options.id || options.url;\n\t\tvar webview;\n\t\tif (options.preload) {\n\t\t\tif ($.webviews[id] && $.webviews[id].webview.getURL()) { //已经cache\n\t\t\t\twebview = $.webviews[id].webview;\n\t\t\t} else { //新增预加载窗口\n\t\t\t\t//preload\n\t\t\t\t//判断是否携带createNew参数，默认为false\n\t\t\t\tif (options.createNew !== true) {\n\t\t\t\t\twebview = plus.webview.getWebviewById(id);\n\t\t\t\t}\n\n\t\t\t\t//之前没有，那就新创建\t\n\t\t\t\tif (!webview) {\n\t\t\t\t\twebview = plus.webview.create(options.url, id, $.windowOptions(options.styles), $.extend({\n\t\t\t\t\t\tpreload: true\n\t\t\t\t\t}, options.extras));\n\t\t\t\t\tif (options.subpages) {\n\t\t\t\t\t\t$.each(options.subpages, function(index, subpage) {\n\t\t\t\t\t\t\tvar subpageId = subpage.id || subpage.url;\n\t\t\t\t\t\t\tif (subpageId) { //过滤空对象\n\t\t\t\t\t\t\t\tvar subWebview = plus.webview.getWebviewById(subpageId);\n\t\t\t\t\t\t\t\tif (!subWebview) { //如果该webview不存在，则创建\n\t\t\t\t\t\t\t\t\tsubWebview = plus.webview.create(subpage.url, subpageId, $.windowOptions(subpage.styles), $.extend({\n\t\t\t\t\t\t\t\t\t\tpreload: true\n\t\t\t\t\t\t\t\t\t}, subpage.extras));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twebview.append(subWebview);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//TODO 理论上，子webview也应该计算到预加载队列中，但这样就麻烦了，要退必须退整体，否则可能出现问题；\n\t\t\t$.webviews[id] = {\n\t\t\t\twebview: webview, //目前仅preload的缓存webview\n\t\t\t\tpreload: true,\n\t\t\t\tshow: $.showOptions(options.show),\n\t\t\t\tafterShowMethodName: options.afterShowMethodName //就不应该用evalJS。应该是通过事件消息通讯\n\t\t\t};\n\t\t\t//索引该预加载窗口\n\t\t\tvar preloads = $.data.preloads;\n\t\t\tvar index = preloads.indexOf(id);\n\t\t\tif (~index) { //删除已存在的(变相调整插入位置)\n\t\t\t\tpreloads.splice(index, 1);\n\t\t\t}\n\t\t\tpreloads.push(id);\n\t\t\tif (preloads.length > $.options.preloadLimit) {\n\t\t\t\t//先进先出\n\t\t\t\tvar first = $.data.preloads.shift();\n\t\t\t\tvar webviewCache = $.webviews[first];\n\t\t\t\tif (webviewCache && webviewCache.webview) {\n\t\t\t\t\t//需要将自己打开的所有页面，全部close；\n\t\t\t\t\t//关闭该预加载webview\t\n\t\t\t\t\t$.closeAll(webviewCache.webview);\n\t\t\t\t}\n\t\t\t\t//删除缓存\n\t\t\t\tdelete $.webviews[first];\n\t\t\t}\n\t\t} else {\n\t\t\tif (isCreate !== false) { //直接创建非预加载窗口\n\t\t\t\twebview = plus.webview.create(options.url, id, $.windowOptions(options.styles), options.extras);\n\t\t\t\tif (options.subpages) {\n\t\t\t\t\t$.each(options.subpages, function(index, subpage) {\n\t\t\t\t\t\tvar subpageId = subpage.id || subpage.url;\n\t\t\t\t\t\tvar subWebview = plus.webview.getWebviewById(subpageId);\n\t\t\t\t\t\tif (!subWebview) {\n\t\t\t\t\t\t\tsubWebview = plus.webview.create(subpage.url, subpageId, $.windowOptions(subpage.styles), subpage.extras);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twebview.append(subWebview);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn webview;\n\t};\n\n\t/**\n\t * 预加载\n\t */\n\t$.preload = function(options) {\n\t\t//调用预加载函数，不管是否传递preload参数，强制变为true\n\t\tif (!options.preload) {\n\t\t\toptions.preload = true;\n\t\t}\n\t\treturn $.createWindow(options);\n\t};\n\n\t/**\n\t *关闭当前webview打开的所有webview；\n\t */\n\t$.closeOpened = function(webview) {\n\t\tvar opened = webview.opened();\n\t\tif (opened) {\n\t\t\tfor (var i = 0, len = opened.length; i < len; i++) {\n\t\t\t\tvar openedWebview = opened[i];\n\t\t\t\tvar open_open = openedWebview.opened();\n\t\t\t\tif (open_open && open_open.length > 0) {\n\t\t\t\t\t//关闭打开的webview\n\t\t\t\t\t$.closeOpened(openedWebview);\n\t\t\t\t\t//关闭自己\n\t\t\t\t\topenedWebview.close(\"none\");\n\t\t\t\t} else {\n\t\t\t\t\t//如果直接孩子节点，就不用关闭了，因为父关闭的时候，会自动关闭子；\n\t\t\t\t\tif (openedWebview.parent() !== webview) {\n\t\t\t\t\t\topenedWebview.close('none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t$.closeAll = function(webview, aniShow) {\n\t\t$.closeOpened(webview);\n\t\tif (aniShow) {\n\t\t\twebview.close(aniShow);\n\t\t} else {\n\t\t\twebview.close();\n\t\t}\n\t};\n\n\t/**\n\t * 批量创建webview\n\t * @param {type} options\n\t * @returns {undefined}\n\t */\n\t$.createWindows = function(options) {\n\t\t$.each(options, function(index, option) {\n\t\t\t//初始化预加载窗口(创建)和非预加载窗口(仅配置，不创建)\n\t\t\t$.createWindow(option, false);\n\t\t});\n\t};\n\t/**\n\t * 创建当前页面的子webview\n\t * @param {type} options\n\t * @returns {webview}\n\t */\n\t$.appendWebview = function(options) {\n\t\tif (!window.plus) {\n\t\t\treturn;\n\t\t}\n\t\tvar id = options.id || options.url;\n\t\tvar webview;\n\t\tif (!$.webviews[id]) { //保证执行一遍\n\t\t\t//TODO 这里也有隐患，比如某个webview不是作为subpage创建的，而是作为target webview的话；\n\t\t\tif (!plus.webview.getWebviewById(id)) {\n\t\t\t\twebview = plus.webview.create(options.url, id, options.styles, options.extras);\n\t\t\t}\n\t\t\t//之前的实现方案：子窗口loaded之后再append到父窗口中；\n\t\t\t//问题：部分子窗口loaded事件发生较晚，此时执行父窗口的children方法会返回空，导致父子通讯失败；\n\t\t\t//     比如父页面执行完preload事件后，需触发子页面的preload事件，此时未append的话，就无法触发；\n\t\t\t//修改方式：不再监控loaded事件，直接append\n\t\t\t//by chb@20150521\n\t\t\t// webview.addEventListener('loaded', function() {\n\t\t\tplus.webview.currentWebview().append(webview);\n\t\t\t// });\n\t\t\t$.webviews[id] = options;\n\n\t\t}\n\t\treturn webview;\n\t};\n\n\t//全局webviews\n\t$.webviews = {};\n\t//预加载窗口索引\n\t$.data.preloads = [];\n\t//$.currentWebview\n\t$.plusReady(function() {\n\t\t$.currentWebview = plus.webview.currentWebview();\n\t});\n\t$.addInit({\n\t\tname: '5+',\n\t\tindex: 100,\n\t\thandle: function() {\n\t\t\tvar options = $.options;\n\t\t\tvar subpages = options.subpages || [];\n\t\t\tif ($.os.plus) {\n\t\t\t\t$.plusReady(function() {\n\t\t\t\t\t//TODO  这里需要判断一下，最好等子窗口加载完毕后，再调用主窗口的show方法；\n\t\t\t\t\t//或者：在openwindow方法中，监听实现；\n\t\t\t\t\t$.each(subpages, function(index, subpage) {\n\t\t\t\t\t\t$.appendWebview(subpage);\n\t\t\t\t\t});\n\t\t\t\t\t//判断是否首页\n\t\t\t\t\tif (plus.webview.currentWebview() === plus.webview.getWebviewById(plus.runtime.appid)) {\n\t\t\t\t\t\t$.isHomePage = true;\n\t\t\t\t\t\t//首页需要自己激活预加载；\n\t\t\t\t\t\t//timeout因为子页面loaded之后才append的，防止子页面尚未append、从而导致其preload未触发的问题；\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\ttriggerPreload(plus.webview.currentWebview());\n\t\t\t\t\t\t}, 300);\n\t\t\t\t\t}\n\t\t\t\t\t//设置ios顶部状态栏颜色；\n\t\t\t\t\tif ($.os.ios && $.options.statusBarBackground) {\n\t\t\t\t\t\tplus.navigator.setStatusBarBackground($.options.statusBarBackground);\n\t\t\t\t\t}\n\t\t\t\t\tif ($.os.android && parseFloat($.os.version) < 4.4) {\n\t\t\t\t\t\t//解决Android平台4.4版本以下，resume后，父窗体标题延迟渲染的问题；\n\t\t\t\t\t\tif (plus.webview.currentWebview().parent() == null) {\n\t\t\t\t\t\t\tdocument.addEventListener(\"resume\", function() {\n\t\t\t\t\t\t\t\tvar body = document.body;\n\t\t\t\t\t\t\t\tbody.style.display = 'none';\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\tbody.style.display = '';\n\t\t\t\t\t\t\t\t}, 10);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t//已支持iframe嵌入\n\t\t\t\t//\t\t\t\tif (subpages.length > 0) {\n\t\t\t\t//\t\t\t\t\tvar err = document.createElement('div');\n\t\t\t\t//\t\t\t\t\terr.className = 'mui-error';\n\t\t\t\t//\t\t\t\t\t//文字描述\n\t\t\t\t//\t\t\t\t\tvar span = document.createElement('span');\n\t\t\t\t//\t\t\t\t\tspan.innerHTML = '在该浏览器下，不支持创建子页面，具体参考';\n\t\t\t\t//\t\t\t\t\terr.appendChild(span);\n\t\t\t\t//\t\t\t\t\tvar a = document.createElement('a');\n\t\t\t\t//\t\t\t\t\ta.innerHTML = '\"mui框架适用场景\"';\n\t\t\t\t//\t\t\t\t\ta.href = 'http://ask.dcloud.net.cn/article/113';\n\t\t\t\t//\t\t\t\t\terr.appendChild(a);\n\t\t\t\t//\t\t\t\t\tdocument.body.appendChild(err);\n\t\t\t\t//\t\t\t\t\tconsole.log('在该浏览器下，不支持创建子页面');\n\t\t\t\t//\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\t});\n\twindow.addEventListener('preload', function() {\n\t\t//处理预加载部分\n\t\tvar webviews = $.options.preloadPages || [];\n\t\t$.plusReady(function() {\n\t\t\t$.each(webviews, function(index, webview) {\n\t\t\t\t$.createWindow($.extend(webview, {\n\t\t\t\t\tpreload: true\n\t\t\t\t}));\n\t\t\t});\n\n\t\t});\n\t});\n\t$.supportStatusbarOffset = function() {\n\t\treturn $.os.plus && $.os.ios && parseFloat($.os.version) >= 7;\n\t};\n\t$.ready(function() {\n\t\t//标识当前环境支持statusbar\n\t\tif ($.supportStatusbarOffset()) {\n\t\t\tdocument.body.classList.add('mui-statusbar');\n\t\t}\n\t});\n})(mui);\n/**\n * mui back\n * @param {type} $\n * @param {type} window\n * @returns {undefined}\n */\n(function($, window) {\n\t/**\n\t * register back\n\t * @param {type} back\n\t * @returns {$.gestures}\n\t */\n\t$.addBack = function(back) {\n\t\treturn $.addAction('backs', back);\n\t};\n\t/**\n\t * default\n\t */\n\t$.addBack({\n\t\tname: 'browser',\n\t\tindex: 100,\n\t\thandle: function() {\n\t\t\tif (window.history.length > 1) {\n\t\t\t\twindow.history.back();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t});\n\t/**\n\t * 后退\n\t */\n\t$.back = function() {\n\t\tif (typeof $.options.beforeback === 'function') {\n\t\t\tif ($.options.beforeback() === false) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$.doAction('backs');\n\t};\n\twindow.addEventListener('tap', function(e) {\n\t\tvar action = $.targets.action;\n\t\tif (action && action.classList.contains('mui-action-back')) {\n\t\t\t$.back();\n\t\t\t$.targets.action = false;\n\t\t}\n\t});\n\twindow.addEventListener('swiperight', function(e) {\n\t\tvar detail = e.detail;\n\t\tif ($.options.swipeBack === true && Math.abs(detail.angle) < 3) {\n\t\t\t$.back();\n\t\t}\n\t});\n\n})(mui, window);\n/**\n * mui back 5+\n * @param {type} $\n * @param {type} window\n * @returns {undefined}\n */\n(function($, window) {\n\tif ($.os.plus && $.os.android) {\n\t\t$.addBack({\n\t\t\tname: 'mui',\n\t\t\tindex: 5,\n\t\t\thandle: function() {\n\t\t\t\t//后续重新设计此处，将back放到各个空间内部实现\n\t\t\t\t//popover\n\t\t\t\tif ($.targets._popover && $.targets._popover.classList.contains('mui-active')) {\n\t\t\t\t\t$($.targets._popover).popover('hide');\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t//offcanvas\n\t\t\t\tvar offCanvas = document.querySelector('.mui-off-canvas-wrap.mui-active');\n\t\t\t\tif (offCanvas) {\n\t\t\t\t\t$(offCanvas).offCanvas('close');\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar previewImage = $.isFunction($.getPreviewImage) && $.getPreviewImage();\n\t\t\t\tif (previewImage && previewImage.isShown()) {\n\t\t\t\t\tpreviewImage.close();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t//popup\n\t\t\t\treturn $.closePopup();\n\t\t\t}\n\t\t});\n\t}\n\t//首次按下back按键的时间\n\t$.__back__first = null;\n\t/**\n\t * 5+ back\n\t */\n\t$.addBack({\n\t\tname: '5+',\n\t\tindex: 10,\n\t\thandle: function() {\n\t\t\tif (!window.plus) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar wobj = plus.webview.currentWebview();\n\t\t\tvar parent = wobj.parent();\n\t\t\tif (parent) {\n\t\t\t\tparent.evalJS('mui&&mui.back();');\n\t\t\t} else {\n\t\t\t\twobj.canBack(function(e) {\n\t\t\t\t\t//by chb 暂时注释，在碰到类似popover之类的锚点的时候，需多次点击才能返回；\n\t\t\t\t\tif (e.canBack) { //webview history back\n\t\t\t\t\t\twindow.history.back();\n\t\t\t\t\t} else { //webview close or hide\n\t\t\t\t\t\t//fixed by fxy 此处不应该用opener判断，因为用户有可能自己close掉当前窗口的opener。这样的话。opener就为空了，导致不能执行close\n\t\t\t\t\t\tif (wobj.id === plus.runtime.appid) { //首页\n\t\t\t\t\t\t\t//首页不存在opener的情况下，后退实际上应该是退出应用；\n\t\t\t\t\t\t\t//首次按键，提示‘再按一次退出应用’\n\t\t\t\t\t\t\tif (!$.__back__first) {\n\t\t\t\t\t\t\t\t$.__back__first = new Date().getTime();\n\t\t\t\t\t\t\t\tmui.toast('再按一次退出应用');\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t$.__back__first = null;\n\t\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (new Date().getTime() - $.__back__first < 2000) {\n\t\t\t\t\t\t\t\t\tplus.runtime.quit();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else { //其他页面，\n\t\t\t\t\t\t\tif (wobj.preload) {\n\t\t\t\t\t\t\t\twobj.hide(\"auto\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t//关闭页面时，需要将其打开的所有子页面全部关闭；\n\t\t\t\t\t\t\t\t$.closeAll(wobj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t});\n\n\n\t$.menu = function() {\n\t\tvar menu = document.querySelector('.mui-action-menu');\n\t\tif (menu) {\n\t\t\t$.trigger(menu, $.EVENT_START); //临时处理menu无touchstart的话，找不到当前targets的问题\n\t\t\t$.trigger(menu, 'tap');\n\t\t} else { //执行父窗口的menu\n\t\t\tif (window.plus) {\n\t\t\t\tvar wobj = $.currentWebview;\n\t\t\t\tvar parent = wobj.parent();\n\t\t\t\tif (parent) { //又得evalJS\n\t\t\t\t\tparent.evalJS('mui&&mui.menu();');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tvar __back = function() {\n\t\t$.back();\n\t};\n\tvar __menu = function() {\n\t\t$.menu();\n\t};\n\t//默认监听\n\t$.plusReady(function() {\n\t\tif ($.options.keyEventBind.backbutton) {\n\t\t\tplus.key.addEventListener('backbutton', __back, false);\n\t\t}\n\t\tif ($.options.keyEventBind.menubutton) {\n\t\t\tplus.key.addEventListener('menubutton', __menu, false);\n\t\t}\n\t});\n\t//处理按键监听事件\n\t$.addInit({\n\t\tname: 'keyEventBind',\n\t\tindex: 1000,\n\t\thandle: function() {\n\t\t\t$.plusReady(function() {\n\t\t\t\t//如果不为true，则移除默认监听\n\t\t\t\tif (!$.options.keyEventBind.backbutton) {\n\t\t\t\t\tplus.key.removeEventListener('backbutton', __back);\n\t\t\t\t}\n\t\t\t\tif (!$.options.keyEventBind.menubutton) {\n\t\t\t\t\tplus.key.removeEventListener('menubutton', __menu);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n})(mui, window);\n/**\n * mui.init pulldownRefresh\n * @param {type} $\n * @returns {undefined}\n */\n(function($) {\n\t$.addInit({\n\t\tname: 'pullrefresh',\n\t\tindex: 1000,\n\t\thandle: function() {\n\t\t\tvar options = $.options;\n\t\t\tvar pullRefreshOptions = options.pullRefresh || {};\n\t\t\tvar hasPulldown = pullRefreshOptions.down && pullRefreshOptions.down.hasOwnProperty('callback');\n\t\t\tvar hasPullup = pullRefreshOptions.up && pullRefreshOptions.up.hasOwnProperty('callback');\n\t\t\tif (hasPulldown || hasPullup) {\n\t\t\t\tvar container = pullRefreshOptions.container;\n\t\t\t\tif (container) {\n\t\t\t\t\tvar $container = $(container);\n\t\t\t\t\tif ($container.length === 1) {\n\t\t\t\t\t\tif ($.os.plus && $.os.android) { //android 5+\n\t\t\t\t\t\t\t$.plusReady(function() {\n\t\t\t\t\t\t\t\tvar webview = plus.webview.currentWebview();\n\t\t\t\t\t\t\t\tif (hasPullup) {\n\t\t\t\t\t\t\t\t\t//当前页面初始化pullup\n\t\t\t\t\t\t\t\t\tvar upOptions = {};\n\t\t\t\t\t\t\t\t\tupOptions.up = pullRefreshOptions.up;\n\t\t\t\t\t\t\t\t\tupOptions.webviewId = webview.id || webview.getURL();\n\t\t\t\t\t\t\t\t\t$container.pullRefresh(upOptions);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (hasPulldown) {\n\t\t\t\t\t\t\t\t\tvar parent = webview.parent();\n\t\t\t\t\t\t\t\t\tvar id = webview.id || webview.getURL();\n\t\t\t\t\t\t\t\t\tif (parent) {\n\t\t\t\t\t\t\t\t\t\tif (!hasPullup) { //如果没有上拉加载，需要手动初始化一个默认的pullRefresh，以便当前页面容器可以调用endPulldownToRefresh等方法\n\t\t\t\t\t\t\t\t\t\t\t$container.pullRefresh({\n\t\t\t\t\t\t\t\t\t\t\t\twebviewId: id\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvar downOptions = {\n\t\t\t\t\t\t\t\t\t\t\twebviewId: id\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tdownOptions.down = $.extend({}, pullRefreshOptions.down);\n\t\t\t\t\t\t\t\t\t\tdownOptions.down.callback = '_CALLBACK';\n\t\t\t\t\t\t\t\t\t\t//父页面初始化pulldown\n\t\t\t\t\t\t\t\t\t\tparent.evalJS(\"mui&&mui(document.querySelector('.mui-content')).pullRefresh('\" + JSON.stringify(downOptions) + \"')\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$container.pullRefresh(pullRefreshOptions);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(mui);\n/**\n * mui ajax\n * @param {type} $\n * @returns {undefined}\n */\n(function($, window, undefined) {\n\n\tvar jsonType = 'application/json';\n\tvar htmlType = 'text/html';\n\tvar rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\n\tvar scriptTypeRE = /^(?:text|application)\\/javascript/i;\n\tvar xmlTypeRE = /^(?:text|application)\\/xml/i;\n\tvar blankRE = /^\\s*$/;\n\n\t$.ajaxSettings = {\n\t\ttype: 'GET',\n\t\tbeforeSend: $.noop,\n\t\tsuccess: $.noop,\n\t\terror: $.noop,\n\t\tcomplete: $.noop,\n\t\tcontext: null,\n\t\txhr: function(protocol) {\n\t\t\treturn new window.XMLHttpRequest();\n\t\t},\n\t\taccepts: {\n\t\t\tscript: 'text/javascript, application/javascript, application/x-javascript',\n\t\t\tjson: jsonType,\n\t\t\txml: 'application/xml, text/xml',\n\t\t\thtml: htmlType,\n\t\t\ttext: 'text/plain'\n\t\t},\n\t\ttimeout: 0,\n\t\tprocessData: true,\n\t\tcache: true\n\t};\n\tvar ajaxBeforeSend = function(xhr, settings) {\n\t\tvar context = settings.context\n\t\tif(settings.beforeSend.call(context, xhr, settings) === false) {\n\t\t\treturn false;\n\t\t}\n\t};\n\tvar ajaxSuccess = function(data, xhr, settings) {\n\t\tsettings.success.call(settings.context, data, 'success', xhr);\n\t\tajaxComplete('success', xhr, settings);\n\t};\n\t// type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n\tvar ajaxError = function(error, type, xhr, settings) {\n\t\tsettings.error.call(settings.context, xhr, type, error);\n\t\tajaxComplete(type, xhr, settings);\n\t};\n\t// status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n\tvar ajaxComplete = function(status, xhr, settings) {\n\t\tsettings.complete.call(settings.context, xhr, status);\n\t};\n\n\tvar serialize = function(params, obj, traditional, scope) {\n\t\tvar type, array = $.isArray(obj),\n\t\t\thash = $.isPlainObject(obj);\n\t\t$.each(obj, function(key, value) {\n\t\t\ttype = $.type(value);\n\t\t\tif(scope) {\n\t\t\t\tkey = traditional ? scope :\n\t\t\t\t\tscope + '[' + (hash || type === 'object' || type === 'array' ? key : '') + ']';\n\t\t\t}\n\t\t\t// handle data in serializeArray() format\n\t\t\tif(!scope && array) {\n\t\t\t\tparams.add(value.name, value.value);\n\t\t\t}\n\t\t\t// recurse into nested objects\n\t\t\telse if(type === \"array\" || (!traditional && type === \"object\")) {\n\t\t\t\tserialize(params, value, traditional, key);\n\t\t\t} else {\n\t\t\t\tparams.add(key, value);\n\t\t\t}\n\t\t});\n\t};\n\tvar serializeData = function(options) {\n\t\tif(options.processData && options.data && typeof options.data !== \"string\") {\n\t\t\tvar contentType = options.contentType;\n\t\t\tif(!contentType && options.headers) {\n\t\t\t\tcontentType = options.headers['Content-Type'];\n\t\t\t}\n\t\t\tif(contentType && ~contentType.indexOf(jsonType)) { //application/json\n\t\t\t\toptions.data = JSON.stringify(options.data);\n\t\t\t} else {\n\t\t\t\toptions.data = $.param(options.data, options.traditional);\n\t\t\t}\n\t\t}\n\t\tif(options.data && (!options.type || options.type.toUpperCase() === 'GET')) {\n\t\t\toptions.url = appendQuery(options.url, options.data);\n\t\t\toptions.data = undefined;\n\t\t}\n\t};\n\tvar appendQuery = function(url, query) {\n\t\tif(query === '') {\n\t\t\treturn url;\n\t\t}\n\t\treturn(url + '&' + query).replace(/[&?]{1,2}/, '?');\n\t};\n\tvar mimeToDataType = function(mime) {\n\t\tif(mime) {\n\t\t\tmime = mime.split(';', 2)[0];\n\t\t}\n\t\treturn mime && (mime === htmlType ? 'html' :\n\t\t\tmime === jsonType ? 'json' :\n\t\t\tscriptTypeRE.test(mime) ? 'script' :\n\t\t\txmlTypeRE.test(mime) && 'xml') || 'text';\n\t};\n\tvar parseArguments = function(url, data, success, dataType) {\n\t\tif($.isFunction(data)) {\n\t\t\tdataType = success, success = data, data = undefined;\n\t\t}\n\t\tif(!$.isFunction(success)) {\n\t\t\tdataType = success, success = undefined;\n\t\t}\n\t\treturn {\n\t\t\turl: url,\n\t\t\tdata: data,\n\t\t\tsuccess: success,\n\t\t\tdataType: dataType\n\t\t};\n\t};\n\t$.ajax = function(url, options) {\n\t\tif(typeof url === \"object\") {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\t\tvar settings = options || {};\n\t\tsettings.url = url || settings.url;\n\t\tfor(var key in $.ajaxSettings) {\n\t\t\tif(settings[key] === undefined) {\n\t\t\t\tsettings[key] = $.ajaxSettings[key];\n\t\t\t}\n\t\t}\n\t\tserializeData(settings);\n\t\tvar dataType = settings.dataType;\n\n\t\tif(settings.cache === false || ((!options || options.cache !== true) && ('script' === dataType))) {\n\t\t\tsettings.url = appendQuery(settings.url, '_=' + $.now());\n\t\t}\n\t\tvar mime = settings.accepts[dataType && dataType.toLowerCase()];\n\t\tvar headers = {};\n\t\tvar setHeader = function(name, value) {\n\t\t\theaders[name.toLowerCase()] = [name, value];\n\t\t};\n\t\tvar protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol;\n\t\tvar xhr = settings.xhr(settings);\n\t\tvar nativeSetHeader = xhr.setRequestHeader;\n\t\tvar abortTimeout;\n\n\t\tsetHeader('X-Requested-With', 'XMLHttpRequest');\n\t\tsetHeader('Accept', mime || '*/*');\n\t\tif(!!(mime = settings.mimeType || mime)) {\n\t\t\tif(mime.indexOf(',') > -1) {\n\t\t\t\tmime = mime.split(',', 2)[0];\n\t\t\t}\n\t\t\txhr.overrideMimeType && xhr.overrideMimeType(mime);\n\t\t}\n\t\tif(settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() !== 'GET')) {\n\t\t\tsetHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded');\n\t\t}\n\t\tif(settings.headers) {\n\t\t\tfor(var name in settings.headers)\n\t\t\t\tsetHeader(name, settings.headers[name]);\n\t\t}\n\t\txhr.setRequestHeader = setHeader;\n\n\t\txhr.onreadystatechange = function() {\n\t\t\tif(xhr.readyState === 4) {\n\t\t\t\txhr.onreadystatechange = $.noop;\n\t\t\t\tclearTimeout(abortTimeout);\n\t\t\t\tvar result, error = false;\n\t\t\t\tvar isLocal = protocol === 'file:';\n\t\t\t\tif((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || (xhr.status === 0 && isLocal && xhr.responseText)) {\n\t\t\t\t\tdataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'));\n\t\t\t\t\tresult = xhr.responseText;\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// http://perfectionkills.com/global-eval-what-are-the-options/\n\t\t\t\t\t\tif(dataType === 'script') {\n\t\t\t\t\t\t\t(1, eval)(result);\n\t\t\t\t\t\t} else if(dataType === 'xml') {\n\t\t\t\t\t\t\tresult = xhr.responseXML;\n\t\t\t\t\t\t} else if(dataType === 'json') {\n\t\t\t\t\t\t\tresult = blankRE.test(result) ? null : $.parseJSON(result);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\terror = e;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(error) {\n\t\t\t\t\t\tajaxError(error, 'parsererror', xhr, settings);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tajaxSuccess(result, xhr, settings);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar status = xhr.status ? 'error' : 'abort';\n\t\t\t\t\tvar statusText = xhr.statusText || null;\n\t\t\t\t\tif(isLocal) {\n\t\t\t\t\t\tstatus = 'error';\n\t\t\t\t\t\tstatusText = '404';\n\t\t\t\t\t}\n\t\t\t\t\tajaxError(statusText, status, xhr, settings);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif(ajaxBeforeSend(xhr, settings) === false) {\n\t\t\txhr.abort();\n\t\t\tajaxError(null, 'abort', xhr, settings);\n\t\t\treturn xhr;\n\t\t}\n\n\t\tif(settings.xhrFields) {\n\t\t\tfor(var name in settings.xhrFields) {\n\t\t\t\txhr[name] = settings.xhrFields[name];\n\t\t\t}\n\t\t}\n\n\t\tvar async = 'async' in settings ? settings.async : true;\n\n\t\txhr.open(settings.type.toUpperCase(), settings.url, async, settings.username, settings.password);\n\n\t\tfor(var name in headers) {\n\t\t\tif(headers.hasOwnProperty(name)) {\n\t\t\t\tnativeSetHeader.apply(xhr, headers[name]);\n\t\t\t}\n\t\t}\n\t\tif(settings.timeout > 0) {\n\t\t\tabortTimeout = setTimeout(function() {\n\t\t\t\txhr.onreadystatechange = $.noop;\n\t\t\t\txhr.abort();\n\t\t\t\tajaxError(null, 'timeout', xhr, settings);\n\t\t\t}, settings.timeout);\n\t\t}\n\t\txhr.send(settings.data ? settings.data : null);\n\t\treturn xhr;\n\t};\n\n\t$.param = function(obj, traditional) {\n\t\tvar params = [];\n\t\tparams.add = function(k, v) {\n\t\t\tthis.push(encodeURIComponent(k) + '=' + encodeURIComponent(v));\n\t\t};\n\t\tserialize(params, obj, traditional);\n\t\treturn params.join('&').replace(/%20/g, '+');\n\t};\n\t$.get = function( /* url, data, success, dataType */ ) {\n\t\treturn $.ajax(parseArguments.apply(null, arguments));\n\t};\n\n\t$.post = function( /* url, data, success, dataType */ ) {\n\t\tvar options = parseArguments.apply(null, arguments);\n\t\toptions.type = 'POST';\n\t\treturn $.ajax(options);\n\t};\n\n\t$.getJSON = function( /* url, data, success */ ) {\n\t\tvar options = parseArguments.apply(null, arguments);\n\t\toptions.dataType = 'json';\n\t\treturn $.ajax(options);\n\t};\n\n\t$.fn.load = function(url, data, success) {\n\t\tif(!this.length)\n\t\t\treturn this;\n\t\tvar self = this,\n\t\t\tparts = url.split(/\\s/),\n\t\t\tselector,\n\t\t\toptions = parseArguments(url, data, success),\n\t\t\tcallback = options.success;\n\t\tif(parts.length > 1)\n\t\t\toptions.url = parts[0], selector = parts[1];\n\t\toptions.success = function(response) {\n\t\t\tif(selector) {\n\t\t\t\tvar div = document.createElement('div');\n\t\t\t\tdiv.innerHTML = response.replace(rscript, \"\");\n\t\t\t\tvar selectorDiv = document.createElement('div');\n\t\t\t\tvar childs = div.querySelectorAll(selector);\n\t\t\t\tif(childs && childs.length > 0) {\n\t\t\t\t\tfor(var i = 0, len = childs.length; i < len; i++) {\n\t\t\t\t\t\tselectorDiv.appendChild(childs[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself[0].innerHTML = selectorDiv.innerHTML;\n\t\t\t} else {\n\t\t\t\tself[0].innerHTML = response;\n\t\t\t}\n\t\t\tcallback && callback.apply(self, arguments);\n\t\t};\n\t\t$.ajax(options);\n\t\treturn this;\n\t};\n\n})(mui, window);\n/**\n * 5+ ajax\n */\n(function($) {\n\tvar originAnchor = document.createElement('a');\n\toriginAnchor.href = window.location.href;\n\t$.plusReady(function() {\n\t\t$.ajaxSettings = $.extend($.ajaxSettings, {\n\t\t\txhr: function(settings) {\n\t\t\t\tif (settings.crossDomain) { //强制使用plus跨域\n\t\t\t\t\treturn new plus.net.XMLHttpRequest();\n\t\t\t\t}\n\t\t\t\t//仅在webview的url为远程文件，且ajax请求的资源不同源下使用plus.net.XMLHttpRequest\n\t\t\t\tif (originAnchor.protocol !== 'file:') {\n\t\t\t\t\tvar urlAnchor = document.createElement('a');\n\t\t\t\t\turlAnchor.href = settings.url;\n\t\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\t\tsettings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host);\n\t\t\t\t\tif (settings.crossDomain) {\n\t\t\t\t\t\treturn new plus.net.XMLHttpRequest();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn new window.XMLHttpRequest();\n\t\t\t}\n\t\t});\n\t});\n})(mui);\n/**\n * mui layout(offset[,position,width,height...])\n * @param {type} $\n * @param {type} window\n * @param {type} undefined\n * @returns {undefined}\n */\n(function($, window, undefined) {\n\t$.offset = function(element) {\n\t\tvar box = {\n\t\t\ttop : 0,\n\t\t\tleft : 0\n\t\t};\n\t\tif ( typeof element.getBoundingClientRect !== undefined) {\n\t\t\tbox = element.getBoundingClientRect();\n\t\t}\n\t\treturn {\n\t\t\ttop : box.top + window.pageYOffset - element.clientTop,\n\t\t\tleft : box.left + window.pageXOffset - element.clientLeft\n\t\t};\n\t};\n})(mui, window); \n/**\n * mui animation\n */\n(function($, window) {\n\t/**\n\t * scrollTo\n\t */\n\t$.scrollTo = function(scrollTop, duration, callback) {\n\t\tduration = duration || 1000;\n\t\tvar scroll = function(duration) {\n\t\t\tif (duration <= 0) {\n\t\t\t\twindow.scrollTo(0, scrollTop);\n\t\t\t\tcallback && callback();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar distaince = scrollTop - window.scrollY;\n\t\t\tsetTimeout(function() {\n\t\t\t\twindow.scrollTo(0, window.scrollY + distaince / duration * 10);\n\t\t\t\tscroll(duration - 10);\n\t\t\t}, 16.7);\n\t\t};\n\t\tscroll(duration);\n\t};\n\t$.animationFrame = function(cb) {\n\t\tvar args, isQueued, context;\n\t\treturn function() {\n\t\t\targs = arguments;\n\t\t\tcontext = this;\n\t\t\tif (!isQueued) {\n\t\t\t\tisQueued = true;\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tcb.apply(context, args);\n\t\t\t\t\tisQueued = false;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t};\n\n})(mui, window);\n(function($) {\n\tvar initializing = false,\n\t\tfnTest = /xyz/.test(function() {\n\t\t\txyz;\n\t\t}) ? /\\b_super\\b/ : /.*/;\n\n\tvar Class = function() {};\n\tClass.extend = function(prop) {\n\t\tvar _super = this.prototype;\n\t\tinitializing = true;\n\t\tvar prototype = new this();\n\t\tinitializing = false;\n\t\tfor (var name in prop) {\n\t\t\tprototype[name] = typeof prop[name] == \"function\" &&\n\t\t\t\ttypeof _super[name] == \"function\" && fnTest.test(prop[name]) ?\n\t\t\t\t(function(name, fn) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tvar tmp = this._super;\n\n\t\t\t\t\t\tthis._super = _super[name];\n\n\t\t\t\t\t\tvar ret = fn.apply(this, arguments);\n\t\t\t\t\t\tthis._super = tmp;\n\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t};\n\t\t\t\t})(name, prop[name]) :\n\t\t\t\tprop[name];\n\t\t}\n\t\tfunction Class() {\n\t\t\tif (!initializing && this.init)\n\t\t\t\tthis.init.apply(this, arguments);\n\t\t}\n\t\tClass.prototype = prototype;\n\t\tClass.prototype.constructor = Class;\n\t\tClass.extend = arguments.callee;\n\t\treturn Class;\n\t};\n\t$.Class = Class;\n})(mui);\n(function($, document, undefined) {\n\tvar CLASS_PULL_TOP_POCKET = 'mui-pull-top-pocket';\n\tvar CLASS_PULL_BOTTOM_POCKET = 'mui-pull-bottom-pocket';\n\tvar CLASS_PULL = 'mui-pull';\n\tvar CLASS_PULL_LOADING = 'mui-pull-loading';\n\tvar CLASS_PULL_CAPTION = 'mui-pull-caption';\n\tvar CLASS_PULL_CAPTION_DOWN = 'mui-pull-caption-down';\n\tvar CLASS_PULL_CAPTION_REFRESH = 'mui-pull-caption-refresh';\n\tvar CLASS_PULL_CAPTION_NOMORE = 'mui-pull-caption-nomore';\n\n\tvar CLASS_ICON = 'mui-icon';\n\tvar CLASS_SPINNER = 'mui-spinner';\n\tvar CLASS_ICON_PULLDOWN = 'mui-icon-pulldown';\n\n\tvar CLASS_BLOCK = 'mui-block';\n\tvar CLASS_HIDDEN = 'mui-hidden';\n\tvar CLASS_VISIBILITY = 'mui-visibility';\n\n\tvar CLASS_LOADING_UP = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_ICON_PULLDOWN;\n\tvar CLASS_LOADING_DOWN = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_ICON_PULLDOWN;\n\tvar CLASS_LOADING = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_SPINNER;\n\n\tvar pocketHtml = ['<div class=\"' + CLASS_PULL + '\">', '<div class=\"{icon}\"></div>', '<div class=\"' + CLASS_PULL_CAPTION + '\">{contentrefresh}</div>', '</div>'].join('');\n\n\tvar PullRefresh = {\n\t\tinit: function(element, options) {\n\t\t\tthis._super(element, $.extend(true, {\n\t\t\t\tscrollY: true,\n\t\t\t\tscrollX: false,\n\t\t\t\tindicators: true,\n\t\t\t\tdeceleration: 0.003,\n\t\t\t\tdown: {\n\t\t\t\t\theight: 50,\n\t\t\t\t\tcontentinit: '下拉可以刷新',\n\t\t\t\t\tcontentdown: '下拉可以刷新',\n\t\t\t\t\tcontentover: '释放立即刷新',\n\t\t\t\t\tcontentrefresh: '正在刷新...'\n\t\t\t\t},\n\t\t\t\tup: {\n\t\t\t\t\theight: 50,\n\t\t\t\t\tauto: false,\n\t\t\t\t\tcontentinit: '上拉显示更多',\n\t\t\t\t\tcontentdown: '上拉显示更多',\n\t\t\t\t\tcontentrefresh: '正在加载...',\n\t\t\t\t\tcontentnomore: '没有更多数据了',\n\t\t\t\t\tduration: 300\n\t\t\t\t}\n\t\t\t}, options));\n\t\t},\n\t\t_init: function() {\n\t\t\tthis._super();\n\t\t\tthis._initPocket();\n\t\t},\n\t\t_initPulldownRefresh: function() {\n\t\t\tthis.pulldown = true;\n\t\t\tthis.pullPocket = this.topPocket;\n\t\t\tthis.pullPocket.classList.add(CLASS_BLOCK);\n\t\t\tthis.pullPocket.classList.add(CLASS_VISIBILITY);\n\t\t\tthis.pullCaption = this.topCaption;\n\t\t\tthis.pullLoading = this.topLoading;\n\t\t},\n\t\t_initPullupRefresh: function() {\n\t\t\tthis.pulldown = false;\n\t\t\tthis.pullPocket = this.bottomPocket;\n\t\t\tthis.pullPocket.classList.add(CLASS_BLOCK);\n\t\t\tthis.pullPocket.classList.add(CLASS_VISIBILITY);\n\t\t\tthis.pullCaption = this.bottomCaption;\n\t\t\tthis.pullLoading = this.bottomLoading;\n\t\t},\n\t\t_initPocket: function() {\n\t\t\tvar options = this.options;\n\t\t\tif (options.down && options.down.hasOwnProperty('callback')) {\n\t\t\t\tthis.topPocket = this.scroller.querySelector('.' + CLASS_PULL_TOP_POCKET);\n\t\t\t\tif (!this.topPocket) {\n\t\t\t\t\tthis.topPocket = this._createPocket(CLASS_PULL_TOP_POCKET, options.down, CLASS_LOADING_DOWN);\n\t\t\t\t\tthis.wrapper.insertBefore(this.topPocket, this.wrapper.firstChild);\n\t\t\t\t}\n\t\t\t\tthis.topLoading = this.topPocket.querySelector('.' + CLASS_PULL_LOADING);\n\t\t\t\tthis.topCaption = this.topPocket.querySelector('.' + CLASS_PULL_CAPTION);\n\t\t\t}\n\t\t\tif (options.up && options.up.hasOwnProperty('callback')) {\n\t\t\t\tthis.bottomPocket = this.scroller.querySelector('.' + CLASS_PULL_BOTTOM_POCKET);\n\t\t\t\tif (!this.bottomPocket) {\n\t\t\t\t\tthis.bottomPocket = this._createPocket(CLASS_PULL_BOTTOM_POCKET, options.up, CLASS_LOADING);\n\t\t\t\t\tthis.scroller.appendChild(this.bottomPocket);\n\t\t\t\t}\n\t\t\t\tthis.bottomLoading = this.bottomPocket.querySelector('.' + CLASS_PULL_LOADING);\n\t\t\t\tthis.bottomCaption = this.bottomPocket.querySelector('.' + CLASS_PULL_CAPTION);\n\t\t\t\t//TODO only for h5\n\t\t\t\tthis.wrapper.addEventListener('scrollbottom', this);\n\t\t\t}\n\t\t},\n\t\t_createPocket: function(clazz, options, iconClass) {\n\t\t\tvar pocket = document.createElement('div');\n\t\t\tpocket.className = clazz;\n\t\t\tpocket.innerHTML = pocketHtml.replace('{contentrefresh}', options.contentinit).replace('{icon}', iconClass);\n\t\t\treturn pocket;\n\t\t},\n\t\t_resetPullDownLoading: function() {\n\t\t\tvar loading = this.pullLoading;\n\t\t\tif (loading) {\n\t\t\t\tthis.pullCaption.innerHTML = this.options.down.contentdown;\n\t\t\t\tloading.style.webkitTransition = \"\";\n\t\t\t\tloading.style.webkitTransform = \"\";\n\t\t\t\tloading.style.webkitAnimation = \"\";\n\t\t\t\tloading.className = CLASS_LOADING_DOWN;\n\t\t\t}\n\t\t},\n\t\t_setCaptionClass: function(isPulldown, caption, title) {\n\t\t\tif (!isPulldown) {\n\t\t\t\tswitch (title) {\n\t\t\t\t\tcase this.options.up.contentdown:\n\t\t\t\t\t\tcaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase this.options.up.contentrefresh:\n\t\t\t\t\t\tcaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_REFRESH\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase this.options.up.contentnomore:\n\t\t\t\t\t\tcaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_NOMORE;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_setCaption: function(title, reset) {\n\t\t\tif (this.loading) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar options = this.options;\n\t\t\tvar pocket = this.pullPocket;\n\t\t\tvar caption = this.pullCaption;\n\t\t\tvar loading = this.pullLoading;\n\t\t\tvar isPulldown = this.pulldown;\n\t\t\tvar self = this;\n\t\t\tif (pocket) {\n\t\t\t\tif (reset) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tcaption.innerHTML = self.lastTitle = title;\n\t\t\t\t\t\tif (isPulldown) {\n\t\t\t\t\t\t\tloading.className = CLASS_LOADING_DOWN;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._setCaptionClass(false, caption, title);\n\t\t\t\t\t\t\tloading.className = CLASS_LOADING;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tloading.style.webkitAnimation = \"\";\n\t\t\t\t\t\tloading.style.webkitTransition = \"\";\n\t\t\t\t\t\tloading.style.webkitTransform = \"\";\n\t\t\t\t\t}, 100);\n\t\t\t\t} else {\n\t\t\t\t\tif (title !== this.lastTitle) {\n\t\t\t\t\t\tcaption.innerHTML = title;\n\t\t\t\t\t\tif (isPulldown) {\n\t\t\t\t\t\t\tif (title === options.down.contentrefresh) {\n\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING;\n\t\t\t\t\t\t\t\tloading.style.webkitAnimation = \"spinner-spin 1s step-end infinite\";\n\t\t\t\t\t\t\t} else if (title === options.down.contentover) {\n\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING_UP;\n\t\t\t\t\t\t\t\tloading.style.webkitTransition = \"-webkit-transform 0.3s ease-in\";\n\t\t\t\t\t\t\t\tloading.style.webkitTransform = \"rotate(180deg)\";\n\t\t\t\t\t\t\t} else if (title === options.down.contentdown) {\n\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING_DOWN;\n\t\t\t\t\t\t\t\tloading.style.webkitTransition = \"-webkit-transform 0.3s ease-in\";\n\t\t\t\t\t\t\t\tloading.style.webkitTransform = \"rotate(0deg)\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (title === options.up.contentrefresh) {\n\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING + ' ' + CLASS_VISIBILITY;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tloading.className = CLASS_LOADING + ' ' + CLASS_HIDDEN;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself._setCaptionClass(false, caption, title);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.lastTitle = title;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t};\n\t$.PullRefresh = PullRefresh;\n})(mui, document);\n(function($, window, document, undefined) {\n\tvar CLASS_SCROLL = 'mui-scroll';\n\tvar CLASS_SCROLLBAR = 'mui-scrollbar';\n\tvar CLASS_INDICATOR = 'mui-scrollbar-indicator';\n\tvar CLASS_SCROLLBAR_VERTICAL = CLASS_SCROLLBAR + '-vertical';\n\tvar CLASS_SCROLLBAR_HORIZONTAL = CLASS_SCROLLBAR + '-horizontal';\n\n\tvar CLASS_ACTIVE = 'mui-active';\n\n\tvar ease = {\n\t\tquadratic: {\n\t\t\tstyle: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n\t\t\tfn: function(k) {\n\t\t\t\treturn k * (2 - k);\n\t\t\t}\n\t\t},\n\t\tcircular: {\n\t\t\tstyle: 'cubic-bezier(0.1, 0.57, 0.1, 1)',\n\t\t\tfn: function(k) {\n\t\t\t\treturn Math.sqrt(1 - (--k * k));\n\t\t\t}\n\t\t},\n\t\toutCirc: {\n\t\t\tstyle: 'cubic-bezier(0.075, 0.82, 0.165, 1)'\n\t\t},\n\t\toutCubic: {\n\t\t\tstyle: 'cubic-bezier(0.165, 0.84, 0.44, 1)'\n\t\t}\n\t}\n\tvar Scroll = $.Class.extend({\n\t\tinit: function(element, options) {\n\t\t\tthis.wrapper = this.element = element;\n\t\t\tthis.scroller = this.wrapper.children[0];\n\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\n\t\t\tthis.stopped = false;\n\n\t\t\tthis.options = $.extend(true, {\n\t\t\t\tscrollY: true, //是否竖向滚动\n\t\t\t\tscrollX: false, //是否横向滚动\n\t\t\t\tstartX: 0, //初始化时滚动至x\n\t\t\t\tstartY: 0, //初始化时滚动至y\n\n\t\t\t\tindicators: true, //是否显示滚动条\n\t\t\t\tstopPropagation: false,\n\t\t\t\thardwareAccelerated: true,\n\t\t\t\tfixedBadAndorid: false,\n\t\t\t\tpreventDefaultException: {\n\t\t\t\t\ttagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/\n\t\t\t\t},\n\t\t\t\tmomentum: true,\n\n\t\t\t\tsnapX: 0.5, //横向切换距离(以当前容器宽度为基准)\n\t\t\t\tsnap: false, //图片轮播，拖拽式选项卡\n\n\t\t\t\tbounce: true, //是否启用回弹\n\t\t\t\tbounceTime: 500, //回弹动画时间\n\t\t\t\tbounceEasing: ease.outCirc, //回弹动画曲线\n\n\t\t\t\tscrollTime: 500,\n\t\t\t\tscrollEasing: ease.outCubic, //轮播动画曲线\n\n\t\t\t\tdirectionLockThreshold: 5,\n\n\t\t\t\tparallaxElement: false, //视差元素\n\t\t\t\tparallaxRatio: 0.5\n\t\t\t}, options);\n\n\t\t\tthis.x = 0;\n\t\t\tthis.y = 0;\n\t\t\tthis.translateZ = this.options.hardwareAccelerated ? ' translateZ(0)' : '';\n\n\t\t\tthis._init();\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.refresh();\n\t\t\t\t//\t\t\t\tif (this.options.startX !== 0 || this.options.startY !== 0) { //需要判断吗？后续根据实际情况再看看\n\t\t\t\tthis.scrollTo(this.options.startX, this.options.startY);\n\t\t\t\t//\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_init: function() {\n\t\t\tthis._initParallax();\n\t\t\tthis._initIndicators();\n\t\t\tthis._initEvent();\n\t\t},\n\t\t_initParallax: function() {\n\t\t\tif (this.options.parallaxElement) {\n\t\t\t\tthis.parallaxElement = document.querySelector(this.options.parallaxElement);\n\t\t\t\tthis.parallaxStyle = this.parallaxElement.style;\n\t\t\t\tthis.parallaxHeight = this.parallaxElement.offsetHeight;\n\t\t\t\tthis.parallaxImgStyle = this.parallaxElement.querySelector('img').style;\n\t\t\t}\n\t\t},\n\t\t_initIndicators: function() {\n\t\t\tvar self = this;\n\t\t\tself.indicators = [];\n\t\t\tif (!this.options.indicators) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar indicators = [],\n\t\t\t\tindicator;\n\n\t\t\t// Vertical scrollbar\n\t\t\tif (self.options.scrollY) {\n\t\t\t\tindicator = {\n\t\t\t\t\tel: this._createScrollBar(CLASS_SCROLLBAR_VERTICAL),\n\t\t\t\t\tlistenX: false\n\t\t\t\t};\n\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\n\t\t\t\tindicators.push(indicator);\n\t\t\t}\n\n\t\t\t// Horizontal scrollbar\n\t\t\tif (this.options.scrollX) {\n\t\t\t\tindicator = {\n\t\t\t\t\tel: this._createScrollBar(CLASS_SCROLLBAR_HORIZONTAL),\n\t\t\t\t\tlistenY: false\n\t\t\t\t};\n\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\n\t\t\t\tindicators.push(indicator);\n\t\t\t}\n\n\t\t\tfor (var i = indicators.length; i--;) {\n\t\t\t\tthis.indicators.push(new Indicator(this, indicators[i]));\n\t\t\t}\n\n\t\t},\n\t\t_initSnap: function() {\n\t\t\tthis.currentPage = {};\n\t\t\tthis.pages = [];\n\t\t\tvar snaps = this.snaps;\n\t\t\tvar length = snaps.length;\n\t\t\tvar m = 0;\n\t\t\tvar n = -1;\n\t\t\tvar x = 0;\n\t\t\tvar leftX = 0;\n\t\t\tvar rightX = 0;\n\t\t\tvar snapX = 0;\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar snap = snaps[i];\n\t\t\t\tvar offsetLeft = snap.offsetLeft;\n\t\t\t\tvar offsetWidth = snap.offsetWidth;\n\t\t\t\tif (i === 0 || offsetLeft <= snaps[i - 1].offsetLeft) {\n\t\t\t\t\tm = 0;\n\t\t\t\t\tn++;\n\t\t\t\t}\n\t\t\t\tif (!this.pages[m]) {\n\t\t\t\t\tthis.pages[m] = [];\n\t\t\t\t}\n\t\t\t\tx = this._getSnapX(offsetLeft);\n\t\t\t\tsnapX = Math.round((offsetWidth) * this.options.snapX);\n\t\t\t\tleftX = x - snapX;\n\t\t\t\trightX = x - offsetWidth + snapX;\n\t\t\t\tthis.pages[m][n] = {\n\t\t\t\t\tx: x,\n\t\t\t\t\tleftX: leftX,\n\t\t\t\t\trightX: rightX,\n\t\t\t\t\tpageX: m,\n\t\t\t\t\telement: snap\n\t\t\t\t}\n\t\t\t\tif (snap.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\tthis.currentPage = this.pages[m][0];\n\t\t\t\t}\n\t\t\t\tif (x >= this.maxScrollX) {\n\t\t\t\t\tm++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.options.startX = this.currentPage.x || 0;\n\t\t},\n\t\t_getSnapX: function(offsetLeft) {\n\t\t\treturn Math.max(Math.min(0, -offsetLeft + (this.wrapperWidth / 2)), this.maxScrollX);\n\t\t},\n\t\t_gotoPage: function(index) {\n\t\t\tthis.currentPage = this.pages[Math.min(index, this.pages.length - 1)][0];\n\t\t\tfor (var i = 0, len = this.snaps.length; i < len; i++) {\n\t\t\t\tif (i === index) {\n\t\t\t\t\tthis.snaps[i].classList.add(CLASS_ACTIVE);\n\t\t\t\t} else {\n\t\t\t\t\tthis.snaps[i].classList.remove(CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.scrollTo(this.currentPage.x, 0, this.options.scrollTime);\n\t\t},\n\t\t_nearestSnap: function(x) {\n\t\t\tif (!this.pages.length) {\n\t\t\t\treturn {\n\t\t\t\t\tx: 0,\n\t\t\t\t\tpageX: 0\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar i = 0;\n\t\t\tvar length = this.pages.length;\n\t\t\tif (x > 0) {\n\t\t\t\tx = 0;\n\t\t\t} else if (x < this.maxScrollX) {\n\t\t\t\tx = this.maxScrollX;\n\t\t\t}\n\t\t\tfor (; i < length; i++) {\n\t\t\t\tvar nearestX = this.direction === 'left' ? this.pages[i][0].leftX : this.pages[i][0].rightX;\n\t\t\t\tif (x >= nearestX) {\n\t\t\t\t\treturn this.pages[i][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: 0,\n\t\t\t\tpageX: 0\n\t\t\t};\n\t\t},\n\t\t_initEvent: function(detach) {\n\t\t\tvar action = detach ? 'removeEventListener' : 'addEventListener';\n\t\t\twindow[action]('orientationchange', this);\n\t\t\twindow[action]('resize', this);\n\n\t\t\tthis.scroller[action]('webkitTransitionEnd', this);\n\n\t\t\tthis.wrapper[action]($.EVENT_START, this);\n\t\t\tthis.wrapper[action]($.EVENT_CANCEL, this);\n\t\t\tthis.wrapper[action]($.EVENT_END, this);\n\t\t\tthis.wrapper[action]('drag', this);\n\t\t\tthis.wrapper[action]('dragend', this);\n\t\t\tthis.wrapper[action]('flick', this);\n\t\t\tthis.wrapper[action]('scrollend', this);\n\t\t\tif (this.options.scrollX) {\n\t\t\t\tthis.wrapper[action]('swiperight', this);\n\t\t\t}\n\t\t\tvar segmentedControl = this.wrapper.querySelector('.mui-segmented-control');\n\t\t\tif (segmentedControl) { //靠，这个bug排查了一下午，阻止hash跳转，一旦hash跳转会导致可拖拽选项卡的tab不见\n\t\t\t\tmui(segmentedControl)[detach ? 'off' : 'on']('click', 'a', $.preventDefault);\n\t\t\t}\n\n\t\t\tthis.wrapper[action]('scrollstart', this);\n\t\t\tthis.wrapper[action]('refresh', this);\n\t\t},\n\t\t_handleIndicatorScrollend: function() {\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.fade();\n\t\t\t});\n\t\t},\n\t\t_handleIndicatorScrollstart: function() {\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.fade(1);\n\t\t\t});\n\t\t},\n\t\t_handleIndicatorRefresh: function() {\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.refresh();\n\t\t\t});\n\t\t},\n\t\thandleEvent: function(e) {\n\t\t\tif (this.stopped) {\n\t\t\t\tthis.resetPosition();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (e.type) {\n\t\t\t\tcase $.EVENT_START:\n\t\t\t\t\tthis._start(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'drag':\n\t\t\t\t\tthis.options.stopPropagation && e.stopPropagation();\n\t\t\t\t\tthis._drag(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dragend':\n\t\t\t\tcase 'flick':\n\t\t\t\t\tthis.options.stopPropagation && e.stopPropagation();\n\t\t\t\t\tthis._flick(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tcase $.EVENT_END:\n\t\t\t\t\tthis._end(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'webkitTransitionEnd':\n\t\t\t\t\tthis.transitionTimer && this.transitionTimer.cancel();\n\t\t\t\t\tthis._transitionEnd(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scrollstart':\n\t\t\t\t\tthis._handleIndicatorScrollstart(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scrollend':\n\t\t\t\t\tthis._handleIndicatorScrollend(e);\n\t\t\t\t\tthis._scrollend(e);\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'orientationchange':\n\t\t\t\tcase 'resize':\n\t\t\t\t\tthis._resize();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'swiperight':\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'refresh':\n\t\t\t\t\tthis._handleIndicatorRefresh(e);\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t},\n\t\t_start: function(e) {\n\t\t\tthis.moved = this.needReset = false;\n\t\t\tthis._transitionTime();\n\t\t\tif (this.isInTransition) {\n\t\t\t\tthis.needReset = true;\n\t\t\t\tthis.isInTransition = false;\n\t\t\t\tvar pos = $.parseTranslateMatrix($.getStyles(this.scroller, 'webkitTransform'));\n\t\t\t\tthis.setTranslate(Math.round(pos.x), Math.round(pos.y));\n\t\t\t\t//\t\t\t\tthis.resetPosition(); //reset\n\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t\t//\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\tthis.reLayout();\n\t\t\t$.trigger(this.scroller, 'beforescrollstart', this);\n\t\t},\n\t\t_getDirectionByAngle: function(angle) {\n\t\t\tif (angle < -80 && angle > -100) {\n\t\t\t\treturn 'up';\n\t\t\t} else if (angle >= 80 && angle < 100) {\n\t\t\t\treturn 'down';\n\t\t\t} else if (angle >= 170 || angle <= -170) {\n\t\t\t\treturn 'left';\n\t\t\t} else if (angle >= -35 && angle <= 10) {\n\t\t\t\treturn 'right';\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t_drag: function(e) {\n\t\t\t//\t\t\tif (this.needReset) {\n\t\t\t//\t\t\t\te.stopPropagation(); //disable parent drag(nested scroller)\n\t\t\t//\t\t\t\treturn;\n\t\t\t//\t\t\t}\n\t\t\tvar detail = e.detail;\n\t\t\tif (this.options.scrollY || detail.direction === 'up' || detail.direction === 'down') { //如果是竖向滚动或手势方向是上或下\n\t\t\t\t//ios8 hack\n\t\t\t\tif ($.os.ios && parseFloat($.os.version) >= 8) { //多webview时，离开当前webview会导致后续touch事件不触发\n\t\t\t\t\tvar clientY = detail.gesture.touches[0].clientY;\n\t\t\t\t\t//下拉刷新 or 上拉加载\n\t\t\t\t\tif ((clientY + 10) > window.innerHeight || clientY < 10) {\n\t\t\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar isPreventDefault = isReturn = false;\n\t\t\tvar direction = this._getDirectionByAngle(detail.angle);\n\t\t\tif (detail.direction === 'left' || detail.direction === 'right') {\n\t\t\t\tif (this.options.scrollX) {\n\t\t\t\t\tisPreventDefault = true;\n\t\t\t\t\tif (!this.moved) { //识别角度(该角度导致轮播不灵敏)\n\t\t\t\t\t\t//\t\t\t\t\t\tif (direction !== 'left' && direction !== 'right') {\n\t\t\t\t\t\t//\t\t\t\t\t\t\tisReturn = true;\n\t\t\t\t\t\t//\t\t\t\t\t\t} else {\n\t\t\t\t\t\t$.gestures.session.lockDirection = true; //锁定方向\n\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\n\t\t\t\t\t\t//\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (this.options.scrollY && !this.moved) {\n\t\t\t\t\tisReturn = true;\n\t\t\t\t}\n\t\t\t} else if (detail.direction === 'up' || detail.direction === 'down') {\n\t\t\t\tif (this.options.scrollY) {\n\t\t\t\t\tisPreventDefault = true;\n\t\t\t\t\t//\t\t\t\t\tif (!this.moved) { //识别角度,竖向滚动似乎没必要进行小角度验证\n\t\t\t\t\t//\t\t\t\t\t\tif (direction !== 'up' && direction !== 'down') {\n\t\t\t\t\t//\t\t\t\t\t\t\tisReturn = true;\n\t\t\t\t\t//\t\t\t\t\t\t}\n\t\t\t\t\t//\t\t\t\t\t}\n\t\t\t\t\tif (!this.moved) {\n\t\t\t\t\t\t$.gestures.session.lockDirection = true; //锁定方向\n\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\n\t\t\t\t\t}\n\t\t\t\t} else if (this.options.scrollX && !this.moved) {\n\t\t\t\t\tisReturn = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisReturn = true;\n\t\t\t}\n\t\t\tif (this.moved || isPreventDefault) {\n\t\t\t\te.stopPropagation(); //阻止冒泡(scroll类嵌套)\n\t\t\t\tdetail.gesture && detail.gesture.preventDefault();\n\t\t\t}\n\t\t\tif (isReturn) { //禁止非法方向滚动\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.moved) {\n\t\t\t\t$.trigger(this.scroller, 'scrollstart', this);\n\t\t\t} else {\n\t\t\t\te.stopPropagation(); //move期间阻止冒泡(scroll嵌套)\n\t\t\t}\n\t\t\tvar deltaX = 0;\n\t\t\tvar deltaY = 0;\n\t\t\tif (!this.moved) { //start\n\t\t\t\tdeltaX = detail.deltaX;\n\t\t\t\tdeltaY = detail.deltaY;\n\t\t\t} else { //move\n\t\t\t\tdeltaX = detail.deltaX - $.gestures.session.prevTouch.deltaX;\n\t\t\t\tdeltaY = detail.deltaY - $.gestures.session.prevTouch.deltaY;\n\t\t\t}\n\t\t\tvar absDeltaX = Math.abs(detail.deltaX);\n\t\t\tvar absDeltaY = Math.abs(detail.deltaY);\n\t\t\tif (absDeltaX > absDeltaY + this.options.directionLockThreshold) {\n\t\t\t\tdeltaY = 0;\n\t\t\t} else if (absDeltaY >= absDeltaX + this.options.directionLockThreshold) {\n\t\t\t\tdeltaX = 0;\n\t\t\t}\n\n\t\t\tdeltaX = this.hasHorizontalScroll ? deltaX : 0;\n\t\t\tdeltaY = this.hasVerticalScroll ? deltaY : 0;\n\t\t\tvar newX = this.x + deltaX;\n\t\t\tvar newY = this.y + deltaY;\n\t\t\t// Slow down if outside of the boundaries\n\t\t\tif (newX > 0 || newX < this.maxScrollX) {\n\t\t\t\tnewX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\n\t\t\t}\n\t\t\tif (newY > 0 || newY < this.maxScrollY) {\n\t\t\t\tnewY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\n\t\t\t}\n\n\t\t\tif (!this.requestAnimationFrame) {\n\t\t\t\tthis._updateTranslate();\n\t\t\t}\n\t\t\tthis.direction = detail.deltaX > 0 ? 'right' : 'left';\n\t\t\tthis.moved = true;\n\t\t\tthis.x = newX;\n\t\t\tthis.y = newY;\n\t\t\t$.trigger(this.scroller, 'scroll', this);\n\t\t},\n\t\t_flick: function(e) {\n\t\t\t//\t\t\tif (!this.moved || this.needReset) {\n\t\t\t//\t\t\t\treturn;\n\t\t\t//\t\t\t}\n\t\t\tif (!this.moved) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t\tvar detail = e.detail;\n\t\t\tthis._clearRequestAnimationFrame();\n\t\t\tif (e.type === 'dragend' && detail.flick) { //dragend\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar newX = Math.round(this.x);\n\t\t\tvar newY = Math.round(this.y);\n\n\t\t\tthis.isInTransition = false;\n\t\t\t// reset if we are outside of the boundaries\n\t\t\tif (this.resetPosition(this.options.bounceTime)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.scrollTo(newX, newY); // ensures that the last position is rounded\n\n\t\t\tif (e.type === 'dragend') { //dragend\n\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = 0;\n\t\t\tvar easing = '';\n\t\t\t// start momentum animation if needed\n\t\t\tif (this.options.momentum && detail.flickTime < 300) {\n\t\t\t\tmomentumX = this.hasHorizontalScroll ? this._momentum(this.x, detail.flickDistanceX, detail.flickTime, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : {\n\t\t\t\t\tdestination: newX,\n\t\t\t\t\tduration: 0\n\t\t\t\t};\n\t\t\t\tmomentumY = this.hasVerticalScroll ? this._momentum(this.y, detail.flickDistanceY, detail.flickTime, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : {\n\t\t\t\t\tdestination: newY,\n\t\t\t\t\tduration: 0\n\t\t\t\t};\n\t\t\t\tnewX = momentumX.destination;\n\t\t\t\tnewY = momentumY.destination;\n\t\t\t\ttime = Math.max(momentumX.duration, momentumY.duration);\n\t\t\t\tthis.isInTransition = true;\n\t\t\t}\n\n\t\t\tif (newX != this.x || newY != this.y) {\n\t\t\t\tif (newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY) {\n\t\t\t\t\teasing = ease.quadratic;\n\t\t\t\t}\n\t\t\t\tthis.scrollTo(newX, newY, time, easing);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t//\t\t\te.stopPropagation();\n\t\t},\n\t\t_end: function(e) {\n\t\t\tthis.needReset = false;\n\t\t\tif ((!this.moved && this.needReset) || e.type === $.EVENT_CANCEL) {\n\t\t\t\tthis.resetPosition();\n\t\t\t}\n\t\t},\n\t\t_transitionEnd: function(e) {\n\t\t\tif (e.target != this.scroller || !this.isInTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._transitionTime();\n\t\t\tif (!this.resetPosition(this.options.bounceTime)) {\n\t\t\t\tthis.isInTransition = false;\n\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\n\t\t\t}\n\t\t},\n\t\t_scrollend: function(e) {\n\t\t\tif ((this.y === 0 && this.maxScrollY === 0) || (Math.abs(this.y) > 0 && this.y <= this.maxScrollY)) {\n\t\t\t\t$.trigger(this.scroller, 'scrollbottom', this);\n\t\t\t}\n\t\t},\n\t\t_resize: function() {\n\t\t\tvar that = this;\n\t\t\tclearTimeout(that.resizeTimeout);\n\t\t\tthat.resizeTimeout = setTimeout(function() {\n\t\t\t\tthat.refresh();\n\t\t\t}, that.options.resizePolling);\n\t\t},\n\t\t_transitionTime: function(time) {\n\t\t\ttime = time || 0;\n\t\t\tthis.scrollerStyle['webkitTransitionDuration'] = time + 'ms';\n\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\n\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = time + 'ms';\n\t\t\t}\n\t\t\tif (this.options.fixedBadAndorid && !time && $.os.isBadAndroid) {\n\t\t\t\tthis.scrollerStyle['webkitTransitionDuration'] = '0.001s';\n\t\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\n\t\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = '0.001s';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.indicators) {\n\t\t\t\tfor (var i = this.indicators.length; i--;) {\n\t\t\t\t\tthis.indicators[i].transitionTime(time);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (time) { //自定义timer，保证webkitTransitionEnd始终触发\n\t\t\t\tthis.transitionTimer && this.transitionTimer.cancel();\n\t\t\t\tthis.transitionTimer = $.later(function() {\n\t\t\t\t\t$.trigger(this.scroller, 'webkitTransitionEnd');\n\t\t\t\t}, time + 100, this);\n\t\t\t}\n\t\t},\n\t\t_transitionTimingFunction: function(easing) {\n\t\t\tthis.scrollerStyle['webkitTransitionTimingFunction'] = easing;\n\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\n\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = easing;\n\t\t\t}\n\t\t\tif (this.indicators) {\n\t\t\t\tfor (var i = this.indicators.length; i--;) {\n\t\t\t\t\tthis.indicators[i].transitionTimingFunction(easing);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_translate: function(x, y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t},\n\t\t_clearRequestAnimationFrame: function() {\n\t\t\tif (this.requestAnimationFrame) {\n\t\t\t\tcancelAnimationFrame(this.requestAnimationFrame);\n\t\t\t\tthis.requestAnimationFrame = null;\n\t\t\t}\n\t\t},\n\t\t_updateTranslate: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.x !== self.lastX || self.y !== self.lastY) {\n\t\t\t\tself.setTranslate(self.x, self.y);\n\t\t\t}\n\t\t\tself.requestAnimationFrame = requestAnimationFrame(function() {\n\t\t\t\tself._updateTranslate();\n\t\t\t});\n\t\t},\n\t\t_createScrollBar: function(clazz) {\n\t\t\tvar scrollbar = document.createElement('div');\n\t\t\tvar indicator = document.createElement('div');\n\t\t\tscrollbar.className = CLASS_SCROLLBAR + ' ' + clazz;\n\t\t\tindicator.className = CLASS_INDICATOR;\n\t\t\tscrollbar.appendChild(indicator);\n\t\t\tif (clazz === CLASS_SCROLLBAR_VERTICAL) {\n\t\t\t\tthis.scrollbarY = scrollbar;\n\t\t\t\tthis.scrollbarIndicatorY = indicator;\n\t\t\t} else if (clazz === CLASS_SCROLLBAR_HORIZONTAL) {\n\t\t\t\tthis.scrollbarX = scrollbar;\n\t\t\t\tthis.scrollbarIndicatorX = indicator;\n\t\t\t}\n\t\t\tthis.wrapper.appendChild(scrollbar);\n\t\t\treturn scrollbar;\n\t\t},\n\t\t_preventDefaultException: function(el, exceptions) {\n\t\t\tfor (var i in exceptions) {\n\t\t\t\tif (exceptions[i].test(el[i])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t_reLayout: function() {\n\t\t\tif (!this.hasHorizontalScroll) {\n\t\t\t\tthis.maxScrollX = 0;\n\t\t\t\tthis.scrollerWidth = this.wrapperWidth;\n\t\t\t}\n\n\t\t\tif (!this.hasVerticalScroll) {\n\t\t\t\tthis.maxScrollY = 0;\n\t\t\t\tthis.scrollerHeight = this.wrapperHeight;\n\t\t\t}\n\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.refresh();\n\t\t\t});\n\n\t\t\t//以防slider类嵌套使用\n\t\t\tif (this.options.snap && typeof this.options.snap === 'string') {\n\t\t\t\tvar items = this.scroller.querySelectorAll(this.options.snap);\n\t\t\t\tthis.itemLength = 0;\n\t\t\t\tthis.snaps = [];\n\t\t\t\tfor (var i = 0, len = items.length; i < len; i++) {\n\t\t\t\t\tvar item = items[i];\n\t\t\t\t\tif (item.parentNode === this.scroller) {\n\t\t\t\t\t\tthis.itemLength++;\n\t\t\t\t\t\tthis.snaps.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._initSnap(); //需要每次都_initSnap么。其实init的时候执行一次，后续resize的时候执行一次就行了吧.先这么做吧，如果影响性能，再调整\n\t\t\t}\n\t\t},\n\t\t_momentum: function(current, distance, time, lowerMargin, wrapperSize, deceleration) {\n\t\t\tvar speed = parseFloat(Math.abs(distance) / time),\n\t\t\t\tdestination,\n\t\t\t\tduration;\n\n\t\t\tdeceleration = deceleration === undefined ? 0.0006 : deceleration;\n\t\t\tdestination = current + (speed * speed) / (2 * deceleration) * (distance < 0 ? -1 : 1);\n\t\t\tduration = speed / deceleration;\n\t\t\tif (destination < lowerMargin) {\n\t\t\t\tdestination = wrapperSize ? lowerMargin - (wrapperSize / 2.5 * (speed / 8)) : lowerMargin;\n\t\t\t\tdistance = Math.abs(destination - current);\n\t\t\t\tduration = distance / speed;\n\t\t\t} else if (destination > 0) {\n\t\t\t\tdestination = wrapperSize ? wrapperSize / 2.5 * (speed / 8) : 0;\n\t\t\t\tdistance = Math.abs(current) + destination;\n\t\t\t\tduration = distance / speed;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdestination: Math.round(destination),\n\t\t\t\tduration: duration\n\t\t\t};\n\t\t},\n\t\t_getTranslateStr: function(x, y) {\n\t\t\tif (this.options.hardwareAccelerated) {\n\t\t\t\treturn 'translate3d(' + x + 'px,' + y + 'px,0px) ' + this.translateZ;\n\t\t\t}\n\t\t\treturn 'translate(' + x + 'px,' + y + 'px) ';\n\t\t},\n\t\t//API\n\t\tsetStopped: function(stopped) {\n\t\t\tthis.stopped = !!stopped;\n\t\t},\n\t\tsetTranslate: function(x, y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.scrollerStyle['webkitTransform'] = this._getTranslateStr(x, y);\n\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\n\t\t\t\tvar parallaxY = y * this.options.parallaxRatio;\n\t\t\t\tvar scale = 1 + parallaxY / ((this.parallaxHeight - parallaxY) / 2);\n\t\t\t\tif (scale > 1) {\n\t\t\t\t\tthis.parallaxImgStyle['opacity'] = 1 - parallaxY / 100 * this.options.parallaxRatio;\n\t\t\t\t\tthis.parallaxStyle['webkitTransform'] = this._getTranslateStr(0, -parallaxY) + ' scale(' + scale + ',' + scale + ')';\n\t\t\t\t} else {\n\t\t\t\t\tthis.parallaxImgStyle['opacity'] = 1;\n\t\t\t\t\tthis.parallaxStyle['webkitTransform'] = this._getTranslateStr(0, -1) + ' scale(1,1)';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.indicators) {\n\t\t\t\tfor (var i = this.indicators.length; i--;) {\n\t\t\t\t\tthis.indicators[i].updatePosition();\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.lastX = this.x;\n\t\t\tthis.lastY = this.y;\n\t\t\t$.trigger(this.scroller, 'scroll', this);\n\t\t},\n\t\treLayout: function() {\n\t\t\tthis.wrapper.offsetHeight;\n\n\t\t\tvar paddingLeft = parseFloat($.getStyles(this.wrapper, 'padding-left')) || 0;\n\t\t\tvar paddingRight = parseFloat($.getStyles(this.wrapper, 'padding-right')) || 0;\n\t\t\tvar paddingTop = parseFloat($.getStyles(this.wrapper, 'padding-top')) || 0;\n\t\t\tvar paddingBottom = parseFloat($.getStyles(this.wrapper, 'padding-bottom')) || 0;\n\n\t\t\tvar clientWidth = this.wrapper.clientWidth;\n\t\t\tvar clientHeight = this.wrapper.clientHeight;\n\n\t\t\tthis.scrollerWidth = this.scroller.offsetWidth;\n\t\t\tthis.scrollerHeight = this.scroller.offsetHeight;\n\n\t\t\tthis.wrapperWidth = clientWidth - paddingLeft - paddingRight;\n\t\t\tthis.wrapperHeight = clientHeight - paddingTop - paddingBottom;\n\n\t\t\tthis.maxScrollX = Math.min(this.wrapperWidth - this.scrollerWidth, 0);\n\t\t\tthis.maxScrollY = Math.min(this.wrapperHeight - this.scrollerHeight, 0);\n\t\t\tthis.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < 0;\n\t\t\tthis.hasVerticalScroll = this.options.scrollY && this.maxScrollY < 0;\n\t\t\tthis._reLayout();\n\t\t},\n\t\tresetPosition: function(time) {\n\t\t\tvar x = this.x,\n\t\t\t\ty = this.y;\n\n\t\t\ttime = time || 0;\n\t\t\tif (!this.hasHorizontalScroll || this.x > 0) {\n\t\t\t\tx = 0;\n\t\t\t} else if (this.x < this.maxScrollX) {\n\t\t\t\tx = this.maxScrollX;\n\t\t\t}\n\n\t\t\tif (!this.hasVerticalScroll || this.y > 0) {\n\t\t\t\ty = 0;\n\t\t\t} else if (this.y < this.maxScrollY) {\n\t\t\t\ty = this.maxScrollY;\n\t\t\t}\n\n\t\t\tif (x == this.x && y == this.y) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.scrollTo(x, y, time, this.options.scrollEasing);\n\n\t\t\treturn true;\n\t\t},\n\t\t_reInit: function() {\n\t\t\tvar groups = this.wrapper.querySelectorAll('.' + CLASS_SCROLL);\n\t\t\tfor (var i = 0, len = groups.length; i < len; i++) {\n\t\t\t\tif (groups[i].parentNode === this.wrapper) {\n\t\t\t\t\tthis.scroller = groups[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\n\t\t},\n\t\trefresh: function() {\n\t\t\tthis._reInit();\n\t\t\tthis.reLayout();\n\t\t\t$.trigger(this.scroller, 'refresh', this);\n\t\t\tthis.resetPosition();\n\t\t},\n\t\tscrollTo: function(x, y, time, easing) {\n\t\t\tvar easing = easing || ease.circular;\n\t\t\t//\t\t\tthis.isInTransition = time > 0 && (this.lastX != x || this.lastY != y);\n\t\t\t//暂不严格判断x,y，否则会导致部分版本上不正常触发轮播\n\t\t\tthis.isInTransition = time > 0;\n\t\t\tif (this.isInTransition) {\n\t\t\t\tthis._clearRequestAnimationFrame();\n\t\t\t\tthis._transitionTimingFunction(easing.style);\n\t\t\t\tthis._transitionTime(time);\n\t\t\t\tthis.setTranslate(x, y);\n\t\t\t} else {\n\t\t\t\tthis.setTranslate(x, y);\n\t\t\t}\n\n\t\t},\n\t\tscrollToBottom: function(time, easing) {\n\t\t\ttime = time || this.options.scrollTime;\n\t\t\tthis.scrollTo(0, this.maxScrollY, time, easing);\n\t\t},\n\t\tgotoPage: function(index) {\n\t\t\tthis._gotoPage(index);\n\t\t},\n\t\tdestroy: function() {\n\t\t\tthis._initEvent(true); //detach\n\t\t\tdelete $.data[this.wrapper.getAttribute('data-scroll')];\n\t\t\tthis.wrapper.setAttribute('data-scroll', '');\n\t\t}\n\t});\n\t//Indicator\n\tvar Indicator = function(scroller, options) {\n\t\tthis.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\n\t\tthis.wrapperStyle = this.wrapper.style;\n\t\tthis.indicator = this.wrapper.children[0];\n\t\tthis.indicatorStyle = this.indicator.style;\n\t\tthis.scroller = scroller;\n\n\t\tthis.options = $.extend({\n\t\t\tlistenX: true,\n\t\t\tlistenY: true,\n\t\t\tfade: false,\n\t\t\tspeedRatioX: 0,\n\t\t\tspeedRatioY: 0\n\t\t}, options);\n\n\t\tthis.sizeRatioX = 1;\n\t\tthis.sizeRatioY = 1;\n\t\tthis.maxPosX = 0;\n\t\tthis.maxPosY = 0;\n\n\t\tif (this.options.fade) {\n\t\t\tthis.wrapperStyle['webkitTransform'] = this.scroller.translateZ;\n\t\t\tthis.wrapperStyle['webkitTransitionDuration'] = this.options.fixedBadAndorid && $.os.isBadAndroid ? '0.001s' : '0ms';\n\t\t\tthis.wrapperStyle.opacity = '0';\n\t\t}\n\t}\n\tIndicator.prototype = {\n\t\thandleEvent: function(e) {\n\n\t\t},\n\t\ttransitionTime: function(time) {\n\t\t\ttime = time || 0;\n\t\t\tthis.indicatorStyle['webkitTransitionDuration'] = time + 'ms';\n\t\t\tif (this.scroller.options.fixedBadAndorid && !time && $.os.isBadAndroid) {\n\t\t\t\tthis.indicatorStyle['webkitTransitionDuration'] = '0.001s';\n\t\t\t}\n\t\t},\n\t\ttransitionTimingFunction: function(easing) {\n\t\t\tthis.indicatorStyle['webkitTransitionTimingFunction'] = easing;\n\t\t},\n\t\trefresh: function() {\n\t\t\tthis.transitionTime();\n\n\t\t\tif (this.options.listenX && !this.options.listenY) {\n\t\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\n\t\t\t} else if (this.options.listenY && !this.options.listenX) {\n\t\t\t\tthis.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\n\t\t\t} else {\n\t\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\n\t\t\t}\n\n\t\t\tthis.wrapper.offsetHeight; // force refresh\n\n\t\t\tif (this.options.listenX) {\n\t\t\t\tthis.wrapperWidth = this.wrapper.clientWidth;\n\t\t\t\tthis.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\n\t\t\t\tthis.indicatorStyle.width = this.indicatorWidth + 'px';\n\n\t\t\t\tthis.maxPosX = this.wrapperWidth - this.indicatorWidth;\n\n\t\t\t\tthis.minBoundaryX = 0;\n\t\t\t\tthis.maxBoundaryX = this.maxPosX;\n\n\t\t\t\tthis.sizeRatioX = this.options.speedRatioX || (this.scroller.maxScrollX && (this.maxPosX / this.scroller.maxScrollX));\n\t\t\t}\n\n\t\t\tif (this.options.listenY) {\n\t\t\t\tthis.wrapperHeight = this.wrapper.clientHeight;\n\t\t\t\tthis.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\n\t\t\t\tthis.indicatorStyle.height = this.indicatorHeight + 'px';\n\n\t\t\t\tthis.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\n\t\t\t\tthis.minBoundaryY = 0;\n\t\t\t\tthis.maxBoundaryY = this.maxPosY;\n\n\t\t\t\tthis.sizeRatioY = this.options.speedRatioY || (this.scroller.maxScrollY && (this.maxPosY / this.scroller.maxScrollY));\n\t\t\t}\n\n\t\t\tthis.updatePosition();\n\t\t},\n\n\t\tupdatePosition: function() {\n\t\t\tvar x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\n\t\t\t\ty = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\n\n\t\t\tif (x < this.minBoundaryX) {\n\t\t\t\tthis.width = Math.max(this.indicatorWidth + x, 8);\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t\tx = this.minBoundaryX;\n\t\t\t} else if (x > this.maxBoundaryX) {\n\t\t\t\tthis.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t\tx = this.maxPosX + this.indicatorWidth - this.width;\n\t\t\t} else if (this.width != this.indicatorWidth) {\n\t\t\t\tthis.width = this.indicatorWidth;\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t}\n\n\t\t\tif (y < this.minBoundaryY) {\n\t\t\t\tthis.height = Math.max(this.indicatorHeight + y * 3, 8);\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t\ty = this.minBoundaryY;\n\t\t\t} else if (y > this.maxBoundaryY) {\n\t\t\t\tthis.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t\ty = this.maxPosY + this.indicatorHeight - this.height;\n\t\t\t} else if (this.height != this.indicatorHeight) {\n\t\t\t\tthis.height = this.indicatorHeight;\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t}\n\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\n\t\t\tthis.indicatorStyle['webkitTransform'] = this.scroller._getTranslateStr(x, y);\n\n\t\t},\n\t\tfade: function(val, hold) {\n\t\t\tif (hold && !this.visible) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(this.fadeTimeout);\n\t\t\tthis.fadeTimeout = null;\n\n\t\t\tvar time = val ? 250 : 500,\n\t\t\t\tdelay = val ? 0 : 300;\n\n\t\t\tval = val ? '1' : '0';\n\n\t\t\tthis.wrapperStyle['webkitTransitionDuration'] = time + 'ms';\n\n\t\t\tthis.fadeTimeout = setTimeout((function(val) {\n\t\t\t\tthis.wrapperStyle.opacity = val;\n\t\t\t\tthis.visible = +val;\n\t\t\t}).bind(this, val), delay);\n\t\t}\n\t};\n\n\t$.Scroll = Scroll;\n\n\t$.fn.scroll = function(options) {\n\t\tvar scrollApis = [];\n\t\tthis.each(function() {\n\t\t\tvar scrollApi = null;\n\t\t\tvar self = this;\n\t\t\tvar id = self.getAttribute('data-scroll');\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\tvar _options = $.extend({}, options);\n\t\t\t\tif (self.classList.contains('mui-segmented-control')) {\n\t\t\t\t\t_options = $.extend(_options, {\n\t\t\t\t\t\tscrollY: false,\n\t\t\t\t\t\tscrollX: true,\n\t\t\t\t\t\tindicators: false,\n\t\t\t\t\t\tsnap: '.mui-control-item'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t$.data[id] = scrollApi = new Scroll(self, _options);\n\t\t\t\tself.setAttribute('data-scroll', id);\n\t\t\t} else {\n\t\t\t\tscrollApi = $.data[id];\n\t\t\t}\n\t\t\tscrollApis.push(scrollApi);\n\t\t});\n\t\treturn scrollApis.length === 1 ? scrollApis[0] : scrollApis;\n\t};\n})(mui, window, document);\n(function($, window, document, undefined) {\n\n\tvar CLASS_VISIBILITY = 'mui-visibility';\n\tvar CLASS_HIDDEN = 'mui-hidden';\n\n\tvar PullRefresh = $.Scroll.extend($.extend({\n\t\thandleEvent: function(e) {\n\t\t\tthis._super(e);\n\t\t\tif (e.type === 'scrollbottom') {\n\t\t\t\tif (e.target === this.scroller) {\n\t\t\t\t\tthis._scrollbottom();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_scrollbottom: function() {\n\t\t\tif (!this.pulldown && !this.loading) {\n\t\t\t\tthis.pulldown = false;\n\t\t\t\tthis._initPullupRefresh();\n\t\t\t\tthis.pullupLoading();\n\t\t\t}\n\t\t},\n\t\t_start: function(e) {\n\t\t\t//仅下拉刷新在start阻止默认事件\n\t\t\tif (e.touches && e.touches.length && e.touches[0].clientX > 30) {\n\t\t\t\te.target && !this._preventDefaultException(e.target, this.options.preventDefaultException) && e.preventDefault();\n\t\t\t}\n\t\t\tif (!this.loading) {\n\t\t\t\tthis.pulldown = this.pullPocket = this.pullCaption = this.pullLoading = false\n\t\t\t}\n\t\t\tthis._super(e);\n\t\t},\n\t\t_drag: function(e) {\n\t\t\tthis._super(e);\n\t\t\tif (!this.pulldown && !this.loading && this.topPocket && e.detail.direction === 'down' && this.y >= 0) {\n\t\t\t\tthis._initPulldownRefresh();\n\t\t\t}\n\t\t\tif (this.pulldown) {\n\t\t\t\tthis._setCaption(this.y > this.options.down.height ? this.options.down.contentover : this.options.down.contentdown);\n\t\t\t}\n\t\t},\n\n\t\t_reLayout: function() {\n\t\t\tthis.hasVerticalScroll = true;\n\t\t\tthis._super();\n\t\t},\n\t\t//API\n\t\tresetPosition: function(time) {\n\t\t\tif (this.pulldown) {\n\t\t\t\tif (this.y >= this.options.down.height) {\n\t\t\t\t\tthis.pulldownLoading(undefined, time || 0);\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\t!this.loading && this.topPocket.classList.remove(CLASS_VISIBILITY);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this._super(time);\n\t\t},\n\t\tpulldownLoading: function(y, time) {\n\t\t\ttypeof y === 'undefined' && (y = this.options.down.height); //默认高度\n\t\t\tthis.scrollTo(0, y, time, this.options.bounceEasing);\n\t\t\tif (this.loading) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//\t\t\tif (!this.pulldown) {\n\t\t\tthis._initPulldownRefresh();\n\t\t\t//\t\t\t}\n\t\t\tthis._setCaption(this.options.down.contentrefresh);\n\t\t\tthis.loading = true;\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.fade(0);\n\t\t\t});\n\t\t\tvar callback = this.options.down.callback;\n\t\t\tcallback && callback.call(this);\n\t\t},\n\t\tendPulldownToRefresh: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.topPocket && self.loading && this.pulldown) {\n\t\t\t\tself.scrollTo(0, 0, self.options.bounceTime, self.options.bounceEasing);\n\t\t\t\tself.loading = false;\n\t\t\t\tself._setCaption(self.options.down.contentdown, true);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.loading || self.topPocket.classList.remove(CLASS_VISIBILITY);\n\t\t\t\t}, 350);\n\t\t\t}\n\t\t},\n\t\tpullupLoading: function(callback, x, time) {\n\t\t\tx = x || 0;\n\t\t\tthis.scrollTo(x, this.maxScrollY, time, this.options.bounceEasing);\n\t\t\tif (this.loading) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._initPullupRefresh();\n\t\t\tthis._setCaption(this.options.up.contentrefresh);\n\t\t\tthis.indicators.map(function(indicator) {\n\t\t\t\tindicator.fade(0);\n\t\t\t});\n\t\t\tthis.loading = true;\n\t\t\tcallback = callback || this.options.up.callback;\n\t\t\tcallback && callback.call(this);\n\t\t},\n\t\tendPullupToRefresh: function(finished) {\n\t\t\tvar self = this;\n\t\t\tif (self.bottomPocket) { // && self.loading && !this.pulldown\n\t\t\t\tself.loading = false;\n\t\t\t\tif (finished) {\n\t\t\t\t\tthis.finished = true;\n\t\t\t\t\tself._setCaption(self.options.up.contentnomore);\n\t\t\t\t\t//\t\t\t\t\tself.bottomPocket.classList.remove(CLASS_VISIBILITY);\n\t\t\t\t\t//\t\t\t\t\tself.bottomPocket.classList.add(CLASS_HIDDEN);\n\t\t\t\t\tself.wrapper.removeEventListener('scrollbottom', self);\n\t\t\t\t} else {\n\t\t\t\t\tself._setCaption(self.options.up.contentdown);\n\t\t\t\t\t//\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.loading || self.bottomPocket.classList.remove(CLASS_VISIBILITY);\n\t\t\t\t\t//\t\t\t\t\t}, 300);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdisablePullupToRefresh: function() {\n\t\t\tthis._initPullupRefresh();\n\t\t\tthis.bottomPocket.className = 'mui-pull-bottom-pocket' + ' ' + CLASS_HIDDEN;\n\t\t\tthis.wrapper.removeEventListener('scrollbottom', this);\n\t\t},\n\t\tenablePullupToRefresh: function() {\n\t\t\tthis._initPullupRefresh();\n\t\t\tthis.bottomPocket.classList.remove(CLASS_HIDDEN);\n\t\t\tthis._setCaption(this.options.up.contentdown);\n\t\t\tthis.wrapper.addEventListener('scrollbottom', this);\n\t\t},\n\t\trefresh: function(isReset) {\n\t\t\tif (isReset && this.finished) {\n\t\t\t\tthis.enablePullupToRefresh();\n\t\t\t\tthis.finished = false;\n\t\t\t}\n\t\t\tthis._super();\n\t\t},\n\t}, $.PullRefresh));\n\t$.fn.pullRefresh = function(options) {\n\t\tif (this.length === 1) {\n\t\t\tvar self = this[0];\n\t\t\tvar pullRefreshApi = null;\n\t\t\toptions = options || {};\n\t\t\tvar id = self.getAttribute('data-pullrefresh');\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\t$.data[id] = pullRefreshApi = new PullRefresh(self, options);\n\t\t\t\tself.setAttribute('data-pullrefresh', id);\n\t\t\t} else {\n\t\t\t\tpullRefreshApi = $.data[id];\n\t\t\t}\n\t\t\tif (options.down && options.down.auto) { //如果设置了auto，则自动下拉一次\n\t\t\t\tpullRefreshApi.pulldownLoading(options.down.autoY);\n\t\t\t} else if (options.up && options.up.auto) { //如果设置了auto，则自动上拉一次\n\t\t\t\tpullRefreshApi.pullupLoading();\n\t\t\t}\n\t\t\t//暂不提供这种调用方式吧\t\t\t\n\t\t\t//\t\t\tif (typeof options === 'string') {\n\t\t\t//\t\t\t\tvar methodValue = pullRefreshApi[options].apply(pullRefreshApi, $.slice.call(arguments, 1));\n\t\t\t//\t\t\t\tif (methodValue !== undefined) {\n\t\t\t//\t\t\t\t\treturn methodValue;\n\t\t\t//\t\t\t\t}\n\t\t\t//\t\t\t}\n\t\t\treturn pullRefreshApi;\n\t\t}\n\t};\n})(mui, window, document);\n/**\n * snap 重构\n * @param {Object} $\n * @param {Object} window\n */\n(function($, window) {\n\tvar CLASS_SLIDER = 'mui-slider';\n\tvar CLASS_SLIDER_GROUP = 'mui-slider-group';\n\tvar CLASS_SLIDER_LOOP = 'mui-slider-loop';\n\tvar CLASS_SLIDER_INDICATOR = 'mui-slider-indicator';\n\tvar CLASS_ACTION_PREVIOUS = 'mui-action-previous';\n\tvar CLASS_ACTION_NEXT = 'mui-action-next';\n\tvar CLASS_SLIDER_ITEM = 'mui-slider-item';\n\n\tvar CLASS_ACTIVE = 'mui-active';\n\n\tvar SELECTOR_SLIDER_ITEM = '.' + CLASS_SLIDER_ITEM;\n\tvar SELECTOR_SLIDER_INDICATOR = '.' + CLASS_SLIDER_INDICATOR;\n\tvar SELECTOR_SLIDER_PROGRESS_BAR = '.mui-slider-progress-bar';\n\n\tvar Slider = $.Slider = $.Scroll.extend({\n\t\tinit: function(element, options) {\n\t\t\tthis._super(element, $.extend(true, {\n\t\t\t\tfingers: 1,\n\t\t\t\tinterval: 0, //设置为0，则不定时轮播\n\t\t\t\tscrollY: false,\n\t\t\t\tscrollX: true,\n\t\t\t\tindicators: false,\n\t\t\t\tscrollTime: 1000,\n\t\t\t\tstartX: false,\n\t\t\t\tslideTime: 0, //滑动动画时间\n\t\t\t\tsnap: SELECTOR_SLIDER_ITEM\n\t\t\t}, options));\n\t\t\tif (this.options.startX) {\n\t\t\t\t//\t\t\t\t$.trigger(this.wrapper, 'scrollend', this);\n\t\t\t}\n\t\t},\n\t\t_init: function() {\n\t\t\tthis._reInit();\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.scrollerStyle = this.scroller.style;\n\t\t\t\tthis.progressBar = this.wrapper.querySelector(SELECTOR_SLIDER_PROGRESS_BAR);\n\t\t\t\tif (this.progressBar) {\n\t\t\t\t\tthis.progressBarWidth = this.progressBar.offsetWidth;\n\t\t\t\t\tthis.progressBarStyle = this.progressBar.style;\n\t\t\t\t}\n\t\t\t\t//忘记这个代码是干什么的了？\n\t\t\t\t//\t\t\t\tthis.x = this._getScroll();\n\t\t\t\t//\t\t\t\tif (this.options.startX === false) {\n\t\t\t\t//\t\t\t\t\tthis.options.startX = this.x;\n\t\t\t\t//\t\t\t\t}\n\t\t\t\t//根据active修正startX\n\n\t\t\t\tthis._super();\n\t\t\t\tthis._initTimer();\n\t\t\t}\n\t\t},\n\t\t_triggerSlide: function() {\n\t\t\tvar self = this;\n\t\t\tself.isInTransition = false;\n\t\t\tvar page = self.currentPage;\n\t\t\tself.slideNumber = self._fixedSlideNumber();\n\t\t\tif (self.loop) {\n\t\t\t\tif (self.slideNumber === 0) {\n\t\t\t\t\tself.setTranslate(self.pages[1][0].x, 0);\n\t\t\t\t} else if (self.slideNumber === self.itemLength - 3) {\n\t\t\t\t\tself.setTranslate(self.pages[self.itemLength - 2][0].x, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (self.lastSlideNumber != self.slideNumber) {\n\t\t\t\tself.lastSlideNumber = self.slideNumber;\n\t\t\t\tself.lastPage = self.currentPage;\n\t\t\t\t$.trigger(self.wrapper, 'slide', {\n\t\t\t\t\tslideNumber: self.slideNumber\n\t\t\t\t});\n\t\t\t}\n\t\t\tself._initTimer();\n\t\t},\n\t\t_handleSlide: function(e) {\n\t\t\tvar self = this;\n\t\t\tif (e.target !== self.wrapper) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar detail = e.detail;\n\t\t\tdetail.slideNumber = detail.slideNumber || 0;\n\t\t\tvar temps = self.scroller.querySelectorAll(SELECTOR_SLIDER_ITEM);\n\t\t\tvar items = [];\n\t\t\tfor (var i = 0, len = temps.length; i < len; i++) {\n\t\t\t\tvar item = temps[i];\n\t\t\t\tif (item.parentNode === self.scroller) {\n\t\t\t\t\titems.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar _slideNumber = detail.slideNumber;\n\t\t\tif (self.loop) {\n\t\t\t\t_slideNumber += 1;\n\t\t\t}\n\t\t\tif (!self.wrapper.classList.contains('mui-segmented-control')) {\n\t\t\t\tfor (var i = 0, len = items.length; i < len; i++) {\n\t\t\t\t\tvar item = items[i];\n\t\t\t\t\tif (item.parentNode === self.scroller) {\n\t\t\t\t\t\tif (i === _slideNumber) {\n\t\t\t\t\t\t\titem.classList.add(CLASS_ACTIVE);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.classList.remove(CLASS_ACTIVE);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar indicatorWrap = self.wrapper.querySelector('.mui-slider-indicator');\n\t\t\tif (indicatorWrap) {\n\t\t\t\tif (indicatorWrap.getAttribute('data-scroll')) { //scroll\n\t\t\t\t\t$(indicatorWrap).scroll().gotoPage(detail.slideNumber);\n\t\t\t\t}\n\t\t\t\tvar indicators = indicatorWrap.querySelectorAll('.mui-indicator');\n\t\t\t\tif (indicators.length > 0) { //图片轮播\n\t\t\t\t\tfor (var i = 0, len = indicators.length; i < len; i++) {\n\t\t\t\t\t\tindicators[i].classList[i === detail.slideNumber ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar number = indicatorWrap.querySelector('.mui-number span');\n\t\t\t\t\tif (number) { //图文表格\n\t\t\t\t\t\tnumber.innerText = (detail.slideNumber + 1);\n\t\t\t\t\t} else { //segmented controls\n\t\t\t\t\t\tvar controlItems = indicatorWrap.querySelectorAll('.mui-control-item');\n\t\t\t\t\t\tfor (var i = 0, len = controlItems.length; i < len; i++) {\n\t\t\t\t\t\t\tcontrolItems[i].classList[i === detail.slideNumber ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t},\n\t\t_handleTabShow: function(e) {\n\t\t\tvar self = this;\n\t\t\tself.gotoItem((e.detail.tabNumber || 0), self.options.slideTime);\n\t\t},\n\t\t_handleIndicatorTap: function(event) {\n\t\t\tvar self = this;\n\t\t\tvar target = event.target;\n\t\t\tif (target.classList.contains(CLASS_ACTION_PREVIOUS) || target.classList.contains(CLASS_ACTION_NEXT)) {\n\t\t\t\tself[target.classList.contains(CLASS_ACTION_PREVIOUS) ? 'prevItem' : 'nextItem']();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\t_initEvent: function(detach) {\n\t\t\tvar self = this;\n\t\t\tself._super(detach);\n\t\t\tvar action = detach ? 'removeEventListener' : 'addEventListener';\n\t\t\tself.wrapper[action]('slide', this);\n\t\t\tself.wrapper[action]($.eventName('shown', 'tab'), this);\n\t\t},\n\t\thandleEvent: function(e) {\n\t\t\tthis._super(e);\n\t\t\tswitch (e.type) {\n\t\t\t\tcase 'slide':\n\t\t\t\t\tthis._handleSlide(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase $.eventName('shown', 'tab'):\n\t\t\t\t\tif (~this.snaps.indexOf(e.target)) { //避免嵌套监听错误的tab show\n\t\t\t\t\t\tthis._handleTabShow(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t_scrollend: function(e) {\n\t\t\tthis._super(e);\n\t\t\tthis._triggerSlide(e);\n\t\t},\n\t\t_drag: function(e) {\n\t\t\tthis._super(e);\n\t\t\tvar direction = e.detail.direction;\n\t\t\tif (direction === 'left' || direction === 'right') {\n\t\t\t\t//拖拽期间取消定时\n\t\t\t\tvar slidershowTimer = this.wrapper.getAttribute('data-slidershowTimer');\n\t\t\t\tslidershowTimer && window.clearTimeout(slidershowTimer);\n\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t},\n\t\t_initTimer: function() {\n\t\t\tvar self = this;\n\t\t\tvar slider = self.wrapper;\n\t\t\tvar interval = self.options.interval;\n\t\t\tvar slidershowTimer = slider.getAttribute('data-slidershowTimer');\n\t\t\tslidershowTimer && window.clearTimeout(slidershowTimer);\n\t\t\tif (interval) {\n\t\t\t\tslidershowTimer = window.setTimeout(function() {\n\t\t\t\t\tif (!slider) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t//仅slider显示状态进行自动轮播\n\t\t\t\t\tif (!!(slider.offsetWidth || slider.offsetHeight)) {\n\t\t\t\t\t\tself.nextItem(true);\n\t\t\t\t\t\t//下一个\n\t\t\t\t\t}\n\t\t\t\t\tself._initTimer();\n\t\t\t\t}, interval);\n\t\t\t\tslider.setAttribute('data-slidershowTimer', slidershowTimer);\n\t\t\t}\n\t\t},\n\n\t\t_fixedSlideNumber: function(page) {\n\t\t\tpage = page || this.currentPage;\n\t\t\tvar slideNumber = page.pageX;\n\t\t\tif (this.loop) {\n\t\t\t\tif (page.pageX === 0) {\n\t\t\t\t\tslideNumber = this.itemLength - 3;\n\t\t\t\t} else if (page.pageX === (this.itemLength - 1)) {\n\t\t\t\t\tslideNumber = 0;\n\t\t\t\t} else {\n\t\t\t\t\tslideNumber = page.pageX - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn slideNumber;\n\t\t},\n\t\t_reLayout: function() {\n\t\t\tthis.hasHorizontalScroll = true;\n\t\t\tthis.loop = this.scroller.classList.contains(CLASS_SLIDER_LOOP);\n\t\t\tthis._super();\n\t\t},\n\t\t_getScroll: function() {\n\t\t\tvar result = $.parseTranslateMatrix($.getStyles(this.scroller, 'webkitTransform'));\n\t\t\treturn result ? result.x : 0;\n\t\t},\n\t\t_transitionEnd: function(e) {\n\t\t\tif (e.target !== this.scroller || !this.isInTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._transitionTime();\n\t\t\tthis.isInTransition = false;\n\t\t\t$.trigger(this.wrapper, 'scrollend', this);\n\t\t},\n\t\t_flick: function(e) {\n\t\t\tif (!this.moved) { //无moved\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar detail = e.detail;\n\t\t\tvar direction = detail.direction;\n\t\t\tthis._clearRequestAnimationFrame();\n\t\t\tthis.isInTransition = true;\n\t\t\t//\t\t\tif (direction === 'up' || direction === 'down') {\n\t\t\t//\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t//\t\t\t\treturn;\n\t\t\t//\t\t\t}\n\t\t\tif (e.type === 'flick') {\n\t\t\t\tif (detail.deltaTime < 200) { //flick，太容易触发，额外校验一下deltaTime\n\t\t\t\t\tthis.x = this._getPage((this.slideNumber + (direction === 'right' ? -1 : 1)), true).x;\n\t\t\t\t}\n\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t} else if (e.type === 'dragend' && !detail.flick) {\n\t\t\t\tthis.resetPosition(this.options.bounceTime);\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t},\n\t\t_initSnap: function() {\n\t\t\tthis.scrollerWidth = this.itemLength * this.scrollerWidth;\n\t\t\tthis.maxScrollX = Math.min(this.wrapperWidth - this.scrollerWidth, 0);\n\t\t\tthis._super();\n\t\t\tif (!this.currentPage.x) {\n\t\t\t\t//当slider处于隐藏状态时，导致snap计算是错误的，临时先这么判断一下，后续要考虑解决所有scroll在隐藏状态下初始化属性不正确的问题\n\t\t\t\tvar currentPage = this.pages[this.loop ? 1 : 0];\n\t\t\t\tcurrentPage = currentPage || this.pages[0];\n\t\t\t\tif (!currentPage) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.currentPage = currentPage[0];\n\t\t\t\tthis.slideNumber = 0;\n\t\t\t\tthis.lastSlideNumber = typeof this.lastSlideNumber === 'undefined' ? 0 : this.lastSlideNumber;\n\t\t\t} else {\n\t\t\t\tthis.slideNumber = this._fixedSlideNumber();\n\t\t\t\tthis.lastSlideNumber = typeof this.lastSlideNumber === 'undefined' ? this.slideNumber : this.lastSlideNumber;\n\t\t\t}\n\t\t\tthis.options.startX = this.currentPage.x || 0;\n\t\t},\n\t\t_getSnapX: function(offsetLeft) {\n\t\t\treturn Math.max(-offsetLeft, this.maxScrollX);\n\t\t},\n\t\t_getPage: function(slideNumber, isFlick) {\n\t\t\tif (this.loop) {\n\t\t\t\tif (slideNumber > (this.itemLength - (isFlick ? 2 : 3))) {\n\t\t\t\t\tslideNumber = 1;\n\t\t\t\t\ttime = 0;\n\t\t\t\t} else if (slideNumber < (isFlick ? -1 : 0)) {\n\t\t\t\t\tslideNumber = this.itemLength - 2;\n\t\t\t\t\ttime = 0;\n\t\t\t\t} else {\n\t\t\t\t\tslideNumber += 1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!isFlick) {\n\t\t\t\t\tif (slideNumber > (this.itemLength - 1)) {\n\t\t\t\t\t\tslideNumber = 0;\n\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t} else if (slideNumber < 0) {\n\t\t\t\t\t\tslideNumber = this.itemLength - 1;\n\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tslideNumber = Math.min(Math.max(0, slideNumber), this.itemLength - 1);\n\t\t\t}\n\t\t\treturn this.pages[slideNumber][0];\n\t\t},\n\t\t_gotoItem: function(slideNumber, time) {\n\t\t\tthis.currentPage = this._getPage(slideNumber, true); //此处传true。可保证程序切换时，动画与人手操作一致(第一张，最后一张的切换动画)\n\t\t\tthis.scrollTo(this.currentPage.x, 0, time, this.options.scrollEasing);\n\t\t\tif (time === 0) {\n\t\t\t\t$.trigger(this.wrapper, 'scrollend', this);\n\t\t\t}\n\t\t},\n\t\t//API\n\t\tsetTranslate: function(x, y) {\n\t\t\tthis._super(x, y);\n\t\t\tvar progressBar = this.progressBar;\n\t\t\tif (progressBar) {\n\t\t\t\tthis.progressBarStyle.webkitTransform = this._getTranslateStr((-x * (this.progressBarWidth / this.wrapperWidth)), 0);\n\t\t\t}\n\t\t},\n\t\tresetPosition: function(time) {\n\t\t\ttime = time || 0;\n\t\t\tif (this.x > 0) {\n\t\t\t\tthis.x = 0;\n\t\t\t} else if (this.x < this.maxScrollX) {\n\t\t\t\tthis.x = this.maxScrollX;\n\t\t\t}\n\t\t\tthis.currentPage = this._nearestSnap(this.x);\n\t\t\tthis.scrollTo(this.currentPage.x, 0, time, this.options.scrollEasing);\n\t\t\treturn true;\n\t\t},\n\t\tgotoItem: function(slideNumber, time) {\n\t\t\tthis._gotoItem(slideNumber, typeof time === 'undefined' ? this.options.scrollTime : time);\n\t\t},\n\t\tnextItem: function() {\n\t\t\tthis._gotoItem(this.slideNumber + 1, this.options.scrollTime);\n\t\t},\n\t\tprevItem: function() {\n\t\t\tthis._gotoItem(this.slideNumber - 1, this.options.scrollTime);\n\t\t},\n\t\tgetSlideNumber: function() {\n\t\t\treturn this.slideNumber || 0;\n\t\t},\n\t\t_reInit: function() {\n\t\t\tvar groups = this.wrapper.querySelectorAll('.' + CLASS_SLIDER_GROUP);\n\t\t\tfor (var i = 0, len = groups.length; i < len; i++) {\n\t\t\t\tif (groups[i].parentNode === this.wrapper) {\n\t\t\t\t\tthis.scroller = groups[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\n\t\t\tif (this.progressBar) {\n\t\t\t\tthis.progressBarWidth = this.progressBar.offsetWidth;\n\t\t\t\tthis.progressBarStyle = this.progressBar.style;\n\t\t\t}\n\t\t},\n\t\trefresh: function(options) {\n\t\t\tif (options) {\n\t\t\t\t$.extend(this.options, options);\n\t\t\t\tthis._super();\n\t\t\t\tthis._initTimer();\n\t\t\t} else {\n\t\t\t\tthis._super();\n\t\t\t}\n\t\t},\n\t\tdestroy: function() {\n\t\t\tthis._initEvent(true); //detach\n\t\t\tdelete $.data[this.wrapper.getAttribute('data-slider')];\n\t\t\tthis.wrapper.setAttribute('data-slider', '');\n\t\t}\n\t});\n\t$.fn.slider = function(options) {\n\t\tvar slider = null;\n\t\tthis.each(function() {\n\t\t\tvar sliderElement = this;\n\t\t\tif (!this.classList.contains(CLASS_SLIDER)) {\n\t\t\t\tsliderElement = this.querySelector('.' + CLASS_SLIDER);\n\t\t\t}\n\t\t\tif (sliderElement && sliderElement.querySelector(SELECTOR_SLIDER_ITEM)) {\n\t\t\t\tvar id = sliderElement.getAttribute('data-slider');\n\t\t\t\tif (!id) {\n\t\t\t\t\tid = ++$.uuid;\n\t\t\t\t\t$.data[id] = slider = new Slider(sliderElement, options);\n\t\t\t\t\tsliderElement.setAttribute('data-slider', id);\n\t\t\t\t} else {\n\t\t\t\t\tslider = $.data[id];\n\t\t\t\t\tif (slider && options) {\n\t\t\t\t\t\tslider.refresh(options);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn slider;\n\t};\n\t$.ready(function() {\n\t\t//\t\tsetTimeout(function() {\n\t\t$('.mui-slider').slider();\n\t\t$('.mui-scroll-wrapper.mui-slider-indicator.mui-segmented-control').scroll({\n\t\t\tscrollY: false,\n\t\t\tscrollX: true,\n\t\t\tindicators: false,\n\t\t\tsnap: '.mui-control-item'\n\t\t});\n\t\t//\t\t}, 500); //临时处理slider宽度计算不正确的问题(初步确认是scrollbar导致的)\n\n\t});\n})(mui, window);\n/**\n * pullRefresh 5+\n * @param {type} $\n * @returns {undefined}\n */\n(function($, document) {\n\tif(!($.os.plus && $.os.android)) { //仅在android的5+版本使用\n\t\treturn;\n\t}\n\tvar CLASS_PLUS_PULLREFRESH = 'mui-plus-pullrefresh';\n\tvar CLASS_VISIBILITY = 'mui-visibility';\n\tvar CLASS_HIDDEN = 'mui-hidden';\n\tvar CLASS_BLOCK = 'mui-block';\n\n\tvar CLASS_PULL_CAPTION = 'mui-pull-caption';\n\tvar CLASS_PULL_CAPTION_DOWN = 'mui-pull-caption-down';\n\tvar CLASS_PULL_CAPTION_REFRESH = 'mui-pull-caption-refresh';\n\tvar CLASS_PULL_CAPTION_NOMORE = 'mui-pull-caption-nomore';\n\n\tvar PlusPullRefresh = $.Class.extend({\n\t\tinit: function(element, options) {\n\t\t\tthis.element = element;\n\t\t\tthis.options = options;\n\t\t\tthis.wrapper = this.scroller = element;\n\t\t\tthis._init();\n\t\t\tthis._initPulldownRefreshEvent();\n\t\t},\n\t\t_init: function() {\n\t\t\tvar self = this;\n\t\t\t//\t\t\tdocument.addEventListener('plusscrollbottom', this);\n\t\t\twindow.addEventListener('dragup', self);\n\t\t\tdocument.addEventListener(\"plusscrollbottom\", self);\n\t\t\tself.scrollInterval = window.setInterval(function() {\n\t\t\t\tif(self.isScroll && !self.loading) {\n\t\t\t\t\tif(window.pageYOffset + window.innerHeight + 10 >= document.documentElement.scrollHeight) {\n\t\t\t\t\t\tself.isScroll = false; //放在这里是因为快速滚动的话，有可能检测时，还没到底，所以只要有滚动，没到底之前一直检测高度变化\n\t\t\t\t\t\tif(self.bottomPocket) {\n\t\t\t\t\t\t\tself.pullupLoading();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t},\n\t\t_initPulldownRefreshEvent: function() {\n\t\t\tvar self = this;\n\t\t\tif(self.topPocket && self.options.webviewId) {\n\t\t\t\t$.plusReady(function() {\n\t\t\t\t\tvar webview = plus.webview.getWebviewById(self.options.webviewId);\n\t\t\t\t\tif(!webview) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tself.options.webview = webview;\n\t\t\t\t\tvar downOptions = self.options.down;\n\t\t\t\t\tvar height = downOptions.height;\n\t\t\t\t\twebview.addEventListener(\"dragBounce\", function(e) {\n\t\t\t\t\t\tif(!self.pulldown) {\n\t\t\t\t\t\t\tself._initPulldownRefresh();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.pullPocket.classList.add(CLASS_BLOCK);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswitch(e.status) {\n\t\t\t\t\t\t\tcase \"beforeChangeOffset\": //下拉可刷新状态\n\t\t\t\t\t\t\t\tself._setCaption(downOptions.contentdown);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"afterChangeOffset\": //松开可刷新状态\n\t\t\t\t\t\t\t\tself._setCaption(downOptions.contentover);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"dragEndAfterChangeOffset\": //正在刷新状态\n\t\t\t\t\t\t\t\t//执行下拉刷新所在webview的回调函数\n\t\t\t\t\t\t\t\twebview.evalJS(\"mui&&mui.options.pullRefresh.down.callback()\");\n\t\t\t\t\t\t\t\tself._setCaption(downOptions.contentrefresh);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, false);\n\t\t\t\t\twebview.setBounce({\n\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\ttop: height * 2 + 'px'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tchangeoffset: {\n\t\t\t\t\t\t\ttop: height + 'px'\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\thandleEvent: function(e) {\n\t\t\tvar self = this;\n\t\t\tif(self.stopped) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//5+的plusscrollbottom当页面内容较少时，不触发\n\t\t\t//\t\t\tif (e.type === 'plusscrollbottom') {\n\t\t\t//\t\t\t\tif (this.bottomPocket) {\n\t\t\t//\t\t\t\t\tthis.pullupLoading();\n\t\t\t//\t\t\t\t}\n\t\t\t//\t\t\t}\n\t\t\tself.isScroll = false;\n\t\t\tif(e.type === 'dragup' || e.type === 'plusscrollbottom') {\n\t\t\t\tself.isScroll = true;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.isScroll = false;\n\t\t\t\t}, 1000);\n\t\t\t}\n\t\t}\n\t}).extend($.extend({\n\t\tsetStopped: function(stopped) { //该方法是子页面调用的\n\t\t\tthis.stopped = !!stopped;\n\t\t\t//TODO 此处需要设置当前webview的bounce为none,目前5+有BUG\n\t\t\tvar webview = plus.webview.currentWebview();\n\t\t\tif(this.stopped) {\n\t\t\t\twebview.setStyle({\n\t\t\t\t\tbounce: 'none'\n\t\t\t\t});\n\t\t\t\twebview.setBounce({\n\t\t\t\t\tposition: {\n\t\t\t\t\t\ttop: 'none'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar height = this.options.down.height;\n\t\t\t\twebview.setStyle({\n\t\t\t\t\tbounce: 'vertical'\n\t\t\t\t});\n\t\t\t\twebview.setBounce({\n\t\t\t\t\tposition: {\n\t\t\t\t\t\ttop: height * 2 + 'px'\n\t\t\t\t\t},\n\t\t\t\t\tchangeoffset: {\n\t\t\t\t\t\ttop: height + 'px'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tpulldownLoading: function() { //该方法是子页面调用的\n\t\t\t$.plusReady(function() {\n\t\t\t\tplus.webview.currentWebview().setBounce({\n\t\t\t\t\toffset: {\n\t\t\t\t\t\ttop: this.options.down.height + \"px\"\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t\t},\n\t\t_pulldownLoading: function() { //该方法是父页面调用的\n\t\t\tvar self = this;\n\t\t\t$.plusReady(function() {\n\t\t\t\tvar childWebview = plus.webview.getWebviewById(self.options.webviewId);\n\t\t\t\tchildWebview.setBounce({\n\t\t\t\t\toffset: {\n\t\t\t\t\t\ttop: self.options.down.height + \"px\"\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tendPulldownToRefresh: function() { //该方法是子页面调用的\n\t\t\tvar webview = plus.webview.currentWebview();\n\t\t\twebview.parent().evalJS(\"mui&&mui(document.querySelector('.mui-content')).pullRefresh('\" + JSON.stringify({\n\t\t\t\twebviewId: webview.id\n\t\t\t}) + \"')._endPulldownToRefresh()\");\n\t\t},\n\t\t_endPulldownToRefresh: function() { //该方法是父页面调用的\n\t\t\tvar self = this;\n\t\t\tif(self.topPocket && self.options.webview) {\n\t\t\t\tself.options.webview.endPullToRefresh(); //下拉刷新所在webview回弹\n\t\t\t\tself.loading = false;\n\t\t\t\tself._setCaption(self.options.down.contentdown, true);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.loading || self.topPocket.classList.remove(CLASS_BLOCK);\n\t\t\t\t}, 350);\n\t\t\t}\n\t\t},\n\t\tpullupLoading: function(callback) {\n\t\t\tvar self = this;\n\t\t\tif(self.isLoading) return;\n\t\t\tself.isLoading = true;\n\t\t\tif(self.pulldown !== false) {\n\t\t\t\tself._initPullupRefresh();\n\t\t\t} else {\n\t\t\t\tthis.pullPocket.classList.add(CLASS_BLOCK);\n\t\t\t}\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.pullLoading.classList.add(CLASS_VISIBILITY);\n\t\t\t\tself.pullLoading.classList.remove(CLASS_HIDDEN);\n\t\t\t\tself.pullCaption.innerHTML = ''; //修正5+里边第一次加载时，文字显示的bug(还会显示出来个“多”,猜测应该是渲染问题导致的)\n\t\t\t\tself.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_REFRESH;\n\t\t\t\tself.pullCaption.innerHTML = self.options.up.contentrefresh;\n\t\t\t\tcallback = callback || self.options.up.callback;\n\t\t\t\tcallback && callback.call(self);\n\t\t\t}, 300);\n\t\t},\n\t\tendPullupToRefresh: function(finished) {\n\t\t\tvar self = this;\n\t\t\tif(self.pullLoading) {\n\t\t\t\tself.pullLoading.classList.remove(CLASS_VISIBILITY);\n\t\t\t\tself.pullLoading.classList.add(CLASS_HIDDEN);\n\t\t\t\tself.isLoading = false;\n\t\t\t\tif(finished) {\n\t\t\t\t\tself.finished = true;\n\t\t\t\t\tself.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_NOMORE;\n\t\t\t\t\tself.pullCaption.innerHTML = self.options.up.contentnomore;\n\t\t\t\t\t//\t\t\t\t\tself.bottomPocket.classList.remove(CLASS_BLOCK);\n\t\t\t\t\t//\t\t\t\t\tself.bottomPocket.classList.add(CLASS_HIDDEN);\n\t\t\t\t\t//取消5+的plusscrollbottom事件\n\t\t\t\t\tdocument.removeEventListener('plusscrollbottom', self);\n\t\t\t\t\twindow.removeEventListener('dragup', self);\n\t\t\t\t} else { //初始化时隐藏，后续不再隐藏\n\t\t\t\t\tself.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\n\t\t\t\t\tself.pullCaption.innerHTML = self.options.up.contentdown;\n\t\t\t\t\t//\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t//\t\t\t\t\t\tself.loading || self.bottomPocket.classList.remove(CLASS_BLOCK);\n\t\t\t\t\t//\t\t\t\t\t}, 350);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdisablePullupToRefresh: function() {\n\t\t\tthis._initPullupRefresh();\n\t\t\tthis.bottomPocket.className = 'mui-pull-bottom-pocket' + ' ' + CLASS_HIDDEN;\n\t\t\twindow.removeEventListener('dragup', this);\n\t\t},\n\t\tenablePullupToRefresh: function() {\n\t\t\tthis._initPullupRefresh();\n\t\t\tthis.bottomPocket.classList.remove(CLASS_HIDDEN);\n\t\t\tthis.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\n\t\t\tthis.pullCaption.innerHTML = this.options.up.contentdown;\n\t\t\tdocument.addEventListener(\"plusscrollbottom\", this);\n\t\t\twindow.addEventListener('dragup', this);\n\t\t},\n\t\tscrollTo: function(x, y, time) {\n\t\t\t$.scrollTo(y, time);\n\t\t},\n\t\tscrollToBottom: function(time) {\n\t\t\t$.scrollTo(document.documentElement.scrollHeight, time);\n\t\t},\n\t\trefresh: function(isReset) {\n\t\t\tif(isReset && this.finished) {\n\t\t\t\tthis.enablePullupToRefresh();\n\t\t\t\tthis.finished = false;\n\t\t\t}\n\t\t}\n\t}, $.PullRefresh));\n\n\t//override h5 pullRefresh\n\t$.fn.pullRefresh = function(options) {\n\t\tvar self;\n\t\tif(this.length === 0) {\n\t\t\tself = document.createElement('div');\n\t\t\tself.className = 'mui-content';\n\t\t\tdocument.body.appendChild(self);\n\t\t} else {\n\t\t\tself = this[0];\n\t\t}\n\t\tvar args = options;\n\t\t//一个父需要支持多个子下拉刷新\n\t\toptions = options || {}\n\t\tif(typeof options === 'string') {\n\t\t\toptions = $.parseJSON(options);\n\t\t};\n\t\t!options.webviewId && (options.webviewId = (plus.webview.currentWebview().id || plus.webview.currentWebview().getURL()));\n\t\tvar pullRefreshApi = null;\n\t\tvar attrWebviewId = options.webviewId && options.webviewId.replace(/\\//g, \"_\"); //替换所有\"/\"\n\t\tvar id = self.getAttribute('data-pullrefresh-plus-' + attrWebviewId);\n\t\tif(!id && typeof args === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\t\tif(!id) { //避免重复初始化5+ pullrefresh\n\t\t\tid = ++$.uuid;\n\t\t\tself.setAttribute('data-pullrefresh-plus-' + attrWebviewId, id);\n\t\t\tdocument.body.classList.add(CLASS_PLUS_PULLREFRESH);\n\t\t\t$.data[id] = pullRefreshApi = new PlusPullRefresh(self, options);\n\t\t} else {\n\t\t\tpullRefreshApi = $.data[id];\n\t\t}\n\t\tif(options.down && options.down.auto) { //如果设置了auto，则自动下拉一次\n\t\t\tpullRefreshApi._pulldownLoading(); //parent webview\n\t\t} else if(options.up && options.up.auto) { //如果设置了auto，则自动上拉一次\n\t\t\tpullRefreshApi.pullupLoading();\n\t\t}\n\t\treturn pullRefreshApi;\n\t};\n})(mui, document);\n/**\n * off-canvas\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @param {type} action\n * @returns {undefined}\n */\n(function($, window, document, name) {\n\tvar CLASS_OFF_CANVAS_LEFT = 'mui-off-canvas-left';\n\tvar CLASS_OFF_CANVAS_RIGHT = 'mui-off-canvas-right';\n\tvar CLASS_ACTION_BACKDROP = 'mui-off-canvas-backdrop';\n\tvar CLASS_OFF_CANVAS_WRAP = 'mui-off-canvas-wrap';\n\n\tvar CLASS_SLIDE_IN = 'mui-slide-in';\n\tvar CLASS_ACTIVE = 'mui-active';\n\n\n\tvar CLASS_TRANSITIONING = 'mui-transitioning';\n\n\tvar SELECTOR_INNER_WRAP = '.mui-inner-wrap';\n\n\n\tvar OffCanvas = $.Class.extend({\n\t\tinit: function(element, options) {\n\t\t\tthis.wrapper = this.element = element;\n\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\n\t\t\tthis.classList = this.wrapper.classList;\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.options = $.extend(true, {\n\t\t\t\t\tdragThresholdX: 10,\n\t\t\t\t\tscale: 0.8,\n\t\t\t\t\topacity: 0.1,\n\t\t\t\t\tpreventDefaultException: {\n\t\t\t\t\t\ttagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/\n\t\t\t\t\t},\n\t\t\t\t}, options);\n\t\t\t\tdocument.body.classList.add('mui-fullscreen'); //fullscreen\n\t\t\t\tthis.refresh();\n\t\t\t\tthis.initEvent();\n\t\t\t}\n\t\t},\n\t\t_preventDefaultException: function(el, exceptions) {\n\t\t\tfor (var i in exceptions) {\n\t\t\t\tif (exceptions[i].test(el[i])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\trefresh: function(offCanvas) {\n\t\t\t//\t\t\toffCanvas && !offCanvas.classList.contains(CLASS_ACTIVE) && this.classList.remove(CLASS_ACTIVE);\n\t\t\tthis.slideIn = this.classList.contains(CLASS_SLIDE_IN);\n\t\t\tthis.scalable = this.classList.contains('mui-scalable') && !this.slideIn;\n\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\n\t\t\t//\t\t\t!offCanvas && this.scroller.classList.remove(CLASS_TRANSITIONING);\n\t\t\t//\t\t\t!offCanvas && this.scroller.setAttribute('style', '');\n\t\t\tthis.offCanvasLefts = this.wrapper.querySelectorAll('.' + CLASS_OFF_CANVAS_LEFT);\n\t\t\tthis.offCanvasRights = this.wrapper.querySelectorAll('.' + CLASS_OFF_CANVAS_RIGHT);\n\t\t\tif (offCanvas) {\n\t\t\t\tif (offCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT)) {\n\t\t\t\t\tthis.offCanvasLeft = offCanvas;\n\t\t\t\t} else if (offCanvas.classList.contains(CLASS_OFF_CANVAS_RIGHT)) {\n\t\t\t\t\tthis.offCanvasRight = offCanvas;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.offCanvasRight = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT);\n\t\t\t\tthis.offCanvasLeft = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT);\n\t\t\t}\n\t\t\tthis.offCanvasRightWidth = this.offCanvasLeftWidth = 0;\n\t\t\tthis.offCanvasLeftSlideIn = this.offCanvasRightSlideIn = false;\n\t\t\tif (this.offCanvasRight) {\n\t\t\t\tthis.offCanvasRightWidth = this.offCanvasRight.offsetWidth;\n\t\t\t\tthis.offCanvasRightSlideIn = this.slideIn && (this.offCanvasRight.parentNode === this.wrapper);\n\t\t\t\t//\t\t\t\tthis.offCanvasRight.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t//\t\t\t\tthis.offCanvasRight.classList.remove(CLASS_ACTIVE);\n\t\t\t\t//\t\t\t\tthis.offCanvasRight.setAttribute('style', '');\n\t\t\t}\n\t\t\tif (this.offCanvasLeft) {\n\t\t\t\tthis.offCanvasLeftWidth = this.offCanvasLeft.offsetWidth;\n\t\t\t\tthis.offCanvasLeftSlideIn = this.slideIn && (this.offCanvasLeft.parentNode === this.wrapper);\n\t\t\t\t//\t\t\t\tthis.offCanvasLeft.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t//\t\t\t\tthis.offCanvasLeft.classList.remove(CLASS_ACTIVE);\n\t\t\t\t//\t\t\t\tthis.offCanvasLeft.setAttribute('style', '');\n\t\t\t}\n\t\t\tthis.backdrop = this.scroller.querySelector('.' + CLASS_ACTION_BACKDROP);\n\n\t\t\tthis.options.dragThresholdX = this.options.dragThresholdX || 10;\n\n\t\t\tthis.visible = false;\n\t\t\tthis.startX = null;\n\t\t\tthis.lastX = null;\n\t\t\tthis.offsetX = null;\n\t\t\tthis.lastTranslateX = null;\n\t\t},\n\t\thandleEvent: function(e) {\n\t\t\tswitch (e.type) {\n\t\t\t\tcase $.EVENT_START:\n\t\t\t\t\te.target && !this._preventDefaultException(e.target, this.options.preventDefaultException) && e.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'webkitTransitionEnd': //有个bug需要处理，需要考虑假设没有触发webkitTransitionEnd的情况\n\t\t\t\t\tif (e.target === this.scroller) {\n\t\t\t\t\t\tthis._dispatchEvent();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'drag':\n\t\t\t\t\tvar detail = e.detail;\n\t\t\t\t\tif (!this.startX) {\n\t\t\t\t\t\tthis.startX = detail.center.x;\n\t\t\t\t\t\tthis.lastX = this.startX;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.lastX = detail.center.x;\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.isDragging && Math.abs(this.lastX - this.startX) > this.options.dragThresholdX && (detail.direction === 'left' || (detail.direction === 'right'))) {\n\t\t\t\t\t\tif (this.slideIn) {\n\t\t\t\t\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\n\t\t\t\t\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\t\t\tif (this.offCanvasRight && this.offCanvasRight.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (detail.direction === 'left' && this.offCanvasRight) {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t} else if (detail.direction === 'right' && this.offCanvasLeft) {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.scroller = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\t\t\t\tif (detail.direction === 'left') {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (detail.direction === 'right') {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.offCanvas && this.scroller) {\n\t\t\t\t\t\t\tthis.startX = this.lastX;\n\t\t\t\t\t\t\tthis.isDragging = true;\n\n\t\t\t\t\t\t\t$.gestures.session.lockDirection = true; //锁定方向\n\t\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\n\n\t\t\t\t\t\t\tthis.offCanvas.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t\t\t\tthis.scroller.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t\t\t\tthis.offsetX = this.getTranslateX();\n\t\t\t\t\t\t\tthis._initOffCanvasVisible();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isDragging) {\n\t\t\t\t\t\tthis.updateTranslate(this.offsetX + (this.lastX - this.startX));\n\t\t\t\t\t\tdetail.gesture.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tif (this.isDragging) {\n\t\t\t\t\t\tvar detail = e.detail;\n\t\t\t\t\t\tvar direction = detail.direction;\n\t\t\t\t\t\tthis.isDragging = false;\n\t\t\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\n\t\t\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\n\t\t\t\t\t\tvar ratio = 0;\n\t\t\t\t\t\tvar x = this.getTranslateX();\n\t\t\t\t\t\tif (!this.slideIn) {\n\t\t\t\t\t\t\tif (x >= 0) {\n\t\t\t\t\t\t\t\tratio = (this.offCanvasLeftWidth && (x / this.offCanvasLeftWidth)) || 0;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tratio = (this.offCanvasRightWidth && (x / this.offCanvasRightWidth)) || 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (ratio === 0) {\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t\tthis._dispatchEvent(); //此处不触发webkitTransitionEnd,所以手动dispatch\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (direction === 'right' && ratio >= 0 && (ratio >= 0.5 || detail.swipe)) { //右滑打开\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio < 0 && (ratio > -0.5 || detail.swipe)) { //右滑关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && ratio < 0.5) { //右滑还原关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio < 0.5) { //右滑还原打开\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio <= 0 && (ratio <= -0.5 || detail.swipe)) { //左滑打开\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio > 0 && (ratio <= 0.5 || detail.swipe)) { //左滑关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio < 0 && ratio >= -0.5) { //左滑还原关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio > 0.5) { //左滑还原打开\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t} else { //默认关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (ratio === 1 || ratio === -1) { //此处不触发webkitTransitionEnd,所以手动dispatch\n\t\t\t\t\t\t\t\tthis._dispatchEvent();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (x >= 0) {\n\t\t\t\t\t\t\t\tratio = (this.offCanvasRightWidth && (x / this.offCanvasRightWidth)) || 0;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tratio = (this.offCanvasLeftWidth && (x / this.offCanvasLeftWidth)) || 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (direction === 'right' && ratio <= 0 && (ratio >= -0.5 || detail.swipe)) { //右滑打开\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && (ratio >= 0.5 || detail.swipe)) { //右滑关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio <= -0.5) { //右滑还原关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && ratio <= 0.5) { //右滑还原打开\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= 0 && (ratio <= 0.5 || detail.swipe)) { //左滑打开\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio < 0 && (ratio <= -0.5 || detail.swipe)) { //左滑关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= 0.5) { //左滑还原关闭\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= -0.5 && ratio < 0) { //左滑还原打开\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (ratio === 1 || ratio === -1 || ratio === 0) {\n\t\t\t\t\t\t\t\tthis._dispatchEvent();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t_dispatchEvent: function() {\n\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t$.trigger(this.wrapper, 'shown', this);\n\t\t\t} else {\n\t\t\t\t$.trigger(this.wrapper, 'hidden', this);\n\t\t\t}\n\t\t},\n\t\t_initOffCanvasVisible: function() {\n\t\t\tif (!this.visible) {\n\t\t\t\tthis.visible = true;\n\t\t\t\tif (this.offCanvasLeft) {\n\t\t\t\t\tthis.offCanvasLeft.style.visibility = 'visible';\n\t\t\t\t}\n\t\t\t\tif (this.offCanvasRight) {\n\t\t\t\t\tthis.offCanvasRight.style.visibility = 'visible';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tinitEvent: function() {\n\t\t\tvar self = this;\n\t\t\tif (self.backdrop) {\n\t\t\t\tself.backdrop.addEventListener('tap', function(e) {\n\t\t\t\t\tself.close();\n\t\t\t\t\te.detail.gesture.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.classList.contains('mui-draggable')) {\n\t\t\t\tthis.wrapper.addEventListener($.EVENT_START, this); //临时处理\n\t\t\t\tthis.wrapper.addEventListener('drag', this);\n\t\t\t\tthis.wrapper.addEventListener('dragend', this);\n\t\t\t}\n\t\t\tthis.wrapper.addEventListener('webkitTransitionEnd', this);\n\t\t},\n\t\topenPercentage: function(percentage) {\n\t\t\tvar p = percentage / 100;\n\t\t\tif (!this.slideIn) {\n\t\t\t\tif (this.offCanvasLeft && percentage >= 0) {\n\t\t\t\t\tthis.updateTranslate(this.offCanvasLeftWidth * p);\n\t\t\t\t\tthis.offCanvasLeft.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t} else if (this.offCanvasRight && percentage <= 0) {\n\t\t\t\t\tthis.updateTranslate(this.offCanvasRightWidth * p);\n\t\t\t\t\tthis.offCanvasRight.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t\tthis.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t} else {\n\t\t\t\tif (this.offCanvasLeft && percentage >= 0) {\n\t\t\t\t\tp = p === 0 ? -1 : 0;\n\t\t\t\t\tthis.updateTranslate(this.offCanvasLeftWidth * p);\n\t\t\t\t\tthis.offCanvasLeft.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t} else if (this.offCanvasRight && percentage <= 0) {\n\t\t\t\t\tp = p === 0 ? 1 : 0;\n\t\t\t\t\tthis.updateTranslate(this.offCanvasRightWidth * p);\n\t\t\t\t\tthis.offCanvasRight.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t\tthis.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t}\n\t\t},\n\t\tupdateTranslate: function(x) {\n\t\t\tif (x !== this.lastTranslateX) {\n\t\t\t\tif (!this.slideIn) {\n\t\t\t\t\tif ((!this.offCanvasLeft && x > 0) || (!this.offCanvasRight && x < 0)) {\n\t\t\t\t\t\tthis.setTranslateX(0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.leftShowing && x > this.offCanvasLeftWidth) {\n\t\t\t\t\t\tthis.setTranslateX(this.offCanvasLeftWidth);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.rightShowing && x < -this.offCanvasRightWidth) {\n\t\t\t\t\t\tthis.setTranslateX(-this.offCanvasRightWidth);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.setTranslateX(x);\n\t\t\t\t\tif (x >= 0) {\n\t\t\t\t\t\tthis.leftShowing = true;\n\t\t\t\t\t\tthis.rightShowing = false;\n\t\t\t\t\t\tif (x > 0) {\n\t\t\t\t\t\t\tif (this.offCanvasLeft) {\n\t\t\t\t\t\t\t\t$.each(this.offCanvasLefts, function(index, offCanvas) {\n\t\t\t\t\t\t\t\t\tif (offCanvas === this.offCanvasLeft) {\n\t\t\t\t\t\t\t\t\t\tthis.offCanvasLeft.style.zIndex = 0;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = -1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.offCanvasRight) {\n\t\t\t\t\t\t\t\tthis.offCanvasRight.style.zIndex = -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.rightShowing = true;\n\t\t\t\t\t\tthis.leftShowing = false;\n\t\t\t\t\t\tif (this.offCanvasRight) {\n\t\t\t\t\t\t\t$.each(this.offCanvasRights, function(index, offCanvas) {\n\t\t\t\t\t\t\t\tif (offCanvas === this.offCanvasRight) {\n\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = 0;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = -1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.offCanvasLeft) {\n\t\t\t\t\t\t\tthis.offCanvasLeft.style.zIndex = -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (this.offCanvas.classList.contains(CLASS_OFF_CANVAS_RIGHT)) {\n\t\t\t\t\t\tif (x < 0) {\n\t\t\t\t\t\t\tthis.setTranslateX(0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (x > this.offCanvasRightWidth) {\n\t\t\t\t\t\t\tthis.setTranslateX(this.offCanvasRightWidth);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (x > 0) {\n\t\t\t\t\t\t\tthis.setTranslateX(0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (x < -this.offCanvasLeftWidth) {\n\t\t\t\t\t\t\tthis.setTranslateX(-this.offCanvasLeftWidth);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.setTranslateX(x);\n\t\t\t\t}\n\t\t\t\tthis.lastTranslateX = x;\n\t\t\t}\n\t\t},\n\t\tsetTranslateX: $.animationFrame(function(x) {\n\t\t\tif (this.scroller) {\n\t\t\t\tif (this.scalable && this.offCanvas.parentNode === this.wrapper) {\n\t\t\t\t\tvar percent = Math.abs(x) / this.offCanvasWidth;\n\t\t\t\t\tvar zoomOutScale = 1 - (1 - this.options.scale) * percent;\n\t\t\t\t\tvar zoomInScale = this.options.scale + (1 - this.options.scale) * percent;\n\t\t\t\t\tvar zoomOutOpacity = 1 - (1 - this.options.opacity) * percent;\n\t\t\t\t\tvar zoomInOpacity = this.options.opacity + (1 - this.options.opacity) * percent;\n\t\t\t\t\tif (this.offCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT)) {\n\t\t\t\t\t\tthis.offCanvas.style.webkitTransformOrigin = '-100%';\n\t\t\t\t\t\tthis.scroller.style.webkitTransformOrigin = 'left';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.offCanvas.style.webkitTransformOrigin = '200%';\n\t\t\t\t\t\tthis.scroller.style.webkitTransformOrigin = 'right';\n\t\t\t\t\t}\n\t\t\t\t\tthis.offCanvas.style.opacity = zoomInOpacity;\n\t\t\t\t\tthis.offCanvas.style.webkitTransform = 'translate3d(0,0,0) scale(' + zoomInScale + ')';\n\t\t\t\t\tthis.scroller.style.webkitTransform = 'translate3d(' + x + 'px,0,0) scale(' + zoomOutScale + ')';\n\t\t\t\t} else {\n\t\t\t\t\tif (this.slideIn) {\n\t\t\t\t\t\tthis.offCanvas.style.webkitTransform = 'translate3d(' + x + 'px,0,0)';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.scroller.style.webkitTransform = 'translate3d(' + x + 'px,0,0)';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\t\tgetTranslateX: function() {\n\t\t\tif (this.offCanvas) {\n\t\t\t\tvar scroller = this.slideIn ? this.offCanvas : this.scroller;\n\t\t\t\tvar result = $.parseTranslateMatrix($.getStyles(scroller, 'webkitTransform'));\n\t\t\t\treturn (result && result.x) || 0;\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\t\tisShown: function(direction) {\n\t\t\tvar shown = false;\n\t\t\tif (!this.slideIn) {\n\t\t\t\tvar x = this.getTranslateX();\n\t\t\t\tif (direction === 'right') {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x < 0;\n\t\t\t\t} else if (direction === 'left') {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x > 0;\n\t\t\t\t} else {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x !== 0;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (direction === 'left') {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE);\n\t\t\t\t} else if (direction === 'right') {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE);\n\t\t\t\t} else {\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && (this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE) || this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn shown;\n\t\t},\n\t\tclose: function() {\n\t\t\tthis._initOffCanvasVisible();\n\t\t\tthis.offCanvas = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE) || this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE);\n\t\t\tthis.offCanvasWidth = this.offCanvas.offsetWidth;\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.offCanvas.offsetHeight;\n\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\n\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\n\t\t\t\tthis.openPercentage(0);\n\t\t\t}\n\t\t},\n\t\tshow: function(direction) {\n\t\t\tthis._initOffCanvasVisible();\n\t\t\tif (this.isShown(direction)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!direction) {\n\t\t\t\tdirection = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT) ? 'right' : 'left';\n\t\t\t}\n\t\t\tif (direction === 'right') {\n\t\t\t\tthis.offCanvas = this.offCanvasRight;\n\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\n\t\t\t} else {\n\t\t\t\tthis.offCanvas = this.offCanvasLeft;\n\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\n\t\t\t}\n\t\t\tif (this.scroller) {\n\t\t\t\tthis.offCanvas.offsetHeight;\n\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\n\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\n\t\t\t\tthis.openPercentage(direction === 'left' ? 100 : -100);\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\ttoggle: function(directionOrOffCanvas) {\n\t\t\tvar direction = directionOrOffCanvas;\n\t\t\tif (directionOrOffCanvas && directionOrOffCanvas.classList) {\n\t\t\t\tdirection = directionOrOffCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT) ? 'left' : 'right';\n\t\t\t\tthis.refresh(directionOrOffCanvas);\n\t\t\t}\n\t\t\tif (!this.show(direction)) {\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t}\n\t});\n\n\t//hash to offcanvas\n\tvar findOffCanvasContainer = function(target) {\n\t\tparentNode = target.parentNode;\n\t\tif (parentNode) {\n\t\t\tif (parentNode.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\n\t\t\t\treturn parentNode;\n\t\t\t} else {\n\t\t\t\tparentNode = parentNode.parentNode;\n\t\t\t\tif (parentNode.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\n\t\t\t\t\treturn parentNode;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tvar handle = function(event, target) {\n\t\tif (target.tagName === 'A' && target.hash) {\n\t\t\tvar offcanvas = document.getElementById(target.hash.replace('#', ''));\n\t\t\tif (offcanvas) {\n\t\t\t\tvar container = findOffCanvasContainer(offcanvas);\n\t\t\t\tif (container) {\n\t\t\t\t\t$.targets._container = container;\n\t\t\t\t\treturn offcanvas;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 60,\n\t\thandle: handle,\n\t\ttarget: false,\n\t\tisReset: false,\n\t\tisContinue: true\n\t});\n\n\twindow.addEventListener('tap', function(e) {\n\t\tif (!$.targets.offcanvas) {\n\t\t\treturn;\n\t\t}\n\t\t//TODO 此处类型的代码后续考虑统一优化(target机制)，现在的实现费力不讨好\n\t\tvar target = e.target;\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target.tagName === 'A' && target.hash && target.hash === ('#' + $.targets.offcanvas.id)) {\n\t\t\t\te.detail && e.detail.gesture && e.detail.gesture.preventDefault(); //fixed hashchange\n\t\t\t\t$($.targets._container).offCanvas().toggle($.targets.offcanvas);\n\t\t\t\t$.targets.offcanvas = $.targets._container = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n\n\t$.fn.offCanvas = function(options) {\n\t\tvar offCanvasApis = [];\n\t\tthis.each(function() {\n\t\t\tvar offCanvasApi = null;\n\t\t\tvar self = this;\n\t\t\t//hack old version\n\t\t\tif (!self.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\n\t\t\t\tself = findOffCanvasContainer(self);\n\t\t\t}\n\t\t\tvar id = self.getAttribute('data-offCanvas');\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\t$.data[id] = offCanvasApi = new OffCanvas(self, options);\n\t\t\t\tself.setAttribute('data-offCanvas', id);\n\t\t\t} else {\n\t\t\t\toffCanvasApi = $.data[id];\n\t\t\t}\n\t\t\tif (options === 'show' || options === 'close' || options === 'toggle') {\n\t\t\t\toffCanvasApi.toggle();\n\t\t\t}\n\t\t\toffCanvasApis.push(offCanvasApi);\n\t\t});\n\t\treturn offCanvasApis.length === 1 ? offCanvasApis[0] : offCanvasApis;\n\t};\n\t$.ready(function() {\n\t\t$('.mui-off-canvas-wrap').offCanvas();\n\t});\n})(mui, window, document, 'offcanvas');\n/**\n * actions\n * @param {type} $\n * @param {type} name\n * @returns {undefined}\n */\n(function($, name) {\n\tvar CLASS_ACTION = 'mui-action';\n\n\tvar handle = function(event, target) {\n\t\tvar className = target.className || '';\n\t\tif (typeof className !== 'string') { //svg className(SVGAnimatedString)\n\t\t\tclassName = '';\n\t\t}\n\t\tif (className && ~className.indexOf(CLASS_ACTION)) {\n\t\t\tif (target.classList.contains('mui-action-back')) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\treturn target;\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 50,\n\t\thandle: handle,\n\t\ttarget: false,\n\t\tisContinue: true\n\t});\n\n})(mui, 'action');\n/**\n * Modals\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @param {type} name\n * @returns {undefined}\n */\n(function($, window, document, name) {\n\tvar CLASS_MODAL = 'mui-modal';\n\n\tvar handle = function(event, target) {\n\t\tif (target.tagName === 'A' && target.hash) {\n\t\t\tvar modal = document.getElementById(target.hash.replace('#', ''));\n\t\t\tif (modal && modal.classList.contains(CLASS_MODAL)) {\n\t\t\t\treturn modal;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 50,\n\t\thandle: handle,\n\t\ttarget: false,\n\t\tisReset: false,\n\t\tisContinue: true\n\t});\n\n\twindow.addEventListener('tap', function(event) {\n\t\tif ($.targets.modal) {\n\t\t\tevent.detail.gesture.preventDefault(); //fixed hashchange\n\t\t\t$.targets.modal.classList.toggle('mui-active');\n\t\t}\n\t});\n})(mui, window, document, 'modal');\n/**\n * Popovers\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @param {type} name\n * @param {type} undefined\n * @returns {undefined}\n */\n(function($, window, document, name) {\n\n\tvar CLASS_POPOVER = 'mui-popover';\n\tvar CLASS_POPOVER_ARROW = 'mui-popover-arrow';\n\tvar CLASS_ACTION_POPOVER = 'mui-popover-action';\n\tvar CLASS_BACKDROP = 'mui-backdrop';\n\tvar CLASS_BAR_POPOVER = 'mui-bar-popover';\n\tvar CLASS_BAR_BACKDROP = 'mui-bar-backdrop';\n\tvar CLASS_ACTION_BACKDROP = 'mui-backdrop-action';\n\tvar CLASS_ACTIVE = 'mui-active';\n\tvar CLASS_BOTTOM = 'mui-bottom';\n\n\n\n\tvar handle = function(event, target) {\n\t\tif (target.tagName === 'A' && target.hash) {\n\t\t\t$.targets._popover = document.getElementById(target.hash.replace('#', ''));\n\t\t\tif ($.targets._popover && $.targets._popover.classList.contains(CLASS_POPOVER)) {\n\t\t\t\treturn target;\n\t\t\t} else {\n\t\t\t\t$.targets._popover = null;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 60,\n\t\thandle: handle,\n\t\ttarget: false,\n\t\tisReset: false,\n\t\tisContinue: true\n\t});\n\n\tvar fixedPopoverScroll = function(isPopoverScroll) {\n\t\t//\t\tif (isPopoverScroll) {\n\t\t//\t\t\tdocument.body.setAttribute('style', 'overflow:hidden;');\n\t\t//\t\t} else {\n\t\t//\t\t\tdocument.body.setAttribute('style', '');\n\t\t//\t\t}\n\t};\n\tvar onPopoverShown = function(e) {\n\t\tthis.removeEventListener('webkitTransitionEnd', onPopoverShown);\n\t\tthis.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\t$.trigger(this, 'shown', this);\n\t}\n\tvar onPopoverHidden = function(e) {\n\t\tsetStyle(this, 'none');\n\t\tthis.removeEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\tthis.removeEventListener($.EVENT_MOVE, $.preventDefault);\n\t\tfixedPopoverScroll(false);\n\t\t$.trigger(this, 'hidden', this);\n\t};\n\n\tvar backdrop = (function() {\n\t\tvar element = document.createElement('div');\n\t\telement.classList.add(CLASS_BACKDROP);\n\t\telement.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\telement.addEventListener('tap', function(e) {\n\t\t\tvar popover = $.targets._popover;\n\t\t\tif (popover) {\n\t\t\t\tpopover.addEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\t\t\tpopover.classList.remove(CLASS_ACTIVE);\n\t\t\t\tremoveBackdrop(popover);\n\t\t\t\tdocument.body.setAttribute('style', ''); //webkitTransitionEnd有时候不触发？\n\t\t\t}\n\t\t});\n\n\t\treturn element;\n\t}());\n\tvar removeBackdropTimer;\n\tvar removeBackdrop = function(popover) {\n\t\tbackdrop.setAttribute('style', 'opacity:0');\n\t\t$.targets.popover = $.targets._popover = null; //reset\n\t\tremoveBackdropTimer = $.later(function() {\n\t\t\tif (!popover.classList.contains(CLASS_ACTIVE) && backdrop.parentNode && backdrop.parentNode === document.body) {\n\t\t\t\tdocument.body.removeChild(backdrop);\n\t\t\t}\n\t\t}, 350);\n\t};\n\twindow.addEventListener('tap', function(e) {\n\t\tif (!$.targets.popover) {\n\t\t\treturn;\n\t\t}\n\t\tvar toggle = false;\n\t\tvar target = e.target;\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target === $.targets.popover) {\n\t\t\t\ttoggle = true;\n\t\t\t}\n\t\t}\n\t\tif (toggle) {\n\t\t\te.detail.gesture.preventDefault(); //fixed hashchange\n\t\t\ttogglePopover($.targets._popover, $.targets.popover);\n\t\t}\n\n\t});\n\n\tvar togglePopover = function(popover, anchor, state) {\n\t\tif ((state === 'show' && popover.classList.contains(CLASS_ACTIVE)) || (state === 'hide' && !popover.classList.contains(CLASS_ACTIVE))) {\n\t\t\treturn;\n\t\t}\n\t\tremoveBackdropTimer && removeBackdropTimer.cancel(); //取消remove的timer\n\t\t//remove一遍，以免来回快速切换，导致webkitTransitionEnd不触发，无法remove\n\t\tpopover.removeEventListener('webkitTransitionEnd', onPopoverShown);\n\t\tpopover.removeEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\tbackdrop.classList.remove(CLASS_BAR_BACKDROP);\n\t\tbackdrop.classList.remove(CLASS_ACTION_BACKDROP);\n\t\tvar _popover = document.querySelector('.mui-popover.mui-active');\n\t\tif (_popover) {\n\t\t\t//\t\t\t_popover.setAttribute('style', '');\n\t\t\t_popover.addEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\t\t_popover.classList.remove(CLASS_ACTIVE);\n\t\t\t//\t\t\t_popover.removeEventListener('webkitTransitionEnd', onPopoverHidden);\n\t\t\t//\t\t\tfixedPopoverScroll(false);\n\t\t\t//同一个弹出则直接返回，解决同一个popover的toggle\n\t\t\tif (popover === _popover) {\n\t\t\t\tremoveBackdrop(_popover);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tvar isActionSheet = false;\n\t\tif (popover.classList.contains(CLASS_BAR_POPOVER) || popover.classList.contains(CLASS_ACTION_POPOVER)) { //navBar\n\t\t\tif (popover.classList.contains(CLASS_ACTION_POPOVER)) { //action sheet popover\n\t\t\t\tisActionSheet = true;\n\t\t\t\tbackdrop.classList.add(CLASS_ACTION_BACKDROP);\n\t\t\t} else { //bar popover\n\t\t\t\tbackdrop.classList.add(CLASS_BAR_BACKDROP);\n\t\t\t\t//\t\t\t\tif (anchor) {\n\t\t\t\t//\t\t\t\t\tif (anchor.parentNode) {\n\t\t\t\t//\t\t\t\t\t\tvar offsetWidth = anchor.offsetWidth;\n\t\t\t\t//\t\t\t\t\t\tvar offsetLeft = anchor.offsetLeft;\n\t\t\t\t//\t\t\t\t\t\tvar innerWidth = window.innerWidth;\n\t\t\t\t//\t\t\t\t\t\tpopover.style.left = (Math.min(Math.max(offsetLeft, defaultPadding), innerWidth - offsetWidth - defaultPadding)) + \"px\";\n\t\t\t\t//\t\t\t\t\t} else {\n\t\t\t\t//\t\t\t\t\t\t//TODO anchor is position:{left,top,bottom,right}\n\t\t\t\t//\t\t\t\t\t}\n\t\t\t\t//\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetStyle(popover, 'block'); //actionsheet transform\n\t\tpopover.offsetHeight;\n\t\tpopover.classList.add(CLASS_ACTIVE);\n\t\tbackdrop.setAttribute('style', '');\n\t\tdocument.body.appendChild(backdrop);\n\t\tfixedPopoverScroll(true);\n\t\tcalPosition(popover, anchor, isActionSheet); //position\n\t\tbackdrop.classList.add(CLASS_ACTIVE);\n\t\tpopover.addEventListener('webkitTransitionEnd', onPopoverShown);\n\t};\n\tvar setStyle = function(popover, display, top, left) {\n\t\tvar style = popover.style;\n\t\tif (typeof display !== 'undefined')\n\t\t\tstyle.display = display;\n\t\tif (typeof top !== 'undefined')\n\t\t\tstyle.top = top + 'px';\n\t\tif (typeof left !== 'undefined')\n\t\t\tstyle.left = left + 'px';\n\t};\n\tvar calPosition = function(popover, anchor, isActionSheet) {\n\t\tif (!popover || !anchor) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isActionSheet) { //actionsheet\n\t\t\tsetStyle(popover, 'block')\n\t\t\treturn;\n\t\t}\n\n\t\tvar wWidth = window.innerWidth;\n\t\tvar wHeight = window.innerHeight;\n\n\t\tvar pWidth = popover.offsetWidth;\n\t\tvar pHeight = popover.offsetHeight;\n\n\t\tvar aWidth = anchor.offsetWidth;\n\t\tvar aHeight = anchor.offsetHeight;\n\t\tvar offset = $.offset(anchor);\n\n\t\tvar arrow = popover.querySelector('.' + CLASS_POPOVER_ARROW);\n\t\tif (!arrow) {\n\t\t\tarrow = document.createElement('div');\n\t\t\tarrow.className = CLASS_POPOVER_ARROW;\n\t\t\tpopover.appendChild(arrow);\n\t\t}\n\t\tvar arrowSize = arrow && arrow.offsetWidth / 2 || 0;\n\n\n\n\t\tvar pTop = 0;\n\t\tvar pLeft = 0;\n\t\tvar diff = 0;\n\t\tvar arrowLeft = 0;\n\t\tvar defaultPadding = popover.classList.contains(CLASS_ACTION_POPOVER) ? 0 : 5;\n\n\t\tvar position = 'top';\n\t\tif ((pHeight + arrowSize) < (offset.top - window.pageYOffset)) { //top\n\t\t\tpTop = offset.top - pHeight - arrowSize;\n\t\t} else if ((pHeight + arrowSize) < (wHeight - (offset.top - window.pageYOffset) - aHeight)) { //bottom\n\t\t\tposition = 'bottom';\n\t\t\tpTop = offset.top + aHeight + arrowSize;\n\t\t} else { //middle\n\t\t\tposition = 'middle';\n\t\t\tpTop = Math.max((wHeight - pHeight) / 2 + window.pageYOffset, 0);\n\t\t\tpLeft = Math.max((wWidth - pWidth) / 2 + window.pageXOffset, 0);\n\t\t}\n\t\tif (position === 'top' || position === 'bottom') {\n\t\t\tpLeft = aWidth / 2 + offset.left - pWidth / 2;\n\t\t\tdiff = pLeft;\n\t\t\tif (pLeft < defaultPadding) pLeft = defaultPadding;\n\t\t\tif (pLeft + pWidth > wWidth) pLeft = wWidth - pWidth - defaultPadding;\n\n\t\t\tif (arrow) {\n\t\t\t\tif (position === 'top') {\n\t\t\t\t\tarrow.classList.add(CLASS_BOTTOM);\n\t\t\t\t} else {\n\t\t\t\t\tarrow.classList.remove(CLASS_BOTTOM);\n\t\t\t\t}\n\t\t\t\tdiff = diff - pLeft;\n\t\t\t\tarrowLeft = (pWidth / 2 - arrowSize / 2 + diff);\n\t\t\t\tarrowLeft = Math.max(Math.min(arrowLeft, pWidth - arrowSize * 2 - 6), 6);\n\t\t\t\tarrow.setAttribute('style', 'left:' + arrowLeft + 'px');\n\t\t\t}\n\t\t} else if (position === 'middle') {\n\t\t\tarrow.setAttribute('style', 'display:none');\n\t\t}\n\t\tsetStyle(popover, 'block', pTop, pLeft);\n\t};\n\n\t$.createMask = function(callback) {\n\t\tvar element = document.createElement('div');\n\t\telement.classList.add(CLASS_BACKDROP);\n\t\telement.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\telement.addEventListener('tap', function() {\n\t\t\tmask.close();\n\t\t});\n\t\tvar mask = [element];\n\t\tmask._show = false;\n\t\tmask.show = function() {\n\t\t\tmask._show = true;\n\t\t\telement.setAttribute('style', 'opacity:1');\n\t\t\tdocument.body.appendChild(element);\n\t\t\treturn mask;\n\t\t};\n\t\tmask._remove = function() {\n\t\t\tif (mask._show) {\n\t\t\t\tmask._show = false;\n\t\t\t\telement.setAttribute('style', 'opacity:0');\n\t\t\t\t$.later(function() {\n\t\t\t\t\tvar body = document.body;\n\t\t\t\t\telement.parentNode === body && body.removeChild(element);\n\t\t\t\t}, 350);\n\t\t\t}\n\t\t\treturn mask;\n\t\t};\n\t\tmask.close = function() {\n\t\t\tif (callback) {\n\t\t\t\tif (callback() !== false) {\n\t\t\t\t\tmask._remove();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmask._remove();\n\t\t\t}\n\t\t};\n\t\treturn mask;\n\t};\n\t$.fn.popover = function() {\n\t\tvar args = arguments;\n\t\tthis.each(function() {\n\t\t\t$.targets._popover = this;\n\t\t\tif (args[0] === 'show' || args[0] === 'hide' || args[0] === 'toggle') {\n\t\t\t\ttogglePopover(this, args[1], args[0]);\n\t\t\t}\n\t\t});\n\t};\n\n})(mui, window, document, 'popover');\n/**\n * segmented-controllers\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @param {type} undefined\n * @returns {undefined}\n */\n(function($, window, document, name, undefined) {\n\n\tvar CLASS_CONTROL_ITEM = 'mui-control-item';\n\tvar CLASS_SEGMENTED_CONTROL = 'mui-segmented-control';\n\tvar CLASS_SEGMENTED_CONTROL_VERTICAL = 'mui-segmented-control-vertical';\n\tvar CLASS_CONTROL_CONTENT = 'mui-control-content';\n\tvar CLASS_TAB_BAR = 'mui-bar-tab';\n\tvar CLASS_TAB_ITEM = 'mui-tab-item';\n\tvar CLASS_SLIDER_ITEM = 'mui-slider-item';\n\n\tvar handle = function(event, target) {\n\t\tif (target.classList && (target.classList.contains(CLASS_CONTROL_ITEM) || target.classList.contains(CLASS_TAB_ITEM))) {\n\t\t\tif (target.parentNode && target.parentNode.classList && target.parentNode.classList.contains(CLASS_SEGMENTED_CONTROL_VERTICAL)) {\n\t\t\t\t//vertical 如果preventDefault会导致无法滚动\n\t\t\t} else {\n\t\t\t\tevent.preventDefault(); //stop hash change\t\t\t\t\n\t\t\t}\n\t\t\t//\t\t\tif (target.hash) {\n\t\t\treturn target;\n\t\t\t//\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 80,\n\t\thandle: handle,\n\t\ttarget: false\n\t});\n\n\twindow.addEventListener('tap', function(e) {\n\n\t\tvar targetTab = $.targets.tab;\n\t\tif (!targetTab) {\n\t\t\treturn;\n\t\t}\n\t\tvar activeTab;\n\t\tvar activeBodies;\n\t\tvar targetBody;\n\t\tvar className = 'mui-active';\n\t\tvar classSelector = '.' + className;\n\t\tvar segmentedControl = targetTab.parentNode;\n\n\t\tfor (; segmentedControl && segmentedControl !== document; segmentedControl = segmentedControl.parentNode) {\n\t\t\tif (segmentedControl.classList.contains(CLASS_SEGMENTED_CONTROL)) {\n\t\t\t\tactiveTab = segmentedControl.querySelector(classSelector + '.' + CLASS_CONTROL_ITEM);\n\t\t\t\tbreak;\n\t\t\t} else if (segmentedControl.classList.contains(CLASS_TAB_BAR)) {\n\t\t\t\tactiveTab = segmentedControl.querySelector(classSelector + '.' + CLASS_TAB_ITEM);\n\t\t\t}\n\t\t}\n\n\t\tif (activeTab) {\n\t\t\tactiveTab.classList.remove(className);\n\t\t}\n\n\t\tvar isLastActive = targetTab === activeTab;\n\t\tif (targetTab) {\n\t\t\ttargetTab.classList.add(className);\n\t\t}\n\n\t\tif (!targetTab.hash) {\n\t\t\treturn;\n\t\t}\n\t\ttargetBody = document.getElementById(targetTab.hash.replace('#', ''));\n\n\t\tif (!targetBody) {\n\t\t\treturn;\n\t\t}\n\t\tif (!targetBody.classList.contains(CLASS_CONTROL_CONTENT)) { //tab bar popover\n\t\t\ttargetTab.classList[isLastActive ? 'remove' : 'add'](className);\n\t\t\treturn;\n\t\t}\n\t\tif (isLastActive) { //same\n\t\t\treturn;\n\t\t}\n\t\tvar parentNode = targetBody.parentNode;\n\t\tactiveBodies = parentNode.querySelectorAll('.' + CLASS_CONTROL_CONTENT + classSelector);\n\t\tfor (var i = 0; i < activeBodies.length; i++) {\n\t\t\tvar activeBody = activeBodies[i];\n\t\t\tactiveBody.parentNode === parentNode && activeBody.classList.remove(className);\n\t\t}\n\n\t\ttargetBody.classList.add(className);\n\n\t\tvar contents = [];\n\t\tvar _contents = parentNode.querySelectorAll('.' + CLASS_CONTROL_CONTENT);\n\t\tfor (var i = 0; i < _contents.length; i++) { //查找直属子节点\n\t\t\t_contents[i].parentNode === parentNode && (contents.push(_contents[i]));\n\t\t}\n\t\t$.trigger(targetBody, $.eventName('shown', name), {\n\t\t\ttabNumber: Array.prototype.indexOf.call(contents, targetBody)\n\t\t});\n\t\te.detail && e.detail.gesture.preventDefault(); //fixed hashchange\n\t});\n\n})(mui, window, document, 'tab');\n/**\n * Toggles switch\n * @param {type} $\n * @param {type} window\n * @param {type} name\n * @returns {undefined}\n */\n(function($, window, name) {\n\n\tvar CLASS_SWITCH = 'mui-switch';\n\tvar CLASS_SWITCH_HANDLE = 'mui-switch-handle';\n\tvar CLASS_ACTIVE = 'mui-active';\n\tvar CLASS_DRAGGING = 'mui-dragging';\n\n\tvar CLASS_DISABLED = 'mui-disabled';\n\n\tvar SELECTOR_SWITCH_HANDLE = '.' + CLASS_SWITCH_HANDLE;\n\n\tvar handle = function(event, target) {\n\t\tif (target.classList && target.classList.contains(CLASS_SWITCH)) {\n\t\t\treturn target;\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.registerTarget({\n\t\tname: name,\n\t\tindex: 100,\n\t\thandle: handle,\n\t\ttarget: false\n\t});\n\n\n\tvar Toggle = function(element) {\n\t\tthis.element = element;\n\t\tthis.classList = this.element.classList;\n\t\tthis.handle = this.element.querySelector(SELECTOR_SWITCH_HANDLE);\n\t\tthis.init();\n\t\tthis.initEvent();\n\t};\n\tToggle.prototype.init = function() {\n\t\tthis.toggleWidth = this.element.offsetWidth;\n\t\tthis.handleWidth = this.handle.offsetWidth;\n\t\tthis.handleX = this.toggleWidth - this.handleWidth - 3;\n\t};\n\tToggle.prototype.initEvent = function() {\n\t\tthis.element.addEventListener($.EVENT_START, this);\n\t\tthis.element.addEventListener('drag', this);\n\t\tthis.element.addEventListener('swiperight', this);\n\t\tthis.element.addEventListener($.EVENT_END, this);\n\t\tthis.element.addEventListener($.EVENT_CANCEL, this);\n\n\t};\n\tToggle.prototype.handleEvent = function(e) {\n\t\tif (this.classList.contains(CLASS_DISABLED)) {\n\t\t\treturn;\n\t\t}\n\t\tswitch (e.type) {\n\t\t\tcase $.EVENT_START:\n\t\t\t\tthis.start(e);\n\t\t\t\tbreak;\n\t\t\tcase 'drag':\n\t\t\t\tthis.drag(e);\n\t\t\t\tbreak;\n\t\t\tcase 'swiperight':\n\t\t\t\tthis.swiperight();\n\t\t\t\tbreak;\n\t\t\tcase $.EVENT_END:\n\t\t\tcase $.EVENT_CANCEL:\n\t\t\t\tthis.end(e);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\tToggle.prototype.start = function(e) {\n\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '.2s';\n\t\tthis.classList.add(CLASS_DRAGGING);\n\t\tif (this.toggleWidth === 0 || this.handleWidth === 0) { //当switch处于隐藏状态时，width为0，需要重新初始化\n\t\t\tthis.init();\n\t\t}\n\t};\n\tToggle.prototype.drag = function(e) {\n\t\tvar detail = e.detail;\n\t\tif (!this.isDragging) {\n\t\t\tif (detail.direction === 'left' || detail.direction === 'right') {\n\t\t\t\tthis.isDragging = true;\n\t\t\t\tthis.lastChanged = undefined;\n\t\t\t\tthis.initialState = this.classList.contains(CLASS_ACTIVE);\n\t\t\t}\n\t\t}\n\t\tif (this.isDragging) {\n\t\t\tthis.setTranslateX(detail.deltaX);\n\t\t\te.stopPropagation();\n\t\t\tdetail.gesture.preventDefault();\n\t\t}\n\t};\n\tToggle.prototype.swiperight = function(e) {\n\t\tif (this.isDragging) {\n\t\t\te.stopPropagation();\n\t\t}\n\t};\n\tToggle.prototype.end = function(e) {\n\t\tthis.classList.remove(CLASS_DRAGGING);\n\t\tif (this.isDragging) {\n\t\t\tthis.isDragging = false;\n\t\t\te.stopPropagation();\n\t\t\t$.trigger(this.element, 'toggle', {\n\t\t\t\tisActive: this.classList.contains(CLASS_ACTIVE)\n\t\t\t});\n\t\t} else {\n\t\t\tthis.toggle();\n\t\t}\n\t};\n\tToggle.prototype.toggle = function(animate) {\n\t\tvar classList = this.classList;\n\t\tif (animate === false) {\n\t\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '0s';\n\t\t} else {\n\t\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '.2s';\n\t\t}\n\t\tif (classList.contains(CLASS_ACTIVE)) {\n\t\t\tclassList.remove(CLASS_ACTIVE);\n\t\t\tthis.handle.style.webkitTransform = 'translate(0,0)';\n\t\t} else {\n\t\t\tclassList.add(CLASS_ACTIVE);\n\t\t\tthis.handle.style.webkitTransform = 'translate(' + this.handleX + 'px,0)';\n\t\t}\n\t\t$.trigger(this.element, 'toggle', {\n\t\t\tisActive: this.classList.contains(CLASS_ACTIVE)\n\t\t});\n\t};\n\tToggle.prototype.setTranslateX = $.animationFrame(function(x) {\n\t\tif (!this.isDragging) {\n\t\t\treturn;\n\t\t}\n\t\tvar isChanged = false;\n\t\tif ((this.initialState && -x > (this.handleX / 2)) || (!this.initialState && x > (this.handleX / 2))) {\n\t\t\tisChanged = true;\n\t\t}\n\t\tif (this.lastChanged !== isChanged) {\n\t\t\tif (isChanged) {\n\t\t\t\tthis.handle.style.webkitTransform = 'translate(' + (this.initialState ? 0 : this.handleX) + 'px,0)';\n\t\t\t\tthis.classList[this.initialState ? 'remove' : 'add'](CLASS_ACTIVE);\n\t\t\t} else {\n\t\t\t\tthis.handle.style.webkitTransform = 'translate(' + (this.initialState ? this.handleX : 0) + 'px,0)';\n\t\t\t\tthis.classList[this.initialState ? 'add' : 'remove'](CLASS_ACTIVE);\n\t\t\t}\n\t\t\tthis.lastChanged = isChanged;\n\t\t}\n\n\t});\n\n\t$.fn['switch'] = function(options) {\n\t\tvar switchApis = [];\n\t\tthis.each(function() {\n\t\t\tvar switchApi = null;\n\t\t\tvar id = this.getAttribute('data-switch');\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\t$.data[id] = new Toggle(this);\n\t\t\t\tthis.setAttribute('data-switch', id);\n\t\t\t} else {\n\t\t\t\tswitchApi = $.data[id];\n\t\t\t}\n\t\t\tswitchApis.push(switchApi);\n\t\t});\n\t\treturn switchApis.length > 1 ? switchApis : switchApis[0];\n\t};\n\t$.ready(function() {\n\t\t$('.' + CLASS_SWITCH)['switch']();\n\t});\n})(mui, window, 'toggle');\n/**\n * Tableviews\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @returns {undefined}\n */\n(function($, window, document) {\n\n\tvar CLASS_ACTIVE = 'mui-active';\n\tvar CLASS_SELECTED = 'mui-selected';\n\tvar CLASS_GRID_VIEW = 'mui-grid-view';\n\tvar CLASS_RADIO_VIEW = 'mui-table-view-radio';\n\tvar CLASS_TABLE_VIEW_CELL = 'mui-table-view-cell';\n\tvar CLASS_COLLAPSE_CONTENT = 'mui-collapse-content';\n\tvar CLASS_DISABLED = 'mui-disabled';\n\tvar CLASS_TOGGLE = 'mui-switch';\n\tvar CLASS_BTN = 'mui-btn';\n\n\tvar CLASS_SLIDER_HANDLE = 'mui-slider-handle';\n\tvar CLASS_SLIDER_LEFT = 'mui-slider-left';\n\tvar CLASS_SLIDER_RIGHT = 'mui-slider-right';\n\tvar CLASS_TRANSITIONING = 'mui-transitioning';\n\n\n\tvar SELECTOR_SLIDER_HANDLE = '.' + CLASS_SLIDER_HANDLE;\n\tvar SELECTOR_SLIDER_LEFT = '.' + CLASS_SLIDER_LEFT;\n\tvar SELECTOR_SLIDER_RIGHT = '.' + CLASS_SLIDER_RIGHT;\n\tvar SELECTOR_SELECTED = '.' + CLASS_SELECTED;\n\tvar SELECTOR_BUTTON = '.' + CLASS_BTN;\n\tvar overFactor = 0.8;\n\tvar cell, a;\n\n\tvar isMoved = isOpened = openedActions = progress = false;\n\tvar sliderHandle = sliderActionLeft = sliderActionRight = buttonsLeft = buttonsRight = sliderDirection = sliderRequestAnimationFrame = false;\n\tvar timer = translateX = lastTranslateX = sliderActionLeftWidth = sliderActionRightWidth = 0;\n\n\n\n\tvar toggleActive = function(isActive) {\n\t\tif (isActive) {\n\t\t\tif (a) {\n\t\t\t\ta.classList.add(CLASS_ACTIVE);\n\t\t\t} else if (cell) {\n\t\t\t\tcell.classList.add(CLASS_ACTIVE);\n\t\t\t}\n\t\t} else {\n\t\t\ttimer && timer.cancel();\n\t\t\tif (a) {\n\t\t\t\ta.classList.remove(CLASS_ACTIVE);\n\t\t\t} else if (cell) {\n\t\t\t\tcell.classList.remove(CLASS_ACTIVE);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar updateTranslate = function() {\n\t\tif (translateX !== lastTranslateX) {\n\t\t\tif (buttonsRight && buttonsRight.length > 0) {\n\t\t\t\tprogress = translateX / sliderActionRightWidth;\n\t\t\t\tif (translateX < -sliderActionRightWidth) {\n\t\t\t\t\ttranslateX = -sliderActionRightWidth - Math.pow(-translateX - sliderActionRightWidth, overFactor);\n\t\t\t\t}\n\t\t\t\tfor (var i = 0, len = buttonsRight.length; i < len; i++) {\n\t\t\t\t\tvar buttonRight = buttonsRight[i];\n\t\t\t\t\tif (typeof buttonRight._buttonOffset === 'undefined') {\n\t\t\t\t\t\tbuttonRight._buttonOffset = buttonRight.offsetLeft;\n\t\t\t\t\t}\n\t\t\t\t\tbuttonOffset = buttonRight._buttonOffset;\n\t\t\t\t\tsetTranslate(buttonRight, (translateX - buttonOffset * (1 + Math.max(progress, -1))));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (buttonsLeft && buttonsLeft.length > 0) {\n\t\t\t\tprogress = translateX / sliderActionLeftWidth;\n\t\t\t\tif (translateX > sliderActionLeftWidth) {\n\t\t\t\t\ttranslateX = sliderActionLeftWidth + Math.pow(translateX - sliderActionLeftWidth, overFactor);\n\t\t\t\t}\n\t\t\t\tfor (var i = 0, len = buttonsLeft.length; i < len; i++) {\n\t\t\t\t\tvar buttonLeft = buttonsLeft[i];\n\t\t\t\t\tif (typeof buttonLeft._buttonOffset === 'undefined') {\n\t\t\t\t\t\tbuttonLeft._buttonOffset = sliderActionLeftWidth - buttonLeft.offsetLeft - buttonLeft.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tbuttonOffset = buttonLeft._buttonOffset;\n\t\t\t\t\tif (buttonsLeft.length > 1) {\n\t\t\t\t\t\tbuttonLeft.style.zIndex = buttonsLeft.length - i;\n\t\t\t\t\t}\n\t\t\t\t\tsetTranslate(buttonLeft, (translateX + buttonOffset * (1 - Math.min(progress, 1))));\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTranslate(sliderHandle, translateX);\n\t\t\tlastTranslateX = translateX;\n\t\t}\n\t\tsliderRequestAnimationFrame = requestAnimationFrame(function() {\n\t\t\tupdateTranslate();\n\t\t});\n\t};\n\tvar setTranslate = function(element, x) {\n\t\tif (element) {\n\t\t\telement.style.webkitTransform = 'translate(' + x + 'px,0)';\n\t\t}\n\t};\n\n\twindow.addEventListener($.EVENT_START, function(event) {\n\t\tif (cell) {\n\t\t\ttoggleActive(false);\n\t\t}\n\t\tcell = a = false;\n\t\tisMoved = isOpened = openedActions = false;\n\t\tvar target = event.target;\n\t\tvar isDisabled = false;\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target.classList) {\n\t\t\t\tvar classList = target.classList;\n\t\t\t\tif ((target.tagName === 'INPUT' && target.type !== 'radio' && target.type !== 'checkbox') || target.tagName === 'BUTTON' || classList.contains(CLASS_TOGGLE) || classList.contains(CLASS_BTN) || classList.contains(CLASS_DISABLED)) {\n\t\t\t\t\tisDisabled = true;\n\t\t\t\t}\n\t\t\t\tif (classList.contains(CLASS_COLLAPSE_CONTENT)) { //collapse content\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (classList.contains(CLASS_TABLE_VIEW_CELL)) {\n\t\t\t\t\tcell = target;\n\t\t\t\t\t//TODO swipe to delete close\n\t\t\t\t\tvar selected = cell.parentNode.querySelector(SELECTOR_SELECTED);\n\t\t\t\t\tif (!cell.parentNode.classList.contains(CLASS_RADIO_VIEW) && selected && selected !== cell) {\n\t\t\t\t\t\t$.swipeoutClose(selected);\n\t\t\t\t\t\tcell = isDisabled = false;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (!cell.parentNode.classList.contains(CLASS_GRID_VIEW)) {\n\t\t\t\t\t\tvar link = cell.querySelector('a');\n\t\t\t\t\t\tif (link && link.parentNode === cell) { //li>a\n\t\t\t\t\t\t\ta = link;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar handle = cell.querySelector(SELECTOR_SLIDER_HANDLE);\n\t\t\t\t\tif (handle) {\n\t\t\t\t\t\ttoggleEvents(cell);\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t\tif (!isDisabled) {\n\t\t\t\t\t\tif (handle) {\n\t\t\t\t\t\t\tif (timer) {\n\t\t\t\t\t\t\t\ttimer.cancel();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttimer = $.later(function() {\n\t\t\t\t\t\t\t\ttoggleActive(true);\n\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttoggleActive(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\twindow.addEventListener($.EVENT_MOVE, function(event) {\n\t\ttoggleActive(false);\n\t});\n\n\tvar handleEvent = {\n\t\thandleEvent: function(event) {\n\t\t\tswitch (event.type) {\n\t\t\t\tcase 'drag':\n\t\t\t\t\tthis.drag(event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tthis.dragend(event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'flick':\n\t\t\t\t\tthis.flick(event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'swiperight':\n\t\t\t\t\tthis.swiperight(event);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'swipeleft':\n\t\t\t\t\tthis.swipeleft(event);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tdrag: function(event) {\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!isMoved) { //init\n\t\t\t\tsliderHandle = sliderActionLeft = sliderActionRight = buttonsLeft = buttonsRight = sliderDirection = sliderRequestAnimationFrame = false;\n\t\t\t\tsliderHandle = cell.querySelector(SELECTOR_SLIDER_HANDLE);\n\t\t\t\tif (sliderHandle) {\n\t\t\t\t\tsliderActionLeft = cell.querySelector(SELECTOR_SLIDER_LEFT);\n\t\t\t\t\tsliderActionRight = cell.querySelector(SELECTOR_SLIDER_RIGHT);\n\t\t\t\t\tif (sliderActionLeft) {\n\t\t\t\t\t\tsliderActionLeftWidth = sliderActionLeft.offsetWidth;\n\t\t\t\t\t\tbuttonsLeft = sliderActionLeft.querySelectorAll(SELECTOR_BUTTON);\n\t\t\t\t\t}\n\t\t\t\t\tif (sliderActionRight) {\n\t\t\t\t\t\tsliderActionRightWidth = sliderActionRight.offsetWidth;\n\t\t\t\t\t\tbuttonsRight = sliderActionRight.querySelectorAll(SELECTOR_BUTTON);\n\t\t\t\t\t}\n\t\t\t\t\tcell.classList.remove(CLASS_TRANSITIONING);\n\t\t\t\t\tisOpened = cell.classList.contains(CLASS_SELECTED);\n\t\t\t\t\tif (isOpened) {\n\t\t\t\t\t\topenedActions = cell.querySelector(SELECTOR_SLIDER_LEFT + SELECTOR_SELECTED) ? 'left' : 'right';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar detail = event.detail;\n\t\t\tvar direction = detail.direction;\n\t\t\tvar angle = detail.angle;\n\t\t\tif (direction === 'left' && (angle > 150 || angle < -150)) {\n\t\t\t\tif (buttonsRight || (buttonsLeft && isOpened)) { //存在右侧按钮或存在左侧按钮且是已打开状态\n\t\t\t\t\tisMoved = true;\n\t\t\t\t}\n\t\t\t} else if (direction === 'right' && (angle > -30 && angle < 30)) {\n\t\t\t\tif (buttonsLeft || (buttonsRight && isOpened)) { //存在左侧按钮或存在右侧按钮且是已打开状态\n\t\t\t\t\tisMoved = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isMoved) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.detail.gesture.preventDefault();\n\t\t\t\tvar translate = event.detail.deltaX;\n\t\t\t\tif (isOpened) {\n\t\t\t\t\tif (openedActions === 'right') {\n\t\t\t\t\t\ttranslate = translate - sliderActionRightWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttranslate = translate + sliderActionLeftWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ((translate > 0 && !buttonsLeft) || (translate < 0 && !buttonsRight)) {\n\t\t\t\t\tif (!isOpened) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\ttranslate = 0;\n\t\t\t\t}\n\t\t\t\tif (translate < 0) {\n\t\t\t\t\tsliderDirection = 'toLeft';\n\t\t\t\t} else if (translate > 0) {\n\t\t\t\t\tsliderDirection = 'toRight';\n\t\t\t\t} else {\n\t\t\t\t\tif (!sliderDirection) {\n\t\t\t\t\t\tsliderDirection = 'toLeft';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!sliderRequestAnimationFrame) {\n\t\t\t\t\tupdateTranslate();\n\t\t\t\t}\n\t\t\t\ttranslateX = translate;\n\t\t\t}\n\t\t},\n\t\tflick: function(event) {\n\t\t\tif (isMoved) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tswipeleft: function(event) {\n\t\t\tif (isMoved) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tswiperight: function(event) {\n\t\t\tif (isMoved) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t},\n\t\tdragend: function(event) {\n\t\t\tif (!isMoved) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tevent.stopPropagation();\n\t\t\tif (sliderRequestAnimationFrame) {\n\t\t\t\tcancelAnimationFrame(sliderRequestAnimationFrame);\n\t\t\t\tsliderRequestAnimationFrame = null;\n\t\t\t}\n\t\t\tvar detail = event.detail;\n\t\t\tisMoved = false;\n\t\t\tvar action = 'close';\n\t\t\tvar actionsWidth = sliderDirection === 'toLeft' ? sliderActionRightWidth : sliderActionLeftWidth;\n\t\t\tvar isToggle = detail.swipe || (Math.abs(translateX) > actionsWidth / 2);\n\t\t\tif (isToggle) {\n\t\t\t\tif (!isOpened) {\n\t\t\t\t\taction = 'open';\n\t\t\t\t} else if (detail.direction === 'left' && openedActions === 'right') {\n\t\t\t\t\taction = 'open';\n\t\t\t\t} else if (detail.direction === 'right' && openedActions === 'left') {\n\t\t\t\t\taction = 'open';\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tcell.classList.add(CLASS_TRANSITIONING);\n\t\t\tvar buttons;\n\t\t\tif (action === 'open') {\n\t\t\t\tvar newTranslate = sliderDirection === 'toLeft' ? -actionsWidth : actionsWidth;\n\t\t\t\tsetTranslate(sliderHandle, newTranslate);\n\t\t\t\tbuttons = sliderDirection === 'toLeft' ? buttonsRight : buttonsLeft;\n\t\t\t\tif (typeof buttons !== 'undefined') {\n\t\t\t\t\tvar button = null;\n\t\t\t\t\tfor (var i = 0; i < buttons.length; i++) {\n\t\t\t\t\t\tbutton = buttons[i];\n\t\t\t\t\t\tsetTranslate(button, newTranslate);\n\t\t\t\t\t}\n\t\t\t\t\tbutton.parentNode.classList.add(CLASS_SELECTED);\n\t\t\t\t\tcell.classList.add(CLASS_SELECTED);\n\t\t\t\t\tif (!isOpened) {\n\t\t\t\t\t\t$.trigger(cell, sliderDirection === 'toLeft' ? 'slideleft' : 'slideright');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetTranslate(sliderHandle, 0);\n\t\t\t\tsliderActionLeft && sliderActionLeft.classList.remove(CLASS_SELECTED);\n\t\t\t\tsliderActionRight && sliderActionRight.classList.remove(CLASS_SELECTED);\n\t\t\t\tcell.classList.remove(CLASS_SELECTED);\n\t\t\t}\n\t\t\tvar buttonOffset;\n\t\t\tif (buttonsLeft && buttonsLeft.length > 0 && buttonsLeft !== buttons) {\n\t\t\t\tfor (var i = 0, len = buttonsLeft.length; i < len; i++) {\n\t\t\t\t\tvar buttonLeft = buttonsLeft[i];\n\t\t\t\t\tbuttonOffset = buttonLeft._buttonOffset;\n\t\t\t\t\tif (typeof buttonOffset === 'undefined') {\n\t\t\t\t\t\tbuttonLeft._buttonOffset = sliderActionLeftWidth - buttonLeft.offsetLeft - buttonLeft.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tsetTranslate(buttonLeft, buttonOffset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (buttonsRight && buttonsRight.length > 0 && buttonsRight !== buttons) {\n\t\t\t\tfor (var i = 0, len = buttonsRight.length; i < len; i++) {\n\t\t\t\t\tvar buttonRight = buttonsRight[i];\n\t\t\t\t\tbuttonOffset = buttonRight._buttonOffset;\n\t\t\t\t\tif (typeof buttonOffset === 'undefined') {\n\t\t\t\t\t\tbuttonRight._buttonOffset = buttonRight.offsetLeft;\n\t\t\t\t\t}\n\t\t\t\t\tsetTranslate(buttonRight, -buttonOffset);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction toggleEvents(element, isRemove) {\n\t\tvar method = !!isRemove ? 'removeEventListener' : 'addEventListener';\n\t\telement[method]('drag', handleEvent);\n\t\telement[method]('dragend', handleEvent);\n\t\telement[method]('swiperight', handleEvent);\n\t\telement[method]('swipeleft', handleEvent);\n\t\telement[method]('flick', handleEvent);\n\t};\n\t/**\n\t * 打开滑动菜单\n\t * @param {Object} el\n\t * @param {Object} direction\n\t */\n\t$.swipeoutOpen = function(el, direction) {\n\t\tif (!el) return;\n\t\tvar classList = el.classList;\n\t\tif (classList.contains(CLASS_SELECTED)) return;\n\t\tif (!direction) {\n\t\t\tif (el.querySelector(SELECTOR_SLIDER_RIGHT)) {\n\t\t\t\tdirection = 'right';\n\t\t\t} else {\n\t\t\t\tdirection = 'left';\n\t\t\t}\n\t\t}\n\t\tvar swipeoutAction = el.querySelector($.classSelector(\".slider-\" + direction));\n\t\tif (!swipeoutAction) return;\n\t\tswipeoutAction.classList.add(CLASS_SELECTED);\n\t\tclassList.add(CLASS_SELECTED);\n\t\tclassList.remove(CLASS_TRANSITIONING);\n\t\tvar buttons = swipeoutAction.querySelectorAll(SELECTOR_BUTTON);\n\t\tvar swipeoutWidth = swipeoutAction.offsetWidth;\n\t\tvar translate = (direction === 'right') ? -swipeoutWidth : swipeoutWidth;\n\t\tvar length = buttons.length;\n\t\tvar button;\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tbutton = buttons[i];\n\t\t\tif (direction === 'right') {\n\t\t\t\tsetTranslate(button, -button.offsetLeft);\n\t\t\t} else {\n\t\t\t\tsetTranslate(button, (swipeoutWidth - button.offsetWidth - button.offsetLeft));\n\t\t\t}\n\t\t}\n\t\tclassList.add(CLASS_TRANSITIONING);\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tsetTranslate(buttons[i], translate);\n\t\t}\n\t\tsetTranslate(el.querySelector(SELECTOR_SLIDER_HANDLE), translate);\n\t};\n\t/**\n\t * 关闭滑动菜单\n\t * @param {Object} el\n\t */\n\t$.swipeoutClose = function(el) {\n\t\tif (!el) return;\n\t\tvar classList = el.classList;\n\t\tif (!classList.contains(CLASS_SELECTED)) return;\n\t\tvar direction = el.querySelector(SELECTOR_SLIDER_RIGHT + SELECTOR_SELECTED) ? 'right' : 'left';\n\t\tvar swipeoutAction = el.querySelector($.classSelector(\".slider-\" + direction));\n\t\tif (!swipeoutAction) return;\n\t\tswipeoutAction.classList.remove(CLASS_SELECTED);\n\t\tclassList.remove(CLASS_SELECTED);\n\t\tclassList.add(CLASS_TRANSITIONING);\n\t\tvar buttons = swipeoutAction.querySelectorAll(SELECTOR_BUTTON);\n\t\tvar swipeoutWidth = swipeoutAction.offsetWidth;\n\t\tvar length = buttons.length;\n\t\tvar button;\n\t\tsetTranslate(el.querySelector(SELECTOR_SLIDER_HANDLE), 0);\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tbutton = buttons[i];\n\t\t\tif (direction === 'right') {\n\t\t\t\tsetTranslate(button, (-button.offsetLeft));\n\t\t\t} else {\n\t\t\t\tsetTranslate(button, (swipeoutWidth - button.offsetWidth - button.offsetLeft));\n\t\t\t}\n\t\t}\n\t};\n\n\twindow.addEventListener($.EVENT_END, function(event) { //使用touchend来取消高亮，避免一次点击既不触发tap，doubletap，longtap的事件\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\t\ttoggleActive(false);\n\t\tsliderHandle && toggleEvents(cell, true);\n\t});\n\twindow.addEventListener($.EVENT_CANCEL, function(event) { //使用touchcancel来取消高亮，避免一次点击既不触发tap，doubletap，longtap的事件\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\t\ttoggleActive(false);\n\t\tsliderHandle && toggleEvents(cell, true);\n\t});\n\tvar radioOrCheckboxClick = function(event) {\n\t\tvar type = event.target && event.target.type || '';\n\t\tif (type === 'radio' || type === 'checkbox') {\n\t\t\treturn;\n\t\t}\n\t\tvar classList = cell.classList;\n\t\tif (classList.contains('mui-radio')) {\n\t\t\tvar input = cell.querySelector('input[type=radio]');\n\t\t\tif (input) {\n\t\t\t\t//\t\t\t\tinput.click();\n\t\t\t\tif (!input.disabled && !input.readOnly) {\n\t\t\t\t\tinput.checked = !input.checked;\n\t\t\t\t\t$.trigger(input, 'change');\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (classList.contains('mui-checkbox')) {\n\t\t\tvar input = cell.querySelector('input[type=checkbox]');\n\t\t\tif (input) {\n\t\t\t\t//\t\t\t\tinput.click();\n\t\t\t\tif (!input.disabled && !input.readOnly) {\n\t\t\t\t\tinput.checked = !input.checked;\n\t\t\t\t\t$.trigger(input, 'change');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t//fixed hashchange(android)\n\twindow.addEventListener($.EVENT_CLICK, function(e) {\n\t\tif (cell && cell.classList.contains('mui-collapse')) {\n\t\t\te.preventDefault();\n\t\t}\n\t});\n\twindow.addEventListener('doubletap', function(event) {\n\t\tif (cell) {\n\t\t\tradioOrCheckboxClick(event);\n\t\t}\n\t});\n\tvar preventDefaultException = /^(INPUT|TEXTAREA|BUTTON|SELECT)$/;\n\twindow.addEventListener('tap', function(event) {\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\t\tvar isExpand = false;\n\t\tvar classList = cell.classList;\n\t\tvar ul = cell.parentNode;\n\t\tif (ul && ul.classList.contains(CLASS_RADIO_VIEW)) {\n\t\t\tif (classList.contains(CLASS_SELECTED)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar selected = ul.querySelector('li' + SELECTOR_SELECTED);\n\t\t\tif (selected) {\n\t\t\t\tselected.classList.remove(CLASS_SELECTED);\n\t\t\t}\n\t\t\tclassList.add(CLASS_SELECTED);\n\t\t\t$.trigger(cell, 'selected', {\n\t\t\t\tel: cell\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tif (classList.contains('mui-collapse') && !cell.parentNode.classList.contains('mui-unfold')) {\n\t\t\tif (!preventDefaultException.test(event.target.tagName)) {\n\t\t\t\tevent.detail.gesture.preventDefault();\n\t\t\t}\n\n\t\t\tif (!classList.contains(CLASS_ACTIVE)) { //展开时,需要收缩其他同类\n\t\t\t\tvar collapse = cell.parentNode.querySelector('.mui-collapse.mui-active');\n\t\t\t\tif (collapse) {\n\t\t\t\t\tcollapse.classList.remove(CLASS_ACTIVE);\n\t\t\t\t}\n\t\t\t\tisExpand = true;\n\t\t\t}\n\t\t\tclassList.toggle(CLASS_ACTIVE);\n\t\t\tif (isExpand) {\n\t\t\t\t//触发展开事件\n\t\t\t\t$.trigger(cell, 'expand');\n\n\t\t\t\t//scroll\n\t\t\t\t//暂不滚动\n\t\t\t\t// var offsetTop = $.offset(cell).top;\n\t\t\t\t// var scrollTop = document.body.scrollTop;\n\t\t\t\t// var height = window.innerHeight;\n\t\t\t\t// var offsetHeight = cell.offsetHeight;\n\t\t\t\t// var cellHeight = (offsetTop - scrollTop + offsetHeight);\n\t\t\t\t// if (offsetHeight > height) {\n\t\t\t\t// \t$.scrollTo(offsetTop, 300);\n\t\t\t\t// } else if (cellHeight > height) {\n\t\t\t\t// \t$.scrollTo(cellHeight - height + scrollTop, 300);\n\t\t\t\t// }\n\t\t\t}\n\t\t} else {\n\t\t\tradioOrCheckboxClick(event);\n\t\t}\n\t});\n})(mui, window, document);\n(function($, window) {\n\t/**\n\t * 警告消息框\n\t */\n\t$.alert = function(message, title, btnValue, callback) {\n\t\tif ($.os.plus) {\n\t\t\tif (typeof message === 'undefined') {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tif (typeof title === 'function') {\n\t\t\t\t\tcallback = title;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnValue = '确定';\n\t\t\t\t} else if (typeof btnValue === 'function') {\n\t\t\t\t\tcallback = btnValue;\n\t\t\t\t\tbtnValue = null;\n\t\t\t\t}\n\t\t\t\t$.plusReady(function() {\n\t\t\t\t\tplus.nativeUI.alert(message, callback, title, btnValue);\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else {\n\t\t\t//TODO H5版本\n\t\t\twindow.alert(message);\n\t\t}\n\t};\n\n})(mui, window);\n(function($, window) {\n\t/**\n\t * 确认消息框\n\t */\n\t$.confirm = function(message, title, btnArray, callback) {\n\t\tif ($.os.plus) {\n\t\t\tif (typeof message === 'undefined') {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tif (typeof title === 'function') {\n\t\t\t\t\tcallback = title;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t} else if (typeof btnArray === 'function') {\n\t\t\t\t\tcallback = btnArray;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t}\n\t\t\t\t$.plusReady(function() {\n\t\t\t\t\tplus.nativeUI.confirm(message, callback, title, btnArray);\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else {\n\t\t\t//H5版本，0为确认，1为取消\n\t\t\tif (window.confirm(message)) {\n\t\t\t\tcallback({\n\t\t\t\t\tindex: 0\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallback({\n\t\t\t\t\tindex: 1\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n})(mui, window);\n(function($, window) {\n\t/**\n\t * 输入对话框\n\t */\n\t$.prompt = function(text, defaultText, title, btnArray, callback) {\n\t\tif ($.os.plus) {\n\t\t\tif (typeof message === 'undefined') {\n\t\t\t\treturn;\n\t\t\t} else {\n\n\t\t\t\tif (typeof defaultText === 'function') {\n\t\t\t\t\tcallback = defaultText;\n\t\t\t\t\tdefaultText = null;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t} else if (typeof title === 'function') {\n\t\t\t\t\tcallback = title;\n\t\t\t\t\ttitle = null;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t} else if (typeof btnArray === 'function') {\n\t\t\t\t\tcallback = btnArray;\n\t\t\t\t\tbtnArray = null;\n\t\t\t\t}\n\t\t\t\t$.plusReady(function() {\n\t\t\t\t\tplus.nativeUI.prompt(text, callback, title, defaultText, btnArray);\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else {\n\t\t\t//H5版本(确认index为0，取消index为1)\n\t\t\tvar result = window.prompt(text);\n\t\t\tif (result) {\n\t\t\t\tcallback({\n\t\t\t\t\tindex: 0,\n\t\t\t\t\tvalue: result\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallback({\n\t\t\t\t\tindex: 1,\n\t\t\t\t\tvalue: ''\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n})(mui, window);\n(function($, window) {\n\tvar CLASS_ACTIVE = 'mui-active';\n\t/**\n\t * 自动消失提示框\n\t */\n\t$.toast = function(message) {\n\t\tif ($.os.plus) {\n\t\t\t//默认显示在底部；\n\t\t\t$.plusReady(function() {\n\t\t\t\tplus.nativeUI.toast(message, {\n\t\t\t\t\tverticalAlign: 'bottom'\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tvar toast = document.createElement('div');\n\t\t\ttoast.classList.add('mui-toast-container');\n\t\t\ttoast.innerHTML = '<div class=\"' + 'mui-toast-message' + '\">' + message + '</div>';\n\t\t\ttoast.addEventListener('webkitTransitionEnd', function() {\n\t\t\t\tif (!toast.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\t\ttoast.parentNode.removeChild(toast);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdocument.body.appendChild(toast);\n\t\t\ttoast.offsetHeight;\n\t\t\ttoast.classList.add(CLASS_ACTIVE);\n\t\t\tsetTimeout(function() {\n\t\t\t\ttoast.classList.remove(CLASS_ACTIVE);\n\t\t\t}, 2000);\n\t\t}\n\t};\n\n})(mui, window);\n/**\n * Popup(alert,confirm,prompt)  \n * @param {Object} $\n * @param {Object} window\n * @param {Object} document\n */\n(function($, window, document) {\n\tvar CLASS_POPUP = 'mui-popup';\n\tvar CLASS_POPUP_BACKDROP = 'mui-popup-backdrop';\n\tvar CLASS_POPUP_IN = 'mui-popup-in';\n\tvar CLASS_POPUP_OUT = 'mui-popup-out';\n\tvar CLASS_POPUP_INNER = 'mui-popup-inner';\n\tvar CLASS_POPUP_TITLE = 'mui-popup-title';\n\tvar CLASS_POPUP_TEXT = 'mui-popup-text';\n\tvar CLASS_POPUP_INPUT = 'mui-popup-input';\n\tvar CLASS_POPUP_BUTTONS = 'mui-popup-buttons';\n\tvar CLASS_POPUP_BUTTON = 'mui-popup-button';\n\tvar CLASS_POPUP_BUTTON_BOLD = 'mui-popup-button-bold';\n\tvar CLASS_POPUP_BACKDROP = 'mui-popup-backdrop';\n\tvar CLASS_ACTIVE = 'mui-active';\n\n\tvar popupStack = [];\n\tvar backdrop = (function() {\n\t\tvar element = document.createElement('div');\n\t\telement.classList.add(CLASS_POPUP_BACKDROP);\n\t\telement.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\telement.addEventListener('webkitTransitionEnd', function() {\n\t\t\tif (!this.classList.contains(CLASS_ACTIVE)) {\n\t\t\t\telement.parentNode && element.parentNode.removeChild(element);\n\t\t\t}\n\t\t});\n\t\treturn element;\n\t}());\n\n\tvar createInput = function(placeholder) {\n\t\treturn '<div class=\"' + CLASS_POPUP_INPUT + '\"><input type=\"text\" autofocus placeholder=\"' + (placeholder || '') + '\"/></div>';\n\t};\n\tvar createInner = function(message, title, extra) {\n\t\treturn '<div class=\"' + CLASS_POPUP_INNER + '\"><div class=\"' + CLASS_POPUP_TITLE + '\">' + title + '</div><div class=\"' + CLASS_POPUP_TEXT + '\">' + message.replace(/\\r\\n/g, \"<br/>\").replace(/\\n/g, \"<br/>\") + '</div>' + (extra || '') + '</div>';\n\t};\n\tvar createButtons = function(btnArray) {\n\t\tvar length = btnArray.length;\n\t\tvar btns = [];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tbtns.push('<span class=\"' + CLASS_POPUP_BUTTON + (i === length - 1 ? (' ' + CLASS_POPUP_BUTTON_BOLD) : '') + '\">' + btnArray[i] + '</span>');\n\t\t}\n\t\treturn '<div class=\"' + CLASS_POPUP_BUTTONS + '\">' + btns.join('') + '</div>';\n\t};\n\n\tvar createPopup = function(html, callback) {\n\t\tvar popupElement = document.createElement('div');\n\t\tpopupElement.className = CLASS_POPUP;\n\t\tpopupElement.innerHTML = html;\n\t\tvar removePopupElement = function() {\n\t\t\tpopupElement.parentNode && popupElement.parentNode.removeChild(popupElement);\n\t\t\tpopupElement = null;\n\t\t};\n\t\tpopupElement.addEventListener($.EVENT_MOVE, $.preventDefault);\n\t\tpopupElement.addEventListener('webkitTransitionEnd', function(e) {\n\t\t\tif (popupElement && e.target === popupElement && popupElement.classList.contains(CLASS_POPUP_OUT)) {\n\t\t\t\tremovePopupElement();\n\t\t\t}\n\t\t});\n\t\tpopupElement.style.display = 'block';\n\t\tdocument.body.appendChild(popupElement);\n\t\tpopupElement.offsetHeight;\n\t\tpopupElement.classList.add(CLASS_POPUP_IN);\n\n\t\tif (!backdrop.classList.contains(CLASS_ACTIVE)) {\n\t\t\tbackdrop.style.display = 'block';\n\t\t\tdocument.body.appendChild(backdrop);\n\t\t\tbackdrop.offsetHeight;\n\t\t\tbackdrop.classList.add(CLASS_ACTIVE);\n\t\t}\n\t\tvar btns = $.qsa('.' + CLASS_POPUP_BUTTON, popupElement);\n\t\tvar input = popupElement.querySelector('.' + CLASS_POPUP_INPUT + ' input');\n\t\tvar popup = {\n\t\t\telement: popupElement,\n\t\t\tclose: function(index, animate) {\n\t\t\t\tif (popupElement) {\n\t\t\t\t\tcallback && callback({\n\t\t\t\t\t\tindex: index || 0,\n\t\t\t\t\t\tvalue: input && input.value || ''\n\t\t\t\t\t});\n\t\t\t\t\tif (animate !== false) {\n\t\t\t\t\t\tpopupElement.classList.remove(CLASS_POPUP_IN);\n\t\t\t\t\t\tpopupElement.classList.add(CLASS_POPUP_OUT);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tremovePopupElement();\n\t\t\t\t\t}\n\t\t\t\t\tpopupStack.pop();\n\t\t\t\t\t//如果还有其他popup，则不remove backdrop\n\t\t\t\t\tif (popupStack.length) {\n\t\t\t\t\t\tpopupStack[popupStack.length - 1]['show'](animate);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbackdrop.classList.remove(CLASS_ACTIVE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tvar handleEvent = function(e) {\n\t\t\tpopup.close(btns.indexOf(e.target));\n\t\t};\n\t\t$(popupElement).on('tap', '.' + CLASS_POPUP_BUTTON, handleEvent);\n\t\tif (popupStack.length) {\n\t\t\tpopupStack[popupStack.length - 1]['hide']();\n\t\t}\n\t\tpopupStack.push({\n\t\t\tclose: popup.close,\n\t\t\tshow: function(animate) {\n\t\t\t\tpopupElement.style.display = 'block';\n\t\t\t\tpopupElement.offsetHeight;\n\t\t\t\tpopupElement.classList.add(CLASS_POPUP_IN);\n\t\t\t},\n\t\t\thide: function() {\n\t\t\t\tpopupElement.style.display = 'none';\n\t\t\t\tpopupElement.classList.remove(CLASS_POPUP_IN);\n\t\t\t}\n\t\t});\n\t\treturn popup;\n\t};\n\tvar createAlert = function(message, title, btnValue, callback, type) {\n\t\tif (typeof message === 'undefined') {\n\t\t\treturn;\n\t\t} else {\n\t\t\tif (typeof title === 'function') {\n\t\t\t\tcallback = title;\n\t\t\t\ttype = btnValue;\n\t\t\t\ttitle = null;\n\t\t\t\tbtnValue = null;\n\t\t\t} else if (typeof btnValue === 'function') {\n\t\t\t\ttype = callback;\n\t\t\t\tcallback = btnValue;\n\t\t\t\tbtnValue = null;\n\t\t\t}\n\t\t}\n\t\tif (!$.os.plus || type === 'div') {\n\t\t\treturn createPopup(createInner(message, title || '提示') + createButtons([btnValue || '确定']), callback);\n\t\t}\n\t\treturn plus.nativeUI.alert(message, callback, title || '提示', btnValue || '确定');\n\t};\n\tvar createConfirm = function(message, title, btnArray, callback, type) {\n\t\tif (typeof message === 'undefined') {\n\t\t\treturn;\n\t\t} else {\n\t\t\tif (typeof title === 'function') {\n\t\t\t\tcallback = title;\n\t\t\t\ttype = btnArray;\n\t\t\t\ttitle = null;\n\t\t\t\tbtnArray = null;\n\t\t\t} else if (typeof btnArray === 'function') {\n\t\t\t\ttype = callback;\n\t\t\t\tcallback = btnArray;\n\t\t\t\tbtnArray = null;\n\t\t\t}\n\t\t}\n\t\tif (!$.os.plus || type === 'div') {\n\t\t\treturn createPopup(createInner(message, title || '提示') + createButtons(btnArray || ['取消', '确认']), callback);\n\t\t}\n\t\treturn plus.nativeUI.confirm(message, callback, title, btnArray || ['取消', '确认']);\n\t};\n\tvar createPrompt = function(message, placeholder, title, btnArray, callback, type) {\n\t\tif (typeof message === 'undefined') {\n\t\t\treturn;\n\t\t} else {\n\t\t\tif (typeof placeholder === 'function') {\n\t\t\t\tcallback = placeholder;\n\t\t\t\ttype = title;\n\t\t\t\tplaceholder = null;\n\t\t\t\ttitle = null;\n\t\t\t\tbtnArray = null;\n\t\t\t} else if (typeof title === 'function') {\n\t\t\t\tcallback = title;\n\t\t\t\ttype = btnArray;\n\t\t\t\ttitle = null;\n\t\t\t\tbtnArray = null;\n\t\t\t} else if (typeof btnArray === 'function') {\n\t\t\t\ttype = callback;\n\t\t\t\tcallback = btnArray;\n\t\t\t\tbtnArray = null;\n\t\t\t}\n\t\t}\n\t\tif (!$.os.plus || type === 'div') {\n\t\t\treturn createPopup(createInner(message, title || '提示', createInput(placeholder)) + createButtons(btnArray || ['取消', '确认']), callback);\n\t\t}\n\t\treturn plus.nativeUI.prompt(message, callback, title || '提示', placeholder, btnArray || ['取消', '确认']);\n\t};\n\tvar closePopup = function() {\n\t\tif (popupStack.length) {\n\t\t\tpopupStack[popupStack.length - 1]['close']();\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\tvar closePopups = function() {\n\t\twhile (popupStack.length) {\n\t\t\tpopupStack[popupStack.length - 1]['close']();\n\t\t}\n\t};\n\n\t$.closePopup = closePopup;\n\t$.closePopups = closePopups;\n\t$.alert = createAlert;\n\t$.confirm = createConfirm;\n\t$.prompt = createPrompt;\n})(mui, window, document);\n(function($, document) {\n\tvar CLASS_PROGRESSBAR = 'mui-progressbar';\n\tvar CLASS_PROGRESSBAR_IN = 'mui-progressbar-in';\n\tvar CLASS_PROGRESSBAR_OUT = 'mui-progressbar-out';\n\tvar CLASS_PROGRESSBAR_INFINITE = 'mui-progressbar-infinite';\n\n\tvar SELECTOR_PROGRESSBAR = '.mui-progressbar';\n\n\tvar _findProgressbar = function(container) {\n\t\tcontainer = $(container || 'body');\n\t\tif (container.length === 0) return;\n\t\tcontainer = container[0];\n\t\tif (container.classList.contains(CLASS_PROGRESSBAR)) {\n\t\t\treturn container;\n\t\t}\n\t\tvar progressbars = container.querySelectorAll(SELECTOR_PROGRESSBAR);\n\t\tif (progressbars) {\n\t\t\tfor (var i = 0, len = progressbars.length; i < len; i++) {\n\t\t\t\tvar progressbar = progressbars[i];\n\t\t\t\tif (progressbar.parentNode === container) {\n\t\t\t\t\treturn progressbar;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t/**\n\t * 创建并显示进度条 \n\t * @param {Object} container  可选，默认body，支持selector,DOM Node,mui wrapper\n\t * @param {Object} progress 可选，undefined表示循环，数字表示具体进度\n\t * @param {Object} color 可选，指定颜色样式(目前暂未提供实际样式，可暂时不暴露此参数)\n\t */\n\tvar showProgressbar = function(container, progress, color) {\n\t\tif (typeof container === 'number') {\n\t\t\tcolor = progress;\n\t\t\tprogress = container;\n\t\t\tcontainer = 'body';\n\t\t}\n\t\tcontainer = $(container || 'body');\n\t\tif (container.length === 0) return;\n\t\tcontainer = container[0];\n\t\tvar progressbar;\n\t\tif (container.classList.contains(CLASS_PROGRESSBAR)) {\n\t\t\tprogressbar = container;\n\t\t} else {\n\t\t\tvar progressbars = container.querySelectorAll(SELECTOR_PROGRESSBAR + ':not(.' + CLASS_PROGRESSBAR_OUT + ')');\n\t\t\tif (progressbars) {\n\t\t\t\tfor (var i = 0, len = progressbars.length; i < len; i++) {\n\t\t\t\t\tvar _progressbar = progressbars[i];\n\t\t\t\t\tif (_progressbar.parentNode === container) {\n\t\t\t\t\t\tprogressbar = _progressbar;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!progressbar) {\n\t\t\t\tprogressbar = document.createElement('span');\n\t\t\t\tprogressbar.className = CLASS_PROGRESSBAR + ' ' + CLASS_PROGRESSBAR_IN + (typeof progress !== 'undefined' ? '' : (' ' + CLASS_PROGRESSBAR_INFINITE)) + (color ? (' ' + CLASS_PROGRESSBAR + '-' + color) : '');\n\t\t\t\tif (typeof progress !== 'undefined') {\n\t\t\t\t\tprogressbar.innerHTML = '<span></span>';\n\t\t\t\t}\n\t\t\t\tcontainer.appendChild(progressbar);\n\t\t\t} else {\n\t\t\t\tprogressbar.classList.add(CLASS_PROGRESSBAR_IN);\n\t\t\t}\n\t\t}\n\t\tif (progress) setProgressbar(container, progress);\n\t\treturn progressbar;\n\t};\n\t/**\n\t * 关闭进度条 \n\t * @param {Object} container 可选，默认body，支持selector,DOM Node,mui wrapper\n\t */\n\tvar hideProgressbar = function(container) {\n\t\tvar progressbar = _findProgressbar(container);\n\t\tif (!progressbar) {\n\t\t\treturn;\n\t\t}\n\t\tvar classList = progressbar.classList;\n\t\tif (!classList.contains(CLASS_PROGRESSBAR_IN) || classList.contains(CLASS_PROGRESSBAR_OUT)) {\n\t\t\treturn;\n\t\t}\n\t\tclassList.remove(CLASS_PROGRESSBAR_IN);\n\t\tclassList.add(CLASS_PROGRESSBAR_OUT);\n\t\tprogressbar.addEventListener('webkitAnimationEnd', function() {\n\t\t\tprogressbar.parentNode && progressbar.parentNode.removeChild(progressbar);\n\t\t\tprogressbar = null;\n\t\t});\n\t\treturn;\n\t};\n\t/**\n\t * 设置指定进度条进度 \n\t * @param {Object} container  可选，默认body，支持selector,DOM Node,mui wrapper\n\t * @param {Object} progress 可选，默认0 取值范围[0-100]\n\t * @param {Object} speed 进度条动画时间\n\t */\n\tvar setProgressbar = function(container, progress, speed) {\n\t\tif (typeof container === 'number') {\n\t\t\tspeed = progress;\n\t\t\tprogress = container;\n\t\t\tcontainer = false;\n\t\t}\n\t\tvar progressbar = _findProgressbar(container);\n\t\tif (!progressbar || progressbar.classList.contains(CLASS_PROGRESSBAR_INFINITE)) {\n\t\t\treturn;\n\t\t}\n\t\tif (progress) progress = Math.min(Math.max(progress, 0), 100);\n\t\tprogressbar.offsetHeight;\n\t\tvar span = progressbar.querySelector('span');\n\t\tif (span) {\n\t\t\tvar style = span.style;\n\t\t\tstyle.webkitTransform = 'translate3d(' + (-100 + progress) + '%,0,0)';\n\t\t\tif (typeof speed !== 'undefined') {\n\t\t\t\tstyle.webkitTransitionDuration = speed + 'ms';\n\t\t\t} else {\n\t\t\t\tstyle.webkitTransitionDuration = '';\n\t\t\t}\n\t\t}\n\t\treturn progressbar;\n\t};\n\t$.fn.progressbar = function(options) {\n\t\tvar progressbarApis = [];\n\t\toptions = options || {};\n\t\tthis.each(function() {\n\t\t\tvar self = this;\n\t\t\tvar progressbarApi = self.mui_plugin_progressbar;\n\t\t\tif (!progressbarApi) {\n\t\t\t\tself.mui_plugin_progressbar = progressbarApi = {\n\t\t\t\t\toptions: options,\n\t\t\t\t\tsetOptions: function(options) {\n\t\t\t\t\t\tthis.options = options;\n\t\t\t\t\t},\n\t\t\t\t\tshow: function() {\n\t\t\t\t\t\treturn showProgressbar(self, this.options.progress, this.options.color);\n\t\t\t\t\t},\n\t\t\t\t\tsetProgress: function(progress) {\n\t\t\t\t\t\treturn setProgressbar(self, progress);\n\t\t\t\t\t},\n\t\t\t\t\thide: function() {\n\t\t\t\t\t\treturn hideProgressbar(self);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} else if (options) {\n\t\t\t\tprogressbarApi.setOptions(options);\n\t\t\t}\n\t\t\tprogressbarApis.push(progressbarApi);\n\t\t});\n\t\treturn progressbarApis.length === 1 ? progressbarApis[0] : progressbarApis;\n\t};\n\t//\t$.setProgressbar = setProgressbar;\n\t//\t$.showProgressbar = showProgressbar;\n\t//\t$.hideProgressbar = hideProgressbar;\n})(mui, document);\n/**\n * Input(TODO resize)\n * @param {type} $\n * @param {type} window\n * @param {type} document\n * @returns {undefined}\n */\n(function($, window, document) {\n\tvar CLASS_ICON = 'mui-icon';\n\tvar CLASS_ICON_CLEAR = 'mui-icon-clear';\n\tvar CLASS_ICON_SPEECH = 'mui-icon-speech';\n\tvar CLASS_ICON_SEARCH = 'mui-icon-search';\n\tvar CLASS_ICON_PASSWORD = 'mui-icon-eye';\n\tvar CLASS_INPUT_ROW = 'mui-input-row';\n\tvar CLASS_PLACEHOLDER = 'mui-placeholder';\n\tvar CLASS_TOOLTIP = 'mui-tooltip';\n\tvar CLASS_HIDDEN = 'mui-hidden';\n\tvar CLASS_FOCUSIN = 'mui-focusin';\n\tvar SELECTOR_ICON_CLOSE = '.' + CLASS_ICON_CLEAR;\n\tvar SELECTOR_ICON_SPEECH = '.' + CLASS_ICON_SPEECH;\n\tvar SELECTOR_ICON_PASSWORD = '.' + CLASS_ICON_PASSWORD;\n\tvar SELECTOR_PLACEHOLDER = '.' + CLASS_PLACEHOLDER;\n\tvar SELECTOR_TOOLTIP = '.' + CLASS_TOOLTIP;\n\n\tvar findRow = function(target) {\n\t\tfor (; target && target !== document; target = target.parentNode) {\n\t\t\tif (target.classList && target.classList.contains(CLASS_INPUT_ROW)) {\n\t\t\t\treturn target;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\tvar Input = function(element, options) {\n\t\tthis.element = element;\n\t\tthis.options = options || {\n\t\t\tactions: 'clear'\n\t\t};\n\t\tif (~this.options.actions.indexOf('slider')) { //slider\n\t\t\tthis.sliderActionClass = CLASS_TOOLTIP + ' ' + CLASS_HIDDEN;\n\t\t\tthis.sliderActionSelector = SELECTOR_TOOLTIP;\n\t\t} else { //clear,speech,search\n\t\t\tif (~this.options.actions.indexOf('clear')) {\n\t\t\t\tthis.clearActionClass = CLASS_ICON + ' ' + CLASS_ICON_CLEAR + ' ' + CLASS_HIDDEN;\n\t\t\t\tthis.clearActionSelector = SELECTOR_ICON_CLOSE;\n\t\t\t}\n\t\t\tif (~this.options.actions.indexOf('speech')) { //only for 5+\n\t\t\t\tthis.speechActionClass = CLASS_ICON + ' ' + CLASS_ICON_SPEECH;\n\t\t\t\tthis.speechActionSelector = SELECTOR_ICON_SPEECH;\n\t\t\t}\n\t\t\tif (~this.options.actions.indexOf('search')) {\n\t\t\t\tthis.searchActionClass = CLASS_PLACEHOLDER;\n\t\t\t\tthis.searchActionSelector = SELECTOR_PLACEHOLDER;\n\t\t\t}\n\t\t\tif (~this.options.actions.indexOf('password')) {\n\t\t\t\tthis.passwordActionClass = CLASS_ICON + ' ' + CLASS_ICON_PASSWORD;\n\t\t\t\tthis.passwordActionSelector = SELECTOR_ICON_PASSWORD;\n\t\t\t}\n\t\t}\n\t\tthis.init();\n\t};\n\tInput.prototype.init = function() {\n\t\tthis.initAction();\n\t\tthis.initElementEvent();\n\t};\n\tInput.prototype.initAction = function() {\n\t\tvar self = this;\n\n\t\tvar row = self.element.parentNode;\n\t\tif (row) {\n\t\t\tif (self.sliderActionClass) {\n\t\t\t\tself.sliderAction = self.createAction(row, self.sliderActionClass, self.sliderActionSelector);\n\t\t\t} else {\n\t\t\t\tif (self.searchActionClass) {\n\t\t\t\t\tself.searchAction = self.createAction(row, self.searchActionClass, self.searchActionSelector);\n\t\t\t\t\tself.searchAction.addEventListener('tap', function(e) {\n\t\t\t\t\t\t$.focus(self.element);\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (self.speechActionClass) {\n\t\t\t\t\tself.speechAction = self.createAction(row, self.speechActionClass, self.speechActionSelector);\n\t\t\t\t\tself.speechAction.addEventListener('click', $.stopPropagation);\n\t\t\t\t\tself.speechAction.addEventListener('tap', function(event) {\n\t\t\t\t\t\tself.speechActionClick(event);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (self.clearActionClass) {\n\t\t\t\t\tself.clearAction = self.createAction(row, self.clearActionClass, self.clearActionSelector);\n\t\t\t\t\tself.clearAction.addEventListener('tap', function(event) {\n\t\t\t\t\t\tself.clearActionClick(event);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (self.passwordActionClass) {\n\t\t\t\t\tself.passwordAction = self.createAction(row, self.passwordActionClass, self.passwordActionSelector);\n\t\t\t\t\tself.passwordAction.addEventListener('tap', function(event) {\n\t\t\t\t\t\tself.passwordActionClick(event);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tInput.prototype.createAction = function(row, actionClass, actionSelector) {\n\t\tvar action = row.querySelector(actionSelector);\n\t\tif (!action) {\n\t\t\tvar action = document.createElement('span');\n\t\t\taction.className = actionClass;\n\t\t\tif (actionClass === this.searchActionClass) {\n\t\t\t\taction.innerHTML = '<span class=\"' + CLASS_ICON + ' ' + CLASS_ICON_SEARCH + '\"></span><span>' + this.element.getAttribute('placeholder') + '</span>';\n\t\t\t\tthis.element.setAttribute('placeholder', '');\n\t\t\t\tif (this.element.value.trim()) {\n\t\t\t\t\trow.classList.add('mui-active');\n\t\t\t\t}\n\t\t\t}\n\t\t\trow.insertBefore(action, this.element.nextSibling);\n\t\t}\n\t\treturn action;\n\t};\n\tInput.prototype.initElementEvent = function() {\n\t\tvar element = this.element;\n\n\t\tif (this.sliderActionClass) {\n\t\t\tvar tooltip = this.sliderAction;\n\t\t\tvar timer = null;\n\t\t\tvar showTip = function() { //每次重新计算是因为控件可能被隐藏，初始化时计算是不正确的\n\t\t\t\ttooltip.classList.remove(CLASS_HIDDEN);\n\t\t\t\tvar offsetLeft = element.offsetLeft;\n\t\t\t\tvar width = element.offsetWidth - 28;\n\t\t\t\tvar tooltipWidth = tooltip.offsetWidth;\n\t\t\t\tvar distince = Math.abs(element.max - element.min);\n\t\t\t\tvar scaleWidth = (width / distince) * Math.abs(element.value - element.min);\n\t\t\t\ttooltip.style.left = (14 + offsetLeft + scaleWidth - tooltipWidth / 2) + 'px';\n\t\t\t\ttooltip.innerText = element.value;\n\t\t\t\tif (timer) {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t}\n\t\t\t\ttimer = setTimeout(function() {\n\t\t\t\t\ttooltip.classList.add(CLASS_HIDDEN);\n\t\t\t\t}, 1000);\n\t\t\t};\n\t\t\telement.addEventListener('input', showTip);\n\t\t\telement.addEventListener('tap', showTip);\n\t\t\telement.addEventListener($.EVENT_MOVE, function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t} else {\n\t\t\tif (this.clearActionClass) {\n\t\t\t\tvar action = this.clearAction;\n\t\t\t\tif (!action) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$.each(['keyup', 'change', 'input', 'focus', 'cut', 'paste'], function(index, type) {\n\t\t\t\t\t(function(type) {\n\t\t\t\t\t\telement.addEventListener(type, function() {\n\t\t\t\t\t\t\taction.classList[element.value.trim() ? 'remove' : 'add'](CLASS_HIDDEN);\n\t\t\t\t\t\t});\n\t\t\t\t\t})(type);\n\t\t\t\t});\n\t\t\t\telement.addEventListener('blur', function() {\n\t\t\t\t\taction.classList.add(CLASS_HIDDEN);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.searchActionClass) {\n\t\t\t\telement.addEventListener('focus', function() {\n\t\t\t\t\telement.parentNode.classList.add('mui-active');\n\t\t\t\t});\n\t\t\t\telement.addEventListener('blur', function() {\n\t\t\t\t\tif (!element.value.trim()) {\n\t\t\t\t\t\telement.parentNode.classList.remove('mui-active');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\tInput.prototype.setPlaceholder = function(text) {\n\t\tif (this.searchActionClass) {\n\t\t\tvar placeholder = this.element.parentNode.querySelector(SELECTOR_PLACEHOLDER);\n\t\t\tplaceholder && (placeholder.getElementsByTagName('span')[1].innerText = text);\n\t\t} else {\n\t\t\tthis.element.setAttribute('placeholder', text);\n\t\t}\n\t};\n\tInput.prototype.passwordActionClick = function(event) {\n\t\tif (this.element.type === 'text') {\n\t\t\tthis.element.type = 'password';\n\t\t} else {\n\t\t\tthis.element.type = 'text';\n\t\t}\n\t\tthis.passwordAction.classList.toggle('mui-active');\n\t\tevent.preventDefault();\n\t};\n\tInput.prototype.clearActionClick = function(event) {\n\t\tvar self = this;\n\t\tself.element.value = '';\n\t\t$.focus(self.element);\n\t\tself.clearAction.classList.add(CLASS_HIDDEN);\n\t\tevent.preventDefault();\n\t};\n\tInput.prototype.speechActionClick = function(event) {\n\t\tif (window.plus) {\n\t\t\tvar self = this;\n\t\t\tvar oldValue = self.element.value;\n\t\t\tself.element.value = '';\n\t\t\tdocument.body.classList.add(CLASS_FOCUSIN);\n\t\t\tplus.speech.startRecognize({\n\t\t\t\tengine: 'iFly'\n\t\t\t}, function(s) {\n\t\t\t\tself.element.value += s;\n\t\t\t\t$.focus(self.element);\n\t\t\t\tplus.speech.stopRecognize();\n\t\t\t\t$.trigger(self.element, 'recognized', {\n\t\t\t\t\tvalue: self.element.value\n\t\t\t\t});\n\t\t\t\tif (oldValue !== self.element.value) {\n\t\t\t\t\t$.trigger(self.element, 'change');\n\t\t\t\t\t$.trigger(self.element, 'input');\n\t\t\t\t}\n\t\t\t\t// document.body.classList.remove(CLASS_FOCUSIN);\n\t\t\t}, function(e) {\n\t\t\t\tdocument.body.classList.remove(CLASS_FOCUSIN);\n\t\t\t});\n\t\t} else {\n\t\t\talert('only for 5+');\n\t\t}\n\t\tevent.preventDefault();\n\t};\n\t$.fn.input = function(options) {\n\t\tvar inputApis = [];\n\t\tthis.each(function() {\n\t\t\tvar inputApi = null;\n\t\t\tvar actions = [];\n\t\t\tvar row = findRow(this.parentNode);\n\t\t\tif (this.type === 'range' && row.classList.contains('mui-input-range')) {\n\t\t\t\tactions.push('slider');\n\t\t\t} else {\n\t\t\t\tvar classList = this.classList;\n\t\t\t\tif (classList.contains('mui-input-clear')) {\n\t\t\t\t\tactions.push('clear');\n\t\t\t\t}\n\t\t\t\tif (!($.os.android && $.os.stream) && classList.contains('mui-input-speech')) {\n\t\t\t\t\tactions.push('speech');\n\t\t\t\t}\n\t\t\t\tif (classList.contains('mui-input-password')) {\n\t\t\t\t\tactions.push('password');\n\t\t\t\t}\n\t\t\t\tif (this.type === 'search' && row.classList.contains('mui-search')) {\n\t\t\t\t\tactions.push('search');\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar id = this.getAttribute('data-input-' + actions[0]);\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\tinputApi = $.data[id] = new Input(this, {\n\t\t\t\t\tactions: actions.join(',')\n\t\t\t\t});\n\t\t\t\tfor (var i = 0, len = actions.length; i < len; i++) {\n\t\t\t\t\tthis.setAttribute('data-input-' + actions[i], id);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinputApi = $.data[id];\n\t\t\t}\n\t\t\tinputApis.push(inputApi);\n\t\t});\n\t\treturn inputApis.length === 1 ? inputApis[0] : inputApis;\n\t};\n\t$.ready(function() {\n\t\t$('.mui-input-row input').input();\n\t});\n})(mui, window, document);\n(function($, window) {\n\tvar rgbaRegex = /^rgba\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/;\n\tvar getColor = function(colorStr) {\n\t\tvar matches = colorStr.match(rgbaRegex);\n\t\tif (matches && matches.length === 5) {\n\t\t\treturn [\n\t\t\t\tmatches[1],\n\t\t\t\tmatches[2],\n\t\t\t\tmatches[3],\n\t\t\t\tmatches[4]\n\t\t\t];\n\t\t}\n\t\treturn [];\n\t};\n\tvar Transparent = function(element, options) {\n\t\tthis.element = element;\n\t\tthis.options = $.extend({\n\t\t\ttop: 0,\n\t\t\toffset: 150,\n\t\t\tduration: 16\n\t\t}, options || {});\n\t\tthis._style = this.element.style;\n\t\tthis._bgColor = this._style.backgroundColor;\n\t\tvar color = getColor(mui.getStyles(this.element, 'backgroundColor'));\n\t\tif (color.length) {\n\t\t\tthis._R = color[0];\n\t\t\tthis._G = color[1];\n\t\t\tthis._B = color[2];\n\t\t\tthis._A = color[3];\n\t\t\tthis._bufferFn = $.buffer(this.handleScroll, this.options.duration, this);\n\t\t\tthis.initEvent();\n\t\t} else {\n\t\t\tthrow new Error(\"元素背景颜色必须为RGBA\");\n\t\t}\n\t};\n\n\tTransparent.prototype.initEvent = function() {\n\t\twindow.addEventListener('scroll', this._bufferFn);\n\t\twindow.addEventListener($.EVENT_MOVE, this._bufferFn);\n\t};\n\tTransparent.prototype.handleScroll = function() {\n\t\tthis._style.backgroundColor = 'rgba(' + this._R + ',' + this._G + ',' + this._B + ',' + (window.scrollY - this.options.top) / this.options.offset + ')';\n\t};\n\tTransparent.prototype.destory = function() {\n\t\twindow.removeEventListener('scroll', this._bufferFn);\n\t\twindow.removeEventListener($.EVENT_MOVE, this._bufferFn);\n\t\tthis.element.style.backgroundColor = this._bgColor;\n\t\tthis.element.mui_plugin_transparent = null;\n\t};\n\t$.fn.transparent = function(options) {\n\t\toptions = options || {};\n\t\tvar transparentApis = [];\n\t\tthis.each(function() {\n\t\t\tvar transparentApi = this.mui_plugin_transparent;\n\t\t\tif (!transparentApi) {\n\t\t\t\tvar top = this.getAttribute('data-top');\n\t\t\t\tvar offset = this.getAttribute('data-offset');\n\t\t\t\tvar duration = this.getAttribute('data-duration');\n\t\t\t\tif (top !== null && typeof options.top === 'undefined') {\n\t\t\t\t\toptions.top = top;\n\t\t\t\t}\n\t\t\t\tif (offset !== null && typeof options.offset === 'undefined') {\n\t\t\t\t\toptions.offset = offset;\n\t\t\t\t}\n\t\t\t\tif (duration !== null && typeof options.duration === 'undefined') {\n\t\t\t\t\toptions.duration = duration;\n\t\t\t\t}\n\t\t\t\ttransparentApi = this.mui_plugin_transparent = new Transparent(this, options);\n\t\t\t}\n\t\t\ttransparentApis.push(transparentApi);\n\t\t});\n\t\treturn transparentApis.length === 1 ? transparentApis[0] : transparentApis;\n\t};\n\t$.ready(function() {\n\t\t$('.mui-bar-transparent').transparent();\n\t});\n})(mui, window);\n/**\n * 数字输入框\n * varstion 1.0.1\n * by Houfeng\n * Houfeng@DCloud.io\n */\n\n(function($) {\n\n\tvar touchSupport = ('ontouchstart' in document);\n\tvar tapEventName = touchSupport ? 'tap' : 'click';\n\tvar changeEventName = 'change';\n\tvar holderClassName = 'mui-numbox';\n\tvar plusClassSelector = '.mui-btn-numbox-plus,.mui-numbox-btn-plus';\n\tvar minusClassSelector = '.mui-btn-numbox-minus,.mui-numbox-btn-minus';\n\tvar inputClassSelector = '.mui-input-numbox,.mui-numbox-input';\n\n\tvar Numbox = $.Numbox = $.Class.extend({\n\t\t/**\n\t\t * 构造函数\n\t\t **/\n\t\tinit: function(holder, options) {\n\t\t\tvar self = this;\n\t\t\tif (!holder) {\n\t\t\t\tthrow \"构造 numbox 时缺少容器元素\";\n\t\t\t}\n\t\t\tself.holder = holder;\n\t\t\toptions = options || {};\n\t\t\toptions.step = parseInt(options.step || 1);\n\t\t\tself.options = options;\n\t\t\tself.input = $.qsa(inputClassSelector, self.holder)[0];\n\t\t\tself.plus = $.qsa(plusClassSelector, self.holder)[0];\n\t\t\tself.minus = $.qsa(minusClassSelector, self.holder)[0];\n\t\t\tself.checkValue();\n\t\t\tself.initEvent();\n\t\t},\n\t\t/**\n\t\t * 初始化事件绑定\n\t\t **/\n\t\tinitEvent: function() {\n\t\t\tvar self = this;\n\t\t\tself.plus.addEventListener(tapEventName, function(event) {\n\t\t\t\tvar val = parseInt(self.input.value) + self.options.step;\n\t\t\t\tself.input.value = val.toString();\n\t\t\t\t$.trigger(self.input, changeEventName, null);\n\t\t\t});\n\t\t\tself.minus.addEventListener(tapEventName, function(event) {\n\t\t\t\tvar val = parseInt(self.input.value) - self.options.step;\n\t\t\t\tself.input.value = val.toString();\n\t\t\t\t$.trigger(self.input, changeEventName, null);\n\t\t\t});\n\t\t\tself.input.addEventListener(changeEventName, function(event) {\n\t\t\t\tself.checkValue();\n\t\t\t\tvar val = parseInt(self.input.value);\n\t\t\t\t//触发顶层容器\n\t\t\t\t$.trigger(self.holder, changeEventName, {\n\t\t\t\t\tvalue: val\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * 获取当前值\n\t\t **/\n\t\tgetValue: function() {\n\t\t\tvar self = this;\n\t\t\treturn parseInt(self.input.value);\n\t\t},\n\t\t/**\n\t\t * 验证当前值是法合法\n\t\t **/\n\t\tcheckValue: function() {\n\t\t\tvar self = this;\n\t\t\tvar val = self.input.value;\n\t\t\tif (val == null || val == '' || isNaN(val)) {\n\t\t\t\tself.input.value = self.options.min || 0;\n\t\t\t\tself.minus.disabled = self.options.min != null;\n\t\t\t} else {\n\t\t\t\tvar val = parseInt(val);\n\t\t\t\tif (self.options.max != null && !isNaN(self.options.max) && val >= parseInt(self.options.max)) {\n\t\t\t\t\tval = self.options.max;\n\t\t\t\t\tself.plus.disabled = true;\n\t\t\t\t} else {\n\t\t\t\t\tself.plus.disabled = false;\n\t\t\t\t}\n\t\t\t\tif (self.options.min != null && !isNaN(self.options.min) && val <= parseInt(self.options.min)) {\n\t\t\t\t\tval = self.options.min;\n\t\t\t\t\tself.minus.disabled = true;\n\t\t\t\t} else {\n\t\t\t\t\tself.minus.disabled = false;\n\t\t\t\t}\n\t\t\t\tself.input.value = val;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * 更新选项\n\t\t **/\n\t\tsetOption: function(name, value) {\n\t\t\tvar self = this;\n\t\t\tself.options[name] = value;\n\t\t}\n\t});\n\n\t$.fn.numbox = function(options) {\n\t\tvar instanceArray = [];\n\t\t//遍历选择的元素\n\t\tthis.each(function(i, element) {\n\t\t\tif (element.numbox) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (options) {\n\t\t\t\telement.numbox = new Numbox(element, options);\n\t\t\t} else {\n\t\t\t\tvar optionsText = element.getAttribute('data-numbox-options');\n\t\t\t\tvar options = optionsText ? JSON.parse(optionsText) : {};\n\t\t\t\toptions.step = element.getAttribute('data-numbox-step') || options.step;\n\t\t\t\toptions.min = element.getAttribute('data-numbox-min') || options.min;\n\t\t\t\toptions.max = element.getAttribute('data-numbox-max') || options.max;\n\t\t\t\telement.numbox = new Numbox(element, options);\n\t\t\t}\n\t\t});\n\t\treturn this[0] ? this[0].numbox : null;\n\t}\n\n\t//自动处理 class='mui-locker' 的 dom\n\t$.ready(function() {\n\t\t$('.' + holderClassName).numbox();\n\t});\n\n}(mui))\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/mui.js","import Vue from 'vue';\nimport App from './app.vue';\nimport 'assets/css/mui.min.css';\nimport 'assets/css/style.css';\nVue.config.productionTip = false;\nnew Vue({\n    el: '#app',\n    render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/app.js","module.exports = global[\"enterfocus\"] = require(\"-!/Users/chenxi/work/vue/multi/new-project/node_modules/babel-loader/lib/index.js!./mui.enterfocus.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/expose-loader?enterfocus!./src/assets/js/mui.enterfocus.js\n// module id = 16\n// module chunks = 0","module.exports = global[\"mui\"] = require(\"-!/Users/chenxi/work/vue/multi/new-project/node_modules/babel-loader/lib/index.js!./mui.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/expose-loader?mui!./src/assets/js/mui.js\n// module id = 17\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/style-loader!./~/css-loader!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-52016304\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/login/app.vue\n// module id = 18\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _vm._m(0)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('header', {\n    staticClass: \"mui-bar mui-bar-nav\"\n  }, [_c('h1', {\n    staticClass: \"mui-title\"\n  }, [_vm._v(\"登录\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mui-content\"\n  }, [_c('form', {\n    staticClass: \"mui-input-group\",\n    attrs: {\n      \"id\": \"login-form\"\n    }\n  }, [_c('div', {\n    staticClass: \"mui-input-row\"\n  }, [_c('label', {\n    staticClass: \"iconuser\"\n  }, [_vm._v(\" \")]), _vm._v(\" \"), _c('input', {\n    staticClass: \"mui-input-clear mui-input\",\n    attrs: {\n      \"id\": \"account\",\n      \"type\": \"text\",\n      \"placeholder\": \"请输入手机号\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mui-input-row\"\n  }, [_c('label', {\n    staticClass: \"iconpassword\"\n  }, [_vm._v(\" \")]), _vm._v(\" \"), _c('input', {\n    staticClass: \"mui-input-clear mui-input\",\n    attrs: {\n      \"id\": \"password\",\n      \"type\": \"password\",\n      \"placeholder\": \"请输入密码\"\n    }\n  })])]), _vm._v(\" \"), _c('div', [_c('button', {\n    staticClass: \"mui-btn mui-btn-block mui-btn-cheng\",\n    attrs: {\n      \"id\": \"login\"\n    }\n  }, [_vm._v(\"登 录\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"link-area\"\n  }, [_c('a', {\n    attrs: {\n      \"id\": \"forgetPassword\"\n    }\n  }, [_vm._v(\"忘记密码\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"bottom_area\"\n  }, [_c('button', {\n    staticClass: \"mui-btn-block mui-btn-zc\",\n    attrs: {\n      \"id\": \"reg\"\n    }\n  }, [_vm._v(\"新用户注册\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"oauth-area\"\n  })])])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-52016304\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/login/app.vue\n// module id = 20\n// module chunks = 0"],"sourceRoot":""}